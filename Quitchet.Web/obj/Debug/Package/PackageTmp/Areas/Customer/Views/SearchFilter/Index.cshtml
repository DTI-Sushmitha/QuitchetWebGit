@*SearchFilterPopup Page*@
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout_Customer.cshtml";
    var UserFirstName = "";
    var UserLastName = "";
    var PkeyUserId = "0";
    var UserType_ID = "0";
    if (Request.Cookies["UseridCookie"] != null)
    {
        if (Request.Cookies["UseridCookie"].Value != null)
        {
            PkeyUserId = Request.Cookies["UseridCookie"].Value;
            if (Request.Cookies["UserFirstNameCookie"].Value != "")
            {
                UserFirstName = Request.Cookies["UserFirstNameCookie"].Value.ToString();
            }
            else
            {
                UserFirstName = "No";
            }
            if (Request.Cookies["UserTypeIDCookie"].Value != "")
            {
                UserType_ID = Request.Cookies["UserTypeIDCookie"].Value;
            }
            else
            {
                UserType_ID = "";
            }
            if (Request.Cookies["UserLastNameCookie"].Value != "")
            {
                UserLastName = Request.Cookies["UserLastNameCookie"].Value.ToString();
            }
            else
            {
                UserLastName = "Name";
            }

        }
    }
}
<style>
    .chkbx {
        margin-top: 0px;
    }

    .dropdown-menu {
        width: 100%;
    }

    #inputSchool {
        position: relative;
    }


    /* nput[type='radio']:after {
        width: 17px;
        height: 17px;
        border-radius: 15px;
        top: -2px;
        left: -1px;
        position: relative;
        background-color: #d1d3d1;
        content: '';
        display: inline-block;
        visibility: visible;
        border: 2px solid white;
    }

    input[type='radio']:checked:after {
        width: 10px;
        height: 10px;
        border-radius: 54px;
        left: 1px;
        top:0.5px;
        position: relative;
        background-color: #f56331;
        content: '';
        display: inline-block;
        visibility: visible;
        border: 2px solid #d1d3d1;
    }*/

    .glif {
        position: absolute;
        right: 36px;
        top: 30px;
    }

    checkbox-inline + .checkbox-inline, .radio-inline + .radio-inline .chk {
        margin-top: 0;
        margin-left: -4px;
    }

    #rentalclosebtn, #rentalresetbtn, #rentalApplybtn {
        width: 100%;
        text-decoration: none;
        text-align: center !important;
        padding: 5px 20px;
    }

        #rentalclosebtn:hover, #rentalresetbtn:hover, #rentalApplybtn:hover {
            color: white;
        }

    #lotsclosebtn3, #lotsresetbtn, #lotsFiltersApplyBtn {
        width: 100%;
        text-decoration: none;
        text-align: center !important;
        padding: 5px 20px;
    }

        #lotsclosebtn3:hover, #lotsresetbtn:hover, #lotsFiltersApplyBtn:hover {
            color: white;
        }

    .font {
        font-size: 13px;
    }

    leftoutput {
        padding-top: 1px !important;
        position: absolute;
        background-image: linear-gradient(top, #444444, #999999);
        width: 45px;
        height: 15px;
        text-align: center;
        color: #808080;
        background-color: #ffffff;
        border-radius: 15px;
        border: solid 0px #808080;
        display: block;
        font-size: xx-small;
        bottom: 100%;
        box-shadow: #999999 1px 1px 2px 2px;
        margin-left: -12px;
    }

    .class1 {
        color: red;
    }

    .multiselect-native-select {
    }

    .srch {
        border-color: #f1955f;
    }

    .btn-group-justified {
        display: table;
        width: 100%;
        table-layout: initial;
        border-collapse: separate;
    }

    .multiselect-selected-text {
        float: left;
    }

    .multiselect .caret {
        float: right;
        margin-top: 8px;
    }

    .btn-group {
        width: 100%;
    }

        .btn-group button {
            width: 100%;
        }

    rightoutput {
        padding-top: 1px !important;
        position: absolute;
        background-image: linear-gradient(top, #444444, #999999);
        width: 45px;
        height: 15px;
        text-align: center;
        color: #808080;
        background-color: #ffffff;
        border-radius: 15px;
        border: solid 0px #808080;
        display: block;
        font-size: xx-small;
        bottom: 100%;
        box-shadow: #999999 1px 1px 2px 2px;
        margin-left: -35px;
    }

    leftoutput:after {
        content: "";
        position: absolute;
        border-top: 10px solid #ffffff;
        border-left: 5px solid transparent;
        border-right: 5px solid transparent;
        top: 14px;
        left: 12%;
    }

    rightoutput:after {
        content: "";
        position: absolute;
        border-top: 10px solid #ffffff;
        border-left: 5px solid transparent;
        border-right: 5px solid transparent;
        top: 14px;
        right: 13%;
    }

    .icongap {
        padding-left: 25px;
    }
    /*Scroll CSS*/
    #ModelDetails::-webkit-scrollbar-track {
        -webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0.3);
        border-radius: 10px;
        background-color: #ffffff;
    }

    #ModelDetails::-webkit-scrollbar {
        width: 0.5%;
        background-color: #F5F5F5;
    }

    #ModelDetails::-webkit-scrollbar-thumb {
        border-radius: 10px;
        -webkit-box-shadow: inset 0 0 6px rgba(0,0,0,.3);
        background-color: #FF5D26;
    }

    .hidedropdown {
        display: none !important;
    }

    .show {
        display: block !important;
    }

    /* Remove Min-Height Border input Modal Popup*/
    .modal-header {
        border-bottom: 0px solid #e5e5e5;
    }
    /*//For border radius input datalist view.*/
    .RightJqueryList {
        border-radius: 5px !important;
        border-collapse: inherit !important;
    }

    .btn-group > multiselect {
        text-align: left;
        width: 100% !important;
        border-radius: 5px !important;
    }

    .ui-autocomplete {
        position: absolute;
        z-index: 1050 !important;
    }

    .ui-menu .ui-menu-item {
        BACKGROUND-COLOR: WHITE;
    }

    .rating:hover {
        text-decoration: none;
    }

    .rating:focus {
        text-decoration: none;
    }

    #tabs-demo2 > li.active > a, #tabs-demo2 > li.active > a:focus, #tabs-demo2 > li.active > a:hover {
        color: white !important;
        cursor: default;
        background-color: #FC6B3B !important;
        border: 1px solid #ddd;
        border-bottom-color: transparent;
    }

    #lottabs > li.active > a, #lottabs > li.active > a:focus, #lottabs > li.active > a:hover {
        color: white !important;
        cursor: default;
        background-color: #FC6B3B !important;
        border: 1px solid #ddd;
        border-bottom-color: transparent;
    }
    /* Auto complete Search bar style*/
    .ui-menu {
        border: 1px solid lightgray;
        font-family: 'Inder', sans-serif;
        font-size: 15px;
        width: 54px;
    }

        .ui-menu .ui-menu-item a {
            color: gray;
        }

        .ui-menu .ui-menu-item:hover {
            display: block;
            text-decoration: none;
            color: #fff;
            cursor: pointer;
            background-color: #ff5d26;
            border: 1px solid lightgray;
        }

    .ui-autocomplete-input {
        z-index: 5000 !important;
    }

    .ui-autocomplete {
        position: absolute;
        z-index: 5000 !important;
    }

    .multiselect-container > li > a > label {
        font-size: 12px !important;
    }


    input[name="noofstories"] {
        margin-top: 3px;
        margin-left: -14px !important;
    }

    input[name="masterfeatures"] {
        margin-top: 3px;
        margin-left: -14px !important;
    }

    input[name="community"] {
        margin-top: 3px;
        margin-left: -14px !important;
    }
</style>
@*Reference Files *@
<link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
<link href="http://cdn.rawgit.com/davidstutz/bootstrap-multiselect/master/dist/css/bootstrap-multiselect.css" rel="stylesheet" type="text/css" />
<script src="http://cdn.rawgit.com/davidstutz/bootstrap-multiselect/master/dist/js/bootstrap-multiselect.js" type="text/javascript"></script>
@*Style Sheets for this Index*@
<link href="~/Content/searcfilterpopups.css" rel="stylesheet" />
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
<!-- Landing tool BAr-->
<div class="search-div">
    <ul class="searchul">
        <li class="searchul-li1">
            <div class="inner-addon right-addon" style="margin-bottom: -20px;padding-left:5px;">
                @Html.TextBox("search", "", new { @class = "form-control", @placeholder = "Search MLS, City, School, etc", @type = "search", @id = "search", @style = "background-color: white !important;border-color:white;font-size:12px!important;color:#FF5D26!important;height:28px!important;margin-top:2px;" })
                <a href="#" id="btnsearch" class="btn btn-sm btn-default" style="cursor:none; height: 17px!important; border: none;padding-left:11px; background-color: white !important;padding-top: 7px;">
                    <span class="glyphicon glyphicon-search" style="color: #FF5D26 !important; margin-right: 0px; margin-top: 3px; width: 5px; top: -6px;"></span>
                    <input type="hidden" id="searchednames" name="searchednames" />
                </a>
            </div>
        </li>
        <li class="searchul-li2 searchul-li11">
            <img src="/img/icon_mybasicneeds.png" width="24" height="24" style="margin-top:-3px;" />
            <span class="titletoolsicon" style="font-size: 12px;color:white; ">My Basic Needs</span>
            <span class="togglebutton" style="float:none;margin:0px">
                <label class="switch" style="top: 6px !important; height: 18px !important;margin-bottom:0px;">
                    <input type="checkbox" id="mybasicneeds_apply">
                    <div class="slider-sm round"></div>
                </label>
            </span>
        </li>
        <li class="searchul-li3">
            <img src="/img/icon_whishlist.png" alt="" style="height: 18px; width: 17px;margin-top:-8px;" />
            <span class="titletoolsicon" style="font-size: 12px;color:white; ">My wishlist</span>
            <span class="togglebutton" style="float:none;margin:0px">
                <label class="switch" style="top: 6px !important; height: 18px !important;margin-bottom:0px;">
                    <input type="checkbox" id="mywishlist_apply">
                    <div class="slider-sm round"></div>
                </label>
            </span>
        </li>
        <li class="searchul-li4 searchul-li11">
            <div class="dropdown">
                <button type="button" class="btnProperty" onclick="OpenPropertyMenu()" id="PropertyTypes" style="height: 28px; width: 136px;">
                    <marquee behavior="sroll" scrollamount="0" onmouseover="this.stop();" onmouseout="this.start();" direction="left"><span id="PropSelected" style="float: left; font-size: 12px;">Homes</span><i class="fa fa-caret-down" aria-hidden="true" style="float:right; margin-top: -2%; padding-top: 7px;font-size:12px;"></i></marquee>
                </button>
                <div id="myPropertyDropdown" class="Property-dropdown-content" style="font-size: 11px!important;z-index:150">
                    <ul style="padding-left: 15px; padding-top: 10px; padding-right: 15px; padding-bottom: 15px;">
                        <li class="li100">
                            <div class="col-sm-12" style="padding-left: 0px; padding-right: 0px;">
                                <div class="col-sm-1" style="padding-left: 0px;">
                                    <input type="radio" name="Property" checked="checked" value="1" />
                                </div>
                                <div class="col-sm-11" style="padding-left: 0px; padding-right: 0px; width: 48px; padding-top: 3px;">
                                    <b style="color: #000000;">Homes</b>
                                </div>
                            </div>
                            <ul id="PropHomes" style="margin-left: -21px;">
                                <li>
                                    <div class="col-sm-12" style="padding-left: 2px; padding-right: 0px;">
                                        <div class="col-sm-1" style="padding-left: 2px; padding-right: 0px;">
                                            <input type="checkbox" id="PHSale" name="homeclass" data-index="For Sale" value="1" checked />
                                        </div>
                                        <div class="col-sm-10" style="padding-left: 10px; padding-right: 0px; padding-top: 4px;">
                                            For Sale
                                        </div>
                                        <div class="col-sm-1" style="padding-left: 0px; padding-right: 0px;padding-top: 5px">
                                            <img src="~/img/green_legend_Menu.png" style="height: 15px; border-radius: 50%; float: right; margin-right: 0px">
                                        </div>
                                    </div>
                                    <hr style="border: 0 ! important; border-top: 1.5px solid  #e2dddb !important; width:121%;margin-left:-23px;">
                                </li>
                                <li>
                                    <div class="col-sm-12" style="padding-left: 2px; padding-right: 0px;margin-top: -18px;">
                                        <div class="col-sm-1" style="padding-left: 2px; padding-right: 0px;">
                                            <input type="checkbox" name="homeclass" id="PHConstruct" data-index="Under Construct" value="2" />
                                        </div>
                                        <div class="col-sm-10" style="padding-left: 10px; padding-right: 0px; padding-top: 4px;">
                                            Under Contract
                                        </div>
                                        <div class="col-sm-1" style="padding-left: 0px; padding-right: 0px;padding-top: 6px;">
                                            <img src="~/img/yellow_legendMenu.png" style="height: 15px; border-radius: 50%; float: right; margin-right: 0px">
                                        </div>
                                    </div>
                                    <hr style="border: 0 ! important; border-top: 1.5px solid  #e2dddb !important;width:121%;margin-left:-23px;margin-top: 5px; ">
                                </li>
                                <li>
                                    <div class="col-sm-12" style="padding-left: 2px; padding-right: 0px;margin-top: -18px;">
                                        <div class="col-sm-1" style="padding-left: 2px; padding-right: 0px;">
                                            <input type="checkbox" name="homeclass" id="PHSold" value="3" data-index="Sold" />
                                        </div>
                                        <div class="col-sm-10" style="padding-left: 10px; padding-right: 20px; padding-top: 4px;">
                                            Sold
                                        </div>
                                        <div class="col-sm-1" style="padding-left: 0px; padding-right: 0px;padding-top: 5px">
                                            <img src="~/img/red_legendMenu.png" style="height: 15px; border-radius: 50%; float: right; margin-right: -1px;">
                                        </div>
                                    </div>
                                    <hr style="border: 0 ! important; border-top: 1.5px solid  #e2dddb !important;width:121%;margin-left:-23px;margin-top: 5px;">
                                </li>
                            </ul>
                        </li>
                        <li class="li100">
                            <div class="col-sm-12" style="padding-left: 0px; padding-right: 0px;">
                                <div class="col-sm-1" style="padding-left: 0px;">
                                    <input type="radio" name="Property" value="2" />
                                </div>
                                <div class="col-sm-8" style="padding-left: 0px; padding-right: 0px; padding-top: 3px;">
                                    <b style="color:#000000;">Rentals</b>
                                </div>
                                <div class="col-sm-1" style="padding-left: 0px; padding-right: -3px; float: right; ">
                                    <img src="~/img/gray_legendMenu.png" style="height: 15px;border-radius: 50%;margin-right: 0px">
                                </div>
                            </div>
                        </li>
                        <li class="li100">
                            <div class="col-sm-12" style="padding-left: 0px; padding-right: 1px; padding-bottom: 3px;">
                                <div class="col-sm-1" style="padding-left: 0px;">
                                    <input type="radio" name="Property" value="3" />
                                </div>
                                <div class="col-sm-10" style="padding-left: 0px; padding-right: 0px;padding-top: 3px;">
                                    <b style="color: #000000;">Lots/Lands</b>
                                </div>
                            </div>
                            <ul id="PropLotsLands" style="margin-left: -21px;">
                                <li>
                                    <div class="col-sm-12" style="padding-left: 2px; padding-right: 0px;">
                                        <div class="col-sm-1" style="padding-left: 2px; padding-right: 0px;">
                                            <input type="checkbox" id="PHSale" name="lotclass" data-index="For Sale" value="1" checked />
                                        </div>
                                        <div class="col-sm-10" style="padding-left: 10px; padding-right: 0px; padding-top: 4px;">
                                            For Sale
                                        </div>
                                        <div class="col-sm-1" style="padding-left: 0px; padding-right: 0px;padding-top: 5px">
                                            <img src="~/img/green_legend_Menu.png" style="height: 15px; border-radius: 50%; float: right; margin-right: 0px">
                                        </div>
                                    </div>
                                    <hr style="border: 0 ! important; border-top: 1.5px solid  #e2dddb !important;width:121%;margin-left:-23px;">
                                </li>
                                <li>
                                    <div class="col-sm-12" style="padding-left: 2px; padding-right: 0px;margin-top: -18px;">
                                        <div class="col-sm-1" style="padding-left: 2px; padding-right: 0px;">
                                            <input type="checkbox" name="lotclass" id="PHConstruct" data-index="Under Construct" value="2" />
                                        </div>
                                        <div class="col-sm-10" style="padding-left: 10px; padding-right: 0px; padding-top: 4px;">
                                            Under Contract
                                        </div>
                                        <div class="col-sm-1" style="padding-left: 0px; padding-right: 0px;padding-top: 6px;">
                                            <img src="~/img/yellow_legendMenu.png" style="height: 15px; border-radius: 50%; float: right; margin-right: 0px">
                                        </div>
                                    </div>
                                    <hr style="border: 0 ! important; border-top: 1.5px solid  #e2dddb !important;width:121%;margin-left:-23px;margin-top: 5px;">
                                </li>
                                <li>
                                    <div class="col-sm-12" style="padding-left: 2px; padding-right: 0px;margin-top: -18px;">
                                        <div class="col-sm-1" style="padding-left: 2px; padding-right: 0px;">
                                            <input type="checkbox" name="lotclass" id="PHSold" value="3" data-index="Sold" />
                                        </div>
                                        <div class="col-sm-10" style="padding-left: 10px; padding-right: 20px; padding-top: 4px;">
                                            Sold
                                        </div>
                                        <div class="col-sm-1" style="padding-left: 0px; padding-right: 0px;padding-top: 5px">
                                            <img src="~/img/red_legendMenu.png" style="height: 15px; border-radius: 50%; float: right; margin-right: -1px;">
                                        </div>
                                    </div>
                                    <hr style="border: 0 ! important; border-top: 1.5px solid  #e2dddb !important;width:121%;margin-left:-23px;margin-top: 5px;">
                                </li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>
        </li>
        <li class="searchul-li5">
            <button type="button" class="form-control" data-toggle="modal" data-target="#HomeModalFilters" id="searchfilters" style="text-align: left;height: 28px!important; width: 120px; font-size: 12px; padding-top: 5px;">
                <img src="~/img/Filter.png" style="top: 2px !important; left: 0px; height: 15px; width: 17px; margin-bottom: 1px;padding-right:4px;" />
                Filters
                <i class="fa fa-caret-down" aria-hidden="true" style="float:right;padding-top:3px;"></i>
            </button>
        </li>
        <li class="searchul-li7">
            <div class="dropdown btnmargintop">
                <button class="btn btn-warning dropdown-toggle sortbtnsli7" type="button" data-toggle="dropdown">
                    <span id="dropdownselected1">Sort By</span>
                    <span class="glyphicon glyphicon-menu-down arrowdown"></span>
                </button>
                <ul class="dropdown-menu dropdownlowprice">
                    <li> <a href="#" class="list-group-item sub-item sortbyactive" style="font-size: 11px; padding-left: 5px; padding-right: 10px; padding-top: 7px; padding-bottom: 7px;" onclick="GetSortBy('1',this)">Lowest Price</a></li>
                    <li><a href="#" class="list-group-item sub-item" style="font-size: 11px; padding-left: 5px; padding-right: 10px; padding-top: 7px; padding-bottom: 7px;" onclick="GetSortBy('2',this)">Highest Price</a></li>
                    <li> <a href="#" class="list-group-item sub-item" style="font-size: 11px; padding-left: 5px; padding-right: 10px; padding-top: 7px; padding-bottom: 7px;" onclick="GetSortBy('3',this)">Newest</a></li>
                    <li><a href="#" class="list-group-item sub-item" style="font-size: 11px; padding-left: 5px; padding-right: 10px; padding-top: 7px; padding-bottom: 7px;" onclick="GetSortBy('4',this)">Oldest</a></li>
                    <li> <a href="#" class="list-group-item sub-item" style="font-size: 11px; padding-left: 5px; padding-right: 10px; padding-top: 7px; padding-bottom: 7px;" onclick="GetSortBy('5',this)">Lot Size</a></li>
                    <li>   <a href="#" class="list-group-item sub-item" style="font-size: 11px; padding-left: 5px; padding-right: 10px; padding-top: 7px; padding-bottom: 7px;" onclick="GetSortBy('6',this)">Square Feet</a></li>
                </ul>
            </div>
        </li>
        <li class="searchul-li6">
            <button type="button" id="savesearchbtn" data-toggle="modal" data-target="#SaveSearchModal" class="form-control" style="background-color: #ff6937; color: white; height: 28px !important; padding-top: 0px; font-size: 12px; border: 0!important; height: 28px; padding-top: 5px;width:auto;">
                Save Search
            </button>
        </li>
    </ul>
</div>
@*Apply and Cancel Div*@
<div class="col-sm-12" id="applycanceldiv" style="background:rgba(51, 46, 46, 0.78);z-index: 1;">
    <button type="button" id="applybtn" style="border-radius: 5px;float: right;background-color: #ff6937; color: white;  padding-top: 0px; margin-top: 3px;margin-bottom:3px; font-size: 12px; border: 0!important; height: 28px;">
        Apply
    </button>
    <button type="button" id="cancelbtn" style="margin-right: 1%;border-radius: 5px;float: right;background-color: gray; color: white;  padding-top: 0px; margin-top: 3px;margin-bottom:3px; font-size: 12px; border: 0!important; height: 28px;">
        Cancel
    </button>
</div>
@*Propert Info Icons (Legends)*@
<div class="col-sm-4" style="background-color: #fff;border-radius: 3px;height: 23px;font-size: 11px;color:gray;z-index:100;margin-left: 1%;width: 350px;">
    <div style="padding-top:4px; padding-left:1%;">
        <img src="~/img/green_legend_Menu.png" style="height:10px; width:10px; border-radius:50%; margin-bottom:2px;margin-left:6px;">
        <label style="margin-left: -2px;">For Sale</label> &nbsp;
        <img src="~/img/yellow_legendMenu.png" style="height:10px; width:10px; border-radius:50%; margin-bottom:2px">
        <label style="margin-left: -2px;">Under Contract</label>&nbsp;
        <img src="~/img/red_legendMenu.png" style="height:10px; width:10px; border-radius:50%; margin-bottom:2px">
        <label style="margin-left: -2px;">Sold</label>&nbsp;
        <img src="~/img/gray_legendMenu.png" style="height:10px; width:10px; border-radius:50%; margin-bottom:2px">
        <label style="margin-left: -2px;">Rental</label>&nbsp;
        <img src="~/img/viewedicon.png" style="height:10px; width:10px; border-radius:50%; margin-bottom:2px">
        <label style="margin-left: -2px;">Viewed</label>
    </div>
</div>
@*Google Map Div Element*@
<div id="googlemaps" style="width:85%; height:87.2vh !important; position:absolute;"></div>
@*Footer for Listing View Count*@
<div class="col-sm-12" id="footer">
    <div class="col-sm-3">&nbsp;</div>
    <div class="col-sm-4">
        <label style="background:rgba(27, 3, 3, 0.78);color:white;font-size:15px;padding-left: 10px;padding-top: 5px;padding-bottom: 5px;padding-right: 10px;border-radius: 5px;">Viewing<span class="countno" id="listcount"></span> Of <span class="countno" id="Totallistcount"></span> Listings</label>
    </div>
    <div class="col-sm-4">&nbsp;</div>
</div>
@*Right side list View Div Element*@
<div id="rightdiv">
    <div class="col-sm-2" id="RightListView" style="width:226px;height:87.2vh">
    </div>
</div>
@*Collapse icon div (Arrow mark)*@
<div class="col-sm-1" id="CollDiv" style="float: right; top: 3px; width: 2%; height: 30px; padding-right: 0px; background-color: white; margin-top: 0%;">
    <span class="fa fa-angle-left" aria-hidden="true" id="Expand" style="float: right; width: 16px; font-size: 28px !important;"></span>
</div>
@*Home Filters modal popup*@
<div class="modal fade" id="HomeModalFilters" tabindex="-1" role="dialog" aria-labelledby="MessageLabel" aria-hidden="true" style="padding-left: 206px">
    <div class="modal-dialog" role="document" style="padding-top: 2%; width: 50%;">
        <div class="modal-content">
            <div class="modal-body" style="min-height: 224px;" id="export-content">
                <!--Nav Tab -->
                <ul id="tabs-demo2" class="nav nav-tabs nav-tabs-v1" role="tablist" style="border-bottom:solid 3px #f56331!important;padding-left:15px;padding-right:15px">
                    <li role="presentation" class="active" style="width:33.3%;">
                        <a href="#tabs-demo2-area1" id="tabs-demo2-1" role="tab" aria-controls="tabs-demo2-area1" data-toggle="tab" style="border-top-left-radius:10px;border-top-right-radius:10px;font-weight:bold;font-size:13px;text-align: center;"><span class="steptabsround">1</span>Basic Filters</a>
                    </li>
                    <li role="presentation" style="width:33.3%">
                        <a href="#tabs-demo2-area2" id="tabs-demo2-2" role="tab" aria-controls="tabs-demo2-area2" data-toggle="tab" style="border-top-left-radius:10px;border-top-right-radius:10px;font-weight:bold;font-size:13px;text-align: center;"><span class="steptabsround">2</span>Advanced Filters</a>
                    </li>
                    <li role="presentation" style="width:33.3%">
                        <a href="#tabs-demo2-area3" id="tabs-demo2-3" role="tab" aria-controls="tabs-demo2-area3" data-toggle="tab" style="border-top-left-radius:10px;border-top-right-radius:10px;font-weight:bold;font-size:13px;text-align: center;"><span class="steptabsround">3</span>Utilities Filters</a>
                    </li>
                </ul>
                <!--Tab Panes-->
                <div id="tabsDemo2Content" class="tab-content tab-content-v1 col-md-12">
                    <div role="tabpanel" class="tab-pane fade active in tabcontent1" id="tabs-demo2-area1">
                        <div class="col-md-12 row">
                            <label>Driving Distance</label>
                        </div>
                        <div class="row">
                            <div class="col-md-6">

                                <div class="col-sm-4">
                                    @Html.TextBox("inputMinutes", "", new
                               {
                                   @style = "height: 35px",
                                   @class = "form-control ",
                                   @placeholder = " Minutes",
                                   @id = "inputMinutes", @*@MaxLength = "2",*@ @autocomplete = false
                               })
                                </div>
                                <div class="col-sm-2 removedpaddings">
                                    <label for="inputEmail3" class="control-label">From</label>
                                </div>
                                <div class="col-sm-6 removedpaddings">
                                    @Html.TextBox("inputAddress", "", new { @class = "form-control ", @placeholder = " Address / Location…" })
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="col-sm-12" style="padding-right: 0;padding-left: 0px;">
                                    <div class="col-sm-4" style="text-align: left; padding-right: 0; padding-left: 0; font-size: xx-small">
                                        <label for="inputEmail3" class="control-label" style="width: 100%;margin-top:8px;">Property Type</label>
                                    </div>
                                    <div class="col-sm-8" style="padding-left: 0;padding-right:0; padding-bottom: 3%">
                                        @Html.DropDownList("propertytype", new List<SelectListItem>
                                            {
                                                //new SelectListItem{ Text="Any", Value = "Any" },
                                                new SelectListItem{ Text="Single Family-Detached", Value = "Single Family-Detached" },
                                                new SelectListItem{ Text="Condo/Townhouse", Value = "Condo/Townhouse-Attached" },
                                                new SelectListItem{ Text="Mobile Home", Value = "Mobile Home" },
                                                new SelectListItem{ Text="Modular", Value = "Modular" },
                                                new SelectListItem{ Text="Other", Value = "Other" },
                                             }
                                             , new { @class = "form-control", multiple = "multiple" })
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <label class="control-label spanssliderpadding" for="exampleInputEmail1" style="margin-top:0!important;">Price</label>
                                <label class="control-label" id="price" style="height: 15px!important; border: 0; color: #f6931f; font-weight: bold;" hidden></label>
                                <br /> <span class="control-label" id="homes_formatted_from_price" style="height: 15px!important; border: 0; color: #f6931f; font-weight: bold;"></span>
                                <span class="control-label" id="homes_formatted_to_price" style="float:right;height: 15px!important; border: 0; color: #f6931f; font-weight: bold;"></span>
                                <div id="slider-range" name="range-slider">
                                </div>
                            </div>
                            <div class="col-md-6">
                                <label class="control-label" for="exampleInputEmail1">Bathrooms </label>
                                <br>
                                <div class="bathbtngroup btn-group btn-group-justified" style="height: 35px" id="btns">
                                    <a href="#" data-index="Any" id="bathany" name="bathrooms" class="btn active btn-default" data-btn-class="btn mybtncls" style="border-radius: 6px 0px 0px 6px !important;">Any</a>
                                    <a href="#" data-index="1" id="bath2" name="bathrooms" class="btn btn-default" data-btn-class="btn mybtncls">1+</a>
                                    <a href="#" data-index="2" id="bath3" name="bathrooms" class="btn btn-default" data-btn-class="btn mybtncls">2+</a>
                                    <a href="#" data-index="3" id="bath4" name="bathrooms" class="btn btn-default" data-btn-class="btn mybtncls">3+</a>
                                    <a href="#" data-index="4" id="bath5" name="bathrooms" class="btn btn-default" data-btn-class="btn mybtncls">4+</a>
                                    <a href="#" data-index="5" id="bath6" name="bathrooms" class="btn btn-default" data-btn-class="btn mybtncls" style="border-radius: 0px 6px 6px 0px !important;">5+</a>
                                </div>
                            </div>
                        </div>
                        <div class="row" style="margin-top:15px !important">
                            <div class="col-md-6">
                                <label class="control-label" for="exampleInputEmail1">Bedrooms</label>
                                <br>
                                <div class="bedroombtngroup btn-group btn-group-justified" style="height: 35px">
                                    <a href="#" id="bedroomany" data-index="Any" name="bedrooms" class="btn active btn-default" data-btn-class="btn mybtncls" style="border-radius: 6px 0px 1px 6px !important;">Any</a>
                                    <a href="#" id="bedroom2" data-index="1" name="bedrooms" class="btn btn-default" data-btn-class="btn mybtncls">1+</a>
                                    <a href="#" id="bedroom3" data-index="2" name="bedrooms" class="btn btn-default" data-btn-class="btn mybtncls">2+</a>
                                    <a href="#" id="bedroom4" data-index="3" name="bedrooms" class="btn btn-default" data-btn-class="btn mybtncls">3+</a>
                                    <a href="#" id="bedroom5" data-index="4" name="bedrooms" class="btn btn-default" data-btn-class="btn mybtncls">4+</a>
                                    <a href="#" id="bedroom6" data-index="5" name="bedrooms" class="btn btn-default" data-btn-class="btn mybtncls" style="border-radius: 0px 6px 6px 0px !important;">5+</a>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <label class="control-label spanssliderpadding" for="exampleInputEmail1" style="margin-top:0!important;">Sqft</label>
                                <label class="control-label" id="sqft" style="height: 15px!important; border: 0; color: #f6931f; font-weight: bold;" hidden="hidden"></label>
                                <br /> <span class="control-label" id="homes_formatted_from_sqft" style="height: 15px!important; border: 0; color: #f6931f; font-weight: bold;"></span>
                                <span class="control-label" id="homes_formatted_to_sqft" style="float:right;height: 15px!important; border: 0; color: #f6931f; font-weight: bold;"></span>
                                <div id="slider-range2" name="range-slider2">
                                </div>
                            </div>
                        </div>
                        <hr class="hr2" />
                        <div class="row">
                            <div class="col-md-6">
                                <form role="form" class="eventInsForm">
                                    <div class="form-group">
                                        <label class="control-label" for="exampleInputEmail1">Schools</label>
                                        @Html.TextBox("inputSchool", "", new { @class = "form-control ", @placeholder = "Search for Schools…", @type = "text", @autocomplete = false })
                                        <span class="glyphicon glyphicon-search glif" style="color: lightgrey !important; margin-right: 0px; margin-top: 3px; width: 5px; "></span>
                                        <div id="SchoolSearchPopup" class="col-sm-3 rj-dropdown-content" style="display:none;overflow:hidden;margin-bottom: 20px;min-height:280px;max-height:420px;width:324px;padding-left:0!important;padding-right:0!important">
                                            <div class="modal-header" style="text-align: left;height:45px;padding-top:13px;padding-left:10px!important;padding-right:10px!important">
                                                <div class="col-md-12" style="text-align: center;padding-left:0!important;padding-right:0!important">
                                                    <div class="col-md-3" style="padding-left:0!important;padding-right:0!important">
                                                        <button type="button" id="cancel_ele_schools" class="SearchPopupButton">Cancel</button>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <label id="" style="font-weight:bold;padding-top:5px!important;font-size:15px;color:black">
                                                            Select Schools
                                                        </label>
                                                    </div>
                                                    <div class="col-md-3" style="padding-left:0!important;padding-right:0!important">
                                                        <button type="button" id="apply_ele_schools" class="SearchPopupButton">Apply</button>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-sm-12">&nbsp;</div>
                                            <div class="modal-body">
                                                <div class="row">
                                                    <div class="col-sm-12" style="padding:0px;">
                                                        <button type="button" id="elementarybtn" class="btn btn-default" style="width:100%;border-radius:5px !important; text-align:left;">
                                                            Elementary Schools
                                                            <span class="glyphicon glyphicon-triangle-bottom" id="eleicon" style="float: right;top:2px;"></span>
                                                        </button>
                                                    </div>
                                                    <div class="col-sm-12" id="elementaryschoolsdiv" style="margin-top:10px;border:1px inset rgba(0,0,0,0.3);min-height:125px!important">
                                                        <div id="elementaryschoolscheck" class="rj-dropdown-content" style="padding-left:0!important;padding-right:0!important;max-height:125px!important;overflow-y:auto;display:block;position:relative;box-shadow:0px 0px 0px 0px!important;margin-top:6px!important">
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row">&nbsp;</div>
                                                <div class="row">
                                                    <div class="col-sm-12" style="padding:0px;">
                                                        <button type="button" id="middlebtn" class="btn btn-default" style="width:100%;border-radius:5px !important; text-align:left;">
                                                            Middle Schools
                                                            <span class="glyphicon glyphicon-triangle-bottom" id="middleicon" style="float: right;top:2px;"></span>
                                                        </button>
                                                    </div>
                                                    <div class="col-sm-12" id="middleschoolsdiv" style="margin-top:10px;border:1px inset rgba(0,0,0,0.3);min-height:125px!important">
                                                        <div id="middleschoolscheck" class="rj-dropdown-content" style="padding-left:0!important;padding-right:0!important;max-height:125px!important;overflow-y:auto;display:block;position:relative;box-shadow:0px 0px 0px 0px!important;margin-top:6px!important">
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row">&nbsp;</div>
                                                <div class="row">
                                                    <div class="col-sm-12" style="padding:0px;">
                                                        <button type="button" id="highbtn" class="btn btn-default" style="width:100%;border-radius:5px !important; text-align:left;">
                                                            High Schools
                                                            <span class="glyphicon glyphicon-triangle-bottom" id="highicon" style="float: right;top:2px;"></span>
                                                        </button>
                                                    </div>
                                                    <div class="col-sm-12" id="highschoolsdiv" style="margin-top:10px;border:1px inset rgba(0,0,0,0.3);min-height:125px!important">
                                                        <div id="highschoolsChecks" class="rj-dropdown-content" style="padding-left:0!important;padding-right:0!important;max-height:125px!important;overflow-y:auto;display:block;position:relative;box-shadow:0px 0px 0px 0px!important;margin-top:6px!important">
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="modal-footer" style="text-align:center;padding:8px;">
                                                <div class="col-sm-12">
                                                    <button type="button" id="clearschools_HF" class="SearchPopupButton" style="width: 50%;display:none">Clear All</button>
                                                </div>
                                                <div class="col-sm-12" style="">
                                                    <div class="alert alert-dismissable alert-success" id="" style="padding:5px;">
                                                        <label id="" class="control-label" style="font-size:10px !important">
                                                            Schools listed are based on current Map view area and Filtered Listings
                                                        </label>
                                                    </div>
                                                </div>

                                            </div>
                                        </div>
                                    </div>
                                </form>
                            </div>
                            <div class="col-md-6">
                                <label class="control-label" for="exampleInputEmail1">Garage Type</label>
                                <br>
                                <div class="grgtypebtngroup btn-group btn-group-justified" style="height: 35px">
                                    <a href="#" id="grgany" data-index="Any" name="garagetype" class="btn active  btn-default" data-btn-class="btn mybtncls" style="border-radius: 6px 0px 0px 6px !important;">Any</a>
                                    <a href="#" id="grg2" data-index="Carport" name="garagetype" class="btn btn-default" data-btn-class="btn mybtncls">Carport</a>
                                    <a href="#" id="grg3" data-index="Garage" name="garagetype" class="btn btn-default" data-btn-class="btn mybtncls" style="border-radius: 0px 6px 6px 0px !important;">Garage</a>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <label class="control-label" for="exampleInputEmail1">Master Bedroom</label>
                                <br>
                                <div class="masterbedroombtngroup btn-group btn-group-justified" style="height: 35px;">
                                    <a href="#" id="mbedany" data-index="Any" name="masterbedrooms" class="btn active btn-default" data-btn-class="btn mybtncls" style="border-radius: 6px 0px 0px 6px !important;">Any</a>
                                    <a href="#" id="mbed2" data-index="Main Floor" name="masterbedrooms" class="btn btn-default" data-btn-class="btn mybtncls">Main Floor</a>
                                    <a href="#" id="mbed3" data-index="Second Floor" name="masterbedrooms" class="btn btn-default" data-btn-class="btn mybtncls" style="border-radius: 0px 6px 6px 0px !important;padding-left:6px">Second Floor</a>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <label class="control-label spanssliderpadding" for="exampleInputEmail1" style="margin-top:0!important">Lot Acreage</label>
                                <label class="control-label" id="lotacreage" style="height: 15px!important; border: 0; color: #f6931f; font-weight: bold;" hidden="hidden"></label>
                                <br /> <span class="control-label" id="homes_formatted_from_lotacrg" style="height: 15px!important; border: 0; color: #f6931f; font-weight: bold;"></span>
                                <span class="control-label" id="homes_formatted_to_lotacrg" style="float:right;height: 15px!important; border: 0; color: #f6931f; font-weight: bold;"></span>
                                <div id="slider-range3" name="range-slider3">
                                </div>
                            </div>
                        </div>
                        <div class="row" style="margin-top:5px !important">
                            <div class="col-md-6">
                                <label class="control-label" for="exampleInputEmail1">Number of Stories</label>
                                <br>
                                <div class="col-md-12" style="padding-left:0px;">
                                    <label class="checkbox-inline filterlabel">
                                        <input type="checkbox" data-index="Any" name="noofstories" value="Any" id="storiesany" checked />
                                        Any
                                    </label>
                                    <label class="checkbox-inline filterlabel">
                                        <input type="checkbox" data-index="1" id="stories2" name="noofstories" value="1" />
                                        1
                                    </label>
                                    <label class="checkbox-inline filterlabel">
                                        <input type="checkbox" data-index="1.5" id="stories3" name="noofstories" value="1.5" />
                                        1.5
                                    </label>
                                    <label class="checkbox-inline filterlabel">
                                        <input type="checkbox" data-index="2" id="stories4" name="noofstories" value="2" />
                                        2
                                    </label>
                                    <label class="checkbox-inline filterlabel">
                                        <input type="checkbox" data-index="Tri/Split" id="stories5" name="noofstories" value="Tri / Spli" />
                                        Tri / Split
                                    </label>
                                    <label class="checkbox-inline filterlabel">
                                        <input type="checkbox" data-index="3+" id="stories6" name="noofstories" value="3" />
                                        3+
                                    </label>
                                </div>
                            </div>
                            <form role="form" class="eventInsForm">
                                <div class="col-md-6">
                                    <label class="control-label" for="exampleInputEmail1">Subdivision</label>
                                    <br>
                                    @Html.TextBox("inputSubDivision", "", new { @class = "form-control ", @placeholder = "Search for Subdivisions…", @type = "text", @style = "height: 35px", @autocomplete = false })
                                    <span class="glyphicon glyphicon-search glif" style="color: lightgrey !important; margin-right: 0px; margin-top: 3px; width: 5px; "></span>
                                    <div class="rj-dropdown-content" style="margin-bottom: 20px;display:none;max-height:400px!important;padding-left:0!important;padding-right:0!important;width:324px;overflow:hidden" id="SubDivSearchPopup">
                                        <div class="modal-header" style="text-align: left;height:45px;padding-top:13px;padding-left:10px!important;padding-right:10px!important">
                                            <div class="col-md-12" style="text-align: center;padding-left:0!important;padding-right:0!important">
                                                <div class="col-md-3" style="padding-left:0!important;padding-right:0!important">
                                                    <button type="button" id="cancel_subdiv_dropdown" class="SearchPopupButton">Cancel</button>
                                                </div>
                                                <div class="col-md-6">
                                                    <label id="" style="font-weight:bold;padding-top:5px!important;font-size:13px">
                                                        Subdivisions
                                                    </label>
                                                </div>
                                                <div class="col-md-3" style="padding-left:0!important;padding-right:0!important">
                                                    <button type="button" id="apply_subdiv_dropdown" class="SearchPopupButton">Apply</button>
                                                </div>
                                            </div>
                                            <div class="col-sm-12">
                                                @*@Html.TextBox("inputSchool", "", new { @class = "form-control ", @placeholder = "Search for Schools…", @type = "search" })*@
                                            </div>
                                        </div>
                                        <div class="col-sm-12">&nbsp;</div>
                                        <div class="modal-body">
                                            <div class="col-sm-12" style="border:1px inset rgba(0,0,0,0.3);min-height:250px!important">
                                                <div class="rj-dropdown-content" style="padding-left:0!important;padding-right:0!important;min-height:230px!important;max-height:230px!important;overflow-y:auto;display:block;position:relative;box-shadow:0px 0px 0px 0px!important;margin-top:6px!important" id="subDivisionChecks">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="modal-footer">
                                            <div class="col-sm-12">&nbsp;</div>
                                            <div class="col-md-12" style="text-align: center;padding-left:0px!important;padding-right:0!important">
                                                <div class="alert alert-dismissable alert-success" id="" style="padding:5px;">
                                                    <label id="" class="control-label" style="font-size:12px !important">
                                                        Subdivisions listed are based on current Map view area
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <label class="control-label" for="exampleInputEmail1">Garage Capacity</label>
                                <br>
                                <div class="grgcapbtngroup btn-group btn-group-justified" style="height: 35px">
                                    <a href="#" id="grgcapany" data-index="Any" name="garagecapacity" class="btn active btn-default " data-btn-class="btn mybtncls" style="border-radius: 6px 0px 0px 6px !important;">Any</a>
                                    <a href="#" id="grgcap2" data-index="2" name="garagecapacity" class="btn btn-default" data-btn-class="btn mybtncls">2+</a>
                                    <a href="#" id="grgcap3" data-index="3" name="garagecapacity" class="btn btn-default" data-btn-class="btn mybtncls" style="border-radius: 0px 6px 6px 0px !important;">3+</a>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <label class="control-label" for="exampleInputEmail1">Age</label>
                                <br>
                                @Html.DropDownList("agetype", new List<SelectListItem>
                                            {
                                                //new SelectListItem{ Text="Any", Value = "Any" },
                                                new SelectListItem{ Text="To Be Built", Value = "To Be Built" },
                                                new SelectListItem{ Text="Under Construction", Value = "Under Construction" },
                                                new SelectListItem{ Text="New / Never Lived In", Value = "New/Never Lived In" },
                                                new SelectListItem{ Text="1-5", Value = "1-5" },
                                                new SelectListItem{ Text="6-10", Value = "6-10" },
                                                new SelectListItem{ Text="11-20", Value = "11-20" },
                                                new SelectListItem{ Text="21-30", Value = "21-30" },
                                                new SelectListItem{ Text="31-50", Value = "31-50" },
                                                new SelectListItem{ Text="50+", Value = "50+" },
                                             }, new { @class = "form-control", multiple = "multiple" })
                            </div>
                        </div>
                        <hr class="hr2" />
                    </div>
                    <div role="tabpanel" class="tab-pane fade tabcontent1" id="tabs-demo2-area2">
                        <div class="row" style="margin-top:5px !important">
                            <div class="col-sm-6 removedpaddings">

                                <label for="inputEmail3" class="control-label">Lot Features</label><br />
                                @Html.DropDownList("lotfeatures", new List<SelectListItem>
                                            {
                                                //new SelectListItem{ Text="Any", Value = "Any" },
                                                new SelectListItem{ Text="Cul-de-Sac", Value = "Cul-de-Sac" },
                                                new SelectListItem{ Text="Fenced Yard", Value = "Fenced Yard" },
                                                new SelectListItem{ Text="Mountain View", Value = "Mountain View" },
                                                 new SelectListItem{ Text="Mountain", Value = "Mountain" },
                                                new SelectListItem{ Text="On Golf Course", Value = "On Golf Course" },
                                                new SelectListItem{ Text="Sidewalk", Value = "Sidewalk" },
                                                new SelectListItem{ Text="Water Access", Value = "Water Access" },
                                                new SelectListItem{ Text="Water Front", Value = "Water Fron" },

                                             }
                                             , new { @class = "form-control", multiple = "multiple" })

                            </div>
                            <div class="col-sm-6 removedpaddings">
                                <label for="inputEmail3" class="control-label">Appliances</label><br />
                                @Html.DropDownList("appliances", new List<SelectListItem>
                                            {
                                                //new SelectListItem{ Text="Any", Value = "Any" },
                                                new SelectListItem{ Text="Cook Top - Electric", Value = "Cook Top-Electric" },
                                                new SelectListItem{ Text="Cook Top - Smooth", Value = "Cook Top - Smooth" },
                                                new SelectListItem{ Text="Gas", Value = "Gas" },
                                                 new SelectListItem{ Text="Dishwasher", Value = "Dishwasher" },
                                                new SelectListItem{ Text="Disposal", Value = "Disposal" },
                                                new SelectListItem{ Text="Double Oven", Value = "Double Oven" },
                                                new SelectListItem{ Text="Dryer", Value = "Dryer" },
                                                new SelectListItem{ Text="Refrigerator", Value = "Refrigerator" },
                                                new SelectListItem{ Text="Washer", Value = "Washer" },
                                             }
                                             , new { @class = "form-control", multiple = "multiple" })
                            </div>
                        </div>
                        <div class="row" style="margin-top:5px !important">
                            <div class="col-sm-6 removedpaddings">
                                <label for="inputEmail3" class="control-label">Foundation Type</label>
                                <br>
                                <div class="ftypebtngroup btn-group btn-group-justified" style="height: 35px">
                                    <a href="#" id="ftypeany" name="foundationtype" data-index="Any" class="btn active  btn-default" data-btn-class="btn mybtncls" style="border-radius: 6px 0px 0px 6px !important;">Any</a>
                                    <a href="#" id="ftype2" class="btn btn-default" data-index="Basement" name="foundationtype" data-btn-class="btn mybtncls">Basement</a>
                                    <a href="#" id="ftype3" class="btn btn-default" data-index="Crawl Space" name="foundationtype" data-btn-class="btn mybtncls" style="padding-left:3px">Crawl Space</a>
                                    <a href="#" id="ftype4" class="btn btn-default" data-index="Slab" name="foundationtype" data-btn-class="btn mybtncls" style="border-radius: 0px 6px 6px 0px !important;">Slab</a>
                                </div>
                            </div>
                            <div class="col-sm-6 removedpaddings">
                                <label for="inputEmail3" class="control-label">Master Features</label>
                                <div class="col-md-12" padding-left:0px;>
                                    <label class="checkbox-inline filterlabel">
                                        <input type="checkbox" data-index="Double Sink" name="masterfeatures" value="Double Sink" id="masterfeaturesany" />
                                        Double Sink
                                    </label>
                                    <label class="checkbox-inline filterlabel">
                                        <input type="checkbox" data-index="Full Bath" id="masterfeatures2" name="masterfeatures" value="Full Bath" />
                                        Full Bath
                                    </label>
                                    <label class="checkbox-inline filterlabel" style="padding-left:10px;">
                                        <input type="checkbox" data-index="Walk-In Closest" id="masterfeatures3" name="masterfeatures" value="Walk-In Closest" />
                                        Walk-In Closet
                                    </label>
                                </div>
                            </div>
                        </div>
                        <div class="row" style="margin-top:5px !important">
                            <div class="col-sm-6 removedpaddings">
                                <label for="inputEmail3" class="control-label">Exterior Features</label>
                                @Html.DropDownList("exteriorfeatures", new List<SelectListItem>
                                            {
                                                //new SelectListItem{ Text="Any", Value = "Any" },
                                                new SelectListItem{ Text="Deck", Value = "Deck" },
                                                new SelectListItem{ Text="Patio", Value = "Patio" },
                                                new SelectListItem{ Text="Handicap Access", Value = "Handicap Access" },
                                                 new SelectListItem{ Text="Outdoor Fireplace", Value = "Outdoor Fireplace" },
                                                new SelectListItem{ Text="Outdoor Kitchen", Value = "Outdoor Kitchen" },
                                                new SelectListItem{ Text="Pool - Above Ground", Value = "Pool - Above Ground" },
                                                new SelectListItem{ Text="Pool - In Ground", Value = "Pool - In Ground" },
                                                new SelectListItem{ Text="Porch - Screened", Value = "Porch - Screened" },
                                                new SelectListItem{ Text="Sprinkler In Ground - Full Yard", Value = "Sprinkler In Ground - Full Yard" },
                                                new SelectListItem{ Text="Sprinkler In Ground - Half Yard", Value = "Sprinkler In Ground - Half Yard" },
                                             }
                                             , new { @class = "form-control", multiple = "multiple" })

                            </div>
                            <div class="col-sm-6">
                                <label for="inputEmail3" class="control-label">Laundry Room</label>
                                <br>
                                <div class="lroombtngroup btn-group btn-group-justified" style="height: 35px">
                                    <a href="#" id="lroomany" name="laundryroom" data-index="Any" class="btn active btn-default" data-btn-class="btn mybtncls" style="border-radius: 6px 0px 0px 6px !important;">Any</a>
                                    <a href="#" id="lrooman2" class="btn btn-default" name="laundryroom" data-index="Walk-In Only" data-btn-class="btn mybtncls" style="border-radius: 0px 6px 6px 0px !important;">Walk-In Only</a>
                                </div>
                            </div>
                        </div>
                        <div class="row" style="margin-top:5px !important">
                            <div class="col-sm-6 removedpaddings">
                                <label for="inputEmail3" class="control-label">Interior Features</label><br />
                                @Html.DropDownList("interiorfeatures", new List<SelectListItem>
                                            {
                                                //new SelectListItem{ Text="Any", Value = "Any" },
                                                new SelectListItem{ Text="Ceiling - 9ft", Value = "Ceiling - 9ft" },
                                                new SelectListItem{ Text="Ceiling - Cathedral/Vaulted", Value = "Ceiling - Cathedral/Vaulted" },
                                                new SelectListItem{ Text="Open Floor Plan", Value = "Open Floor Plan" },
                                                 new SelectListItem{ Text="Walk-In Closet", Value = "Walk-In Closet" },
                                                new SelectListItem{ Text="Countertops - Granite", Value = "Countertops - Granite" },
                                                new SelectListItem{ Text="Countertops - Solid Surface", Value = "Countertops - Solid Surfac" },
                                                new SelectListItem{ Text="Countertops - Other", Value = "Countertops - Other" },
                                                new SelectListItem{ Text="Wet Bar", Value = "Wet Bar" },
                                                new SelectListItem{ Text="Central Vacuum", Value = "Central Vacuum" },
                                                new SelectListItem{ Text="Handicap Access", Value = "Handicap Acces" },
                                                new SelectListItem{ Text="In-Law Suite", Value = "In-Law Suite" },
                                                new SelectListItem{ Text="Intercom", Value = "Intercom" },
                                             }
                                             , new { @class = "form-control", multiple = "multiple" })
                            </div>
                            <div class="col-sm-6">
                                <label for="inputEmail3" class="control-label">Fire Place</label>
                                <br>
                                <div class="fplacebtngroup btn-group btn-group-justified" style="height: 35px">
                                    <a href="#" id="fplaceany" name="fireplace" data-index="Any" class="btn active btn-default" data-btn-class="btn mybtncls" style="border-radius: 6px 0px 0px 6px !important;">Any</a>
                                    <a href="#" id="fplace2" name="fireplace" data-index="Gas" class="btn btn-default" data-btn-class="btn mybtncls">Gas</a>
                                    <a href="#" id="fplace3" name="fireplace" data-index="Wood Burning" class="btn btn-default" data-btn-class="btn mybtncls" style="border-radius: 0px 6px 6px 0px !important;padding-left:6px">Wood Burning</a>
                                </div>
                            </div>
                        </div>
                        <div class="row" style="margin-top:5px !important">
                            <div class="col-sm-6">
                                <label for="inputEmail3" class="control-label">Flooring Type</label>
                                <br>
                                <div class="floorbtngroup btn-group btn-group-justified" style="height: 35px">
                                    <a href="#" id="floorany" name="floortype" data-index="Any" class="btn active btn-default" data-btn-class="btn mybtncls" style="border-radius: 6px 0px 0px 6px !important;">Any</a>
                                    <a href="#" id="floor2" name="floortype" data-index="Hardwood" class="btn btn-default" data-btn-class="btn mybtncls">Hardwood</a>
                                    <a href="#" id="floor3" name="floortype" data-index="Pine" class="btn btn-default" data-btn-class="btn mybtncls">Pine</a>
                                    <a href="#" id="floor4" name="floortype" data-index="Carpet" class="btn btn-default" data-btn-class="btn mybtncls" style="border-radius: 0px 6px 6px 0px !important;">Carpet</a>
                                </div>
                            </div>
                            <div class="col-sm-6">
                                <label for="inputEmail3" class="control-label">Community Amenities</label>
                                <div class="col-md-12" style="padding-left:0px;">
                                    <label class="checkbox-inline filterlabel">
                                        <input type="checkbox" data-index="Gated Community" name="community" id="communityany" value="Gated Community" />
                                        Gated Community
                                    </label>
                                    <label class="checkbox-inline filterlabel">
                                        <input type="checkbox" data-index="Pool" id="community2" name="community" value="Pool" />
                                        Pool
                                    </label>
                                    <label class="checkbox-inline filterlabel" style="padding-left:10px;">
                                        <input type="checkbox" data-index="Lawn Maintenanace" id="community3" name="community" value="Lawn Maintenanace" />
                                        Lawn Maintenance
                                    </label>
                                </div>
                            </div>
                        </div>
                        <hr class="hr2" />
                    </div>
                    <div role="tabpanel" class="tab-pane fade tabcontent1" id="tabs-demo2-area3">
                        <div class="row">
                            <div class="col-sm-6">
                                <label for="inputEmail3" class="control-label">Heating System</label>
                                <br>
                                <div class="heatsystembtngroup btn-group btn-group-justified">
                                    <a href="#" id="hsany" name="heatsystem" data-index="Any" class="btn active btn-default" data-btn-class="btn mybtncls" style="border-radius: 6px 0px 0px 6px !important;">Any</a>
                                    <a href="#" id="hs2" name="heatsystem" data-index="Gas" class="btn btn-default" data-btn-class="btn mybtncls">Gas</a>
                                    <a href="#" id="hs3" name="heatsystem" data-index="Electric" class="btn btn-default" data-btn-class="btn mybtncls" style="border-radius: 0px 6px 6px 0px !important;">Electric</a>
                                </div>
                            </div>
                            <div class="col-sm-6 removedpaddings">
                                <label for="inputEmail3" class="control-label">Water Type</label>
                                <br>
                                <div class="watertypebtngroup btn-group btn-group-justified">
                                    <a href="#" id="wtypeany" name="watertype" data-index="Any" class="btn active btn-default" data-btn-class="btn mybtncls" style="border-radius: 6px 0px 0px 6px !important;">Any</a>
                                    <a href="#" id="wtype2" name="watertype" data-index="Public" class="btn btn-default" data-btn-class="btn mybtncls">Public</a>
                                    <a href="#" id="wtype3" name="watertype" data-index="Well" class="btn btn-default" data-btn-class="btn mybtncls" style="border-radius: 0px 6px 6px 0px !important;">Well</a>
                                </div>
                            </div>
                        </div>
                        <div class="row" style="margin-top:10px !important;">
                            <div class="col-sm-6">
                                <label for="inputEmail3" class="control-label">Water Heater Type</label>
                                <br>
                                <div class="waterheaterbtngroup btn-group btn-group-justified">
                                    <a href="#" id="wheaterany" name="waterheatertype" data-index="Any" class="btn active btn-default" data-btn-class="btn mybtncls" style="border-radius: 6px 0px 0px 6px !important;">Any</a>
                                    <a href="#" id="wheater2" name="waterheatertype" data-index="Tankless" class="btn btn-default" data-btn-class="btn mybtncls">Tankless</a>
                                    <a href="#" id="wheater3" name="waterheatertype" data-index="Gas" class="btn btn-default" data-btn-class="btn mybtncls" style="border-radius: 0px 6px 6px 0px !important;">Gas</a>
                                </div>
                            </div>
                            <div class="col-sm-6">
                                <label for="inputEmail3" class="control-label">Sewer Type</label>
                                <br>
                                <div class="swerbtngroup btn-group btn-group-justified">
                                    <a href="#" id="swerany" name="sewertype" data-index="Any" class="btn active  btn-default" data-btn-class="btn mybtncls" style="border-radius: 6px 0px 0px 6px !important;">Any</a>
                                    <a href="#" id="swer2" name="sewertype" data-index="Public" class="btn btn-default" data-btn-class="btn mybtncls">Public</a>
                                    <a href="#" id="swer3" name="sewertype" data-index="Septic" class="btn btn-default" data-btn-class="btn mybtncls" style="border-radius: 0px 6px 6px 0px !important;">Septic</a>
                                </div>
                            </div>
                        </div>
                        <hr class="hr2" />
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <div class="row">
                    <div class="col-md-12">
                        <div class="alert alert-dismissable alert-success" id="summarydiv1" style="text-align: left">
                            <label id="summary1" class="control-label" style="font-size:10px !important"></label>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-3"><a href="#" class="closeorangebtn" data-dismiss="modal" id="closebtn3">Close</a></div>
                    <div class="col-md-3"></div>
                    <div class="col-md-3"><a href="#" id="resetbtn" class="graybtn">Reset</a></div>
                    <div class="col-md-3"><a href="#" id="HFiltersApplyBtn" class="closeorangebtn">Apply</a></div>
                    <div class="col-md-1"></div>
                </div>
            </div>
        </div>
    </div>
</div>
@*Rentals Filters modal popup*@
<div class="modal fade" id="RentalsModalFilters" tabindex="-1" role="dialog" aria-labelledby="MessageLabel" aria-hidden="true" style="padding-left: 206px">
    <div class="modal-dialog" role="document" style="padding-top: 2%; width: 50%;">
        <div class="modal-content">
            <div class="modal-body" style="min-height: 322px;" id="rental-content">
                <div id="rentalContent" class="tab-content tab-content-v1 col-md-12">
                    <div role="tabpanel" class="tab-pane fade active in tabcontent1" id="rental-tab">
                        <div class="row" style="padding-left: 14px;">
                            <label>Driving Distance</label>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <form class="form-horizontal" role="form">
                                    <div class="form-group">
                                        <div class="col-sm-4" style="padding-right:1px;">
                                            @Html.TextBox("rentalinputMinutes", "", new
                                       {
                                           @style = "height: 35px",
                                           @class = "form-control ",
                                           @placeholder = " Minutes",
                                           @id = "rentalinputMinutes", @*@MaxLength = "2",*@ @autocomplete = false
                                       })
                                        </div>
                                        <div class="col-sm-1"><label for="inputEmail3" class="control-label">From</label></div>
                                        <div class="col-sm-6 ">
                                            @Html.TextBox("rentalinputAddress", "", new { @class = "form-control ", @placeholder = " Address / Location…", @autocomplete = false })
                                        </div>
                                    </div>
                                </form>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group ">
                                    <div class="col-sm-4" style="text-align: left; padding-right: 0; padding-left: 0;padding-top:8px; font-size: xx-small">
                                        <label for="inputEmail3" class="control-label" style="width: 100%;">Property Type</label>
                                    </div>
                                    <div class="col-sm-8" style="padding-left: 0;padding-right:0; padding-bottom: 0%;">
                                        @Html.DropDownList("rentalpropertytype", new List<SelectListItem>
                                            {
                                                new SelectListItem{ Text="Single Family-Detached", Value = "Single Family-Detached" },
                                                new SelectListItem{ Text="Condo/Townhouse", Value = "Condo/Townhouse-Attached" },
                                                new SelectListItem{ Text="Mobile Home", Value = "Mobile Home" },
                                                new SelectListItem{ Text="Modular", Value = "Modular" },
                                                new SelectListItem{ Text="Other", Value = "Other" },
                                             }
                                             , new { @class = "form-control", multiple = "multiple" })
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <label class="control-label spanssliderpadding" for="exampleInputEmail1" style="margin-top:0!important;">Price</label>
                                <label class="control-label" id="rentalprice" style="height: 15px!important; border: 0; color: #f6931f; font-weight: bold;" hidden="hidden"></label>
                                <br /> <span class="control-label" id="rental_formatted_from_price" style="height: 15px!important; border: 0; color: #f6931f; font-weight: bold;"></span>
                                <span class="control-label" id="rental_formatted_to_price" style="float:right;height: 15px!important; border: 0; color: #f6931f; font-weight: bold;"></span>
                                <div id="rentalslider-range" name="range-rentalslider" style="margin-top: 10px;">
                                </div>
                            </div>
                            <div class="col-md-6">
                                <label class="control-label" for="exampleInputEmail1">Bathrooms </label>
                                <br>
                                <div class="rentalbathbtngroup btn-group btn-group-justified" style="height: 35px" id="rbtns">
                                    <a href="#" data-index="Any" id="rentalbathany" name="rentalbathrooms" class="btn active btn-default" data-btn-class="btn mybtncls" style="border-radius: 6px 0px 0px 6px !important;">Any</a>
                                    <a href="#" data-index="1" id="rentalbath2" name="rentalbathrooms" class="btn btn-default" data-btn-class="btn mybtncls">1+</a>
                                    <a href="#" data-index="2" id="rentalbath3" name="rentalbathrooms" class="btn btn-default" data-btn-class="btn mybtncls">2+</a>
                                    <a href="#" data-index="3" id="rentalbath4" name="rentalbathrooms" class="btn btn-default" data-btn-class="btn mybtncls">3+</a>
                                    <a href="#" data-index="4" id="rentalbath5" name="rentalbathrooms" class="btn btn-default" data-btn-class="btn mybtncls">4+</a>
                                    <a href="#" data-index="5" id="rentalbath6" name="rentalbathrooms" class=" btn btn-default" data-btn-class="btn mybtncls" style="border-radius: 0px 6px 6px 0px !important;">5+</a>
                                </div>
                            </div>
                        </div>
                        <div class="row" style="margin-top:15px !important">
                            <div class="col-md-6">
                                <label class="control-label" for="exampleInputEmail1">Bedrooms</label>
                                <br>
                                <div class="rentalbedroombtngroup btn-group btn-group-justified" style="height: 35px">
                                    <a href="#" id="rentalbedroomany" data-index="Any" name="rentalbedrooms" class="btn active btn-default" data-btn-class="btn mybtncls" style="border-radius: 6px 0px 1px 6px !important;">Any</a>
                                    <a href="#" id="rentalbedroom2" data-index="1" name="rentalbedrooms" class="btn btn-default" data-btn-class="btn mybtncls">1+</a>
                                    <a href="#" id="rentalbedroom3" data-index="2" name="rentalbedrooms" class="btn btn-default" data-btn-class="btn mybtncls">2+</a>
                                    <a href="#" id="rentalbedroom4" data-index="3" name="rentalbedrooms" class="btn btn-default" data-btn-class="btn mybtncls">3+</a>
                                    <a href="#" id="rentalbedroom5" data-index="4" name="rentalbedrooms" class="btn btn-default" data-btn-class="btn mybtncls">4+</a>
                                    <a href="#" id="rentalbedroom6" data-index="5" name="rentalbedrooms" class="btn btn-default" data-btn-class="btn mybtncls" style="border-radius: 0px 6px 6px 0px !important;">5+</a>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <label class="control-label spanssliderpadding" for="exampleInputEmail1" style="margin-top:0!important;">Sqft</label>
                                <label class="control-label" id="rentalsqft" style="height: 15px!important; border: 0; color: #f6931f; font-weight: bold;" hidden="hidden"></label>
                                <br /> <span class="control-label" id="rental_formatted_from_sqft" style="height: 15px!important; border: 0; color: #f6931f; font-weight: bold;"></span>
                                <span class="control-label" id="rental_formatted_to_sqft" style="float:right;height: 15px!important; border: 0; color: #f6931f; font-weight: bold;"></span>
                                <div id="rentalslider-range2" name="range-rentalslider2" style="margin-top:10px">
                                </div>
                            </div>
                        </div>
                        <hr class="hr2" />
                        <div class="row">
                            <div class="col-md-6">
                                <form role="form" class="eventInsForm1">
                                    <div class="form-group">
                                        <label class="control-label" for="exampleInputEmail1">Schools</label>
                                        @Html.TextBox("rentalinputSchool", "", new { @class = "form-control ", @placeholder = "Search for Schools…", @type = "text", @autocomplete = false })
                                        <div id="RentalSchoolSearchPopup" class="col-sm-3 rj-dropdown-content" style="display:none;overflow:hidden;margin-bottom: 20px;min-height:280px;max-height:420px;width:324px;padding-left:0!important;padding-right:0!important">
                                            <div class="modal-header" style="text-align: left;height:45px;padding-top:13px;padding-left:10px!important;padding-right:10px!important">
                                                <div class="col-md-12" style="text-align: center;padding-left:0!important;padding-right:0!important">
                                                    <div class="col-md-3" style="padding-left:0!important;padding-right:0!important">
                                                        <button type="button" id="rental_cancel_ele_schools" class="SearchPopupButton">Cancel</button>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <label id="" style="font-weight:bold;padding-top:5px!important;font-size:15px;color:black">
                                                            Select Schools
                                                        </label>
                                                    </div>
                                                    <div class="col-md-3" style="padding-left:0!important;padding-right:0!important">
                                                        <button type="button" id="rental_apply_ele_schools" class="SearchPopupButton">Apply</button>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-sm-12">&nbsp;</div>
                                            <div class="modal-body">
                                                <div class="row">
                                                    <div class="col-sm-12" style="padding:0px;">
                                                        <button type="button" id="rentalelementarybtn" class="btn btn-default" style="width:100%;border-radius:5px !important; text-align:left;">
                                                            Elementary Schools
                                                            <span class="glyphicon glyphicon-triangle-bottom" id="rentaleleicon" style="float: right;top:2px;"></span>
                                                        </button>
                                                    </div>
                                                    <div class="col-sm-12" id="rentalelementaryschoolsdiv" style="margin-top:10px;border:1px inset rgba(0,0,0,0.3);min-height:125px!important">
                                                        <div id="rentalelementaryschoolscheck" class="rj-dropdown-content" style="padding-left:0!important;padding-right:0!important;max-height:125px!important;overflow-y:auto;display:block;position:relative;box-shadow:0px 0px 0px 0px!important;margin-top:6px!important">
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row">&nbsp;</div>
                                                <div class="row">
                                                    <div class="col-sm-12" style="padding:0px;">
                                                        <button type="button" id="rentalmiddlebtn" class="btn btn-default" style="width:100%;border-radius:5px !important; text-align:left;">
                                                            Middle Schools
                                                            <span class="glyphicon glyphicon-triangle-bottom" id="rentalmiddleicon" style="float: right;top:2px;"></span>
                                                        </button>
                                                    </div>
                                                    <div class="col-sm-12" id="rentalmiddleschoolsdiv" style="margin-top:10px;border:1px inset rgba(0,0,0,0.3);min-height:125px!important">
                                                        <div id="rentalmiddleschoolscheck" class="rj-dropdown-content" style="padding-left:0!important;padding-right:0!important;max-height:125px!important;overflow-y:auto;display:block;position:relative;box-shadow:0px 0px 0px 0px!important;margin-top:6px!important">
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row">&nbsp;</div>
                                                <div class="row">
                                                    <div class="col-sm-12" style="padding:0px;">
                                                        <button type="button" id="rentalhighbtn" class="btn btn-default" style="width:100%;border-radius:5px !important; text-align:left;">
                                                            High Schools
                                                            <span class="glyphicon glyphicon-triangle-bottom" id="rentalhighicon" style="float: right;top:2px;"></span>
                                                        </button>
                                                    </div>
                                                    <div class="col-sm-12" id="rentalhighschoolsdiv" style="margin-top:10px;border:1px inset rgba(0,0,0,0.3);min-height:125px!important">
                                                        <div id="rentalhighschoolsChecks" class="rj-dropdown-content" style="padding-left:0!important;padding-right:0!important;max-height:125px!important;overflow-y:auto;display:block;position:relative;box-shadow:0px 0px 0px 0px!important;margin-top:6px!important">
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="modal-footer" style="text-align:center;padding:8px;">
                                                <div class="alert alert-dismissable alert-success" id="" style="padding:5px;text-align:left">
                                                    <label id="" class="control-label" style="font-size:10px !important">
                                                        Schools listed are based on current Map view area and Filtered Listings
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </form>
                            </div>
                            <div class="col-md-6">
                                <label class="control-label" for="exampleInputEmail1">Parking type</label>
                                <br>
                                <div class="rentalparkingbtngroup btn-group btn-group-justified" style="height: 35px">
                                    <a href="#" id="rentalparkingpany" data-index="Any" name="rentalparking" class="btn active btn-default " data-btn-class="btn mybtncls" style="border-radius: 6px 0px 0px 6px !important;">Any</a>
                                    <a href="#" id="rentalparking2" data-index="Carport" name="rentalparking" class="btn btn-default" data-btn-class="btn mybtncls">Carport</a>
                                    <a href="#" id="rentalparking3" data-index="Garage" name="rentalparking" class="btn btn-default" data-btn-class="btn mybtncls" style="border-radius: 0px 6px 6px 0px !important;">Garage</a>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <label class="control-label" for="exampleInputEmail1">Garage Capacity</label>
                                <br>
                                <div class="rentalgrgcapbtngroup btn-group btn-group-justified" style="height: 35px">
                                    <a href="#" id="rentalgrgcapany" data-index="Any" name="rentalgaragecapacity" class="btn active btn-default " data-btn-class="btn mybtncls" style="border-radius: 6px 0px 0px 6px !important;">Any</a>
                                    <a href="#" id="rentalgrgcap2" data-index="2" name="rentalgaragecapacity" class="btn btn-default" data-btn-class="btn mybtncls">2+</a>
                                    <a href="#" id="rentalgrgcap3" data-index="3" name="rentalgaragecapacity" class="btn btn-default" data-btn-class="btn mybtncls" style="border-radius: 0px 6px 6px 0px !important;">3+</a>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <label class="control-label" for="exampleInputEmail1">Age</label>
                                <br>
                                @Html.DropDownList("rentalagetype", new List<SelectListItem>
                                            {
                                                new SelectListItem{ Text="To Be Built", Value = "To Be Built" },
                                                new SelectListItem{ Text="Under Construction", Value = "Under Construction" },
                                                new SelectListItem{ Text="New / Never Lived In", Value = "New/Never Lived In" },
                                                new SelectListItem{ Text="1-5", Value = "1-5" },
                                                new SelectListItem{ Text="6-10", Value = "6-10" },
                                                new SelectListItem{ Text="11-20", Value = "11-20" },
                                                new SelectListItem{ Text="21-30", Value = "21-30" },
                                                new SelectListItem{ Text="31-50", Value = "31-50" },
                                                new SelectListItem{ Text="50+", Value = "50+" },
                                             }, new { @class = "form-control", multiple = "multiple" })
                            </div>
                        </div>
                        <hr class="hr2" />
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <div class="row">
                    <div class="col-md-12">
                        <div class="alert alert-dismissable alert-success" id="">
                            <label id="rentalsummary" class="control-label" style="text-align: left;font-size:10px !important"></label>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-3"><a href="#" class="closeorangebtn" data-dismiss="modal" id="rentalclosebtn">Close</a></div>
                    <div class="col-md-3"></div>
                    <div class="col-md-3"><a href="#" id="rentalresetbtn" class="graybtn">Reset</a></div>
                    <div class="col-md-3"><a href="#" class="closeorangebtn" id="rentalApplybtn">Apply</a></div>
                    <div class="col-md-1"></div>
                </div>
            </div>
        </div>
    </div>
</div>
@*Lot/Lands Filters modal popup*@
<div class="modal fade" id="LotLandsModalFilters" tabindex="-1" role="dialog" aria-labelledby="MessageLabel" aria-hidden="true" style="padding-left: 206px">
    <div class="modal-dialog" role="document" style="padding-top: 2%; width: 50%;">
        <div class="modal-content">
            <div class="modal-body" style="min-height: 150px;" id="lots-content">
                <!--Nav Tab -->
                <ul id="lottabs" class="nav nav-tabs nav-tabs-v1" role="tablist" style="border-bottom:solid 3px #f56331!important;padding-left:15px;padding-right:15px;padding-bottom:15px">
                    <li role="presentation" class="active" style="width:50%;text-align:center">
                        <a href="#tabs-demo3-area1" id="basicfiltertab" role="tab" aria-controls="tabs-demo2-area1" data-toggle="tab" style="border-top-left-radius:10px;border-top-right-radius:10px;font-weight:bold;font-size:13px"><span class="steptabsround">1</span>Basic Filters</a>
                    </li>
                    <li role="presentation" style="width:50%;text-align:center">
                        <a href="#tabs-demo3-area3" id="utilityfiltertab" role="tab" aria-controls="tabs-demo2-area3" data-toggle="tab" style="border-top-left-radius:10px;border-top-right-radius:10px;font-weight:bold;font-size:13px"><span class="steptabsround">2</span>Utilities Filters</a>
                    </li>
                </ul>
                <div class="col-sm-12">&nbsp;</div>
                <!--Tab Panes-->
                <div id="tabsDemo3Content" class="tab-content tab-content-v1 col-md-12">
                    <div role="tabpanel" class="tab-pane fade active in tabcontent1" id="tabs-demo3-area1">
                        <div class="col-md-12 row" style="padding-left: 14px;">
                            <label>Driving Distance</label>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <form class="form-horizontal" role="form">
                                    <div class="form-group">
                                        <div class="col-sm-4" style="padding:-1px;">
                                            @Html.TextBox("lotsinputMinutes", "", new { @style = "height: 35px", @class = "form-control ", @placeholder = " Minutes", @id = "lotsinputMinutes", @autocomplete = false })
                                        </div>
                                        <div class="col-sm-1 ">
                                            <label for="inputEmail3" class="control-label">From</label>
                                        </div>
                                        <div class="col-sm-6 ">
                                            @Html.TextBox("lotsinputAddress", "", new { @class = "form-control ", @placeholder = " Address / Location…" })
                                        </div>
                                    </div>
                                </form>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group ">
                                    <div class="col-sm-4" style="text-align: left; padding-right: 0; padding-left: 0; font-size: xx-small">
                                        <label for="inputEmail3" class="control-label" style="width: 100%;margin-top:8px;">Property Type</label>
                                    </div>
                                    <div class="col-sm-8" style="padding-left: 0;padding-right:0; padding-bottom: 3%">
                                        @Html.DropDownList("lotspropertytype", new List<SelectListItem>
                                            {
                                                new SelectListItem{ Text="Commercial Site", Value = "Commercial Site" },
                                                new SelectListItem{ Text="Residential Lot", Value = "Residential Lot" },
                                                new SelectListItem{ Text="Acreage", Value = "Acreage" },
                                                new SelectListItem{ Text="Other", Value = "Other" },
                                             }
                                             , new { @class = "form-control", multiple = "multiple" })
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <label class="control-label spanssliderpadding" for="exampleInputEmail1" style="margin-top:0!important;">Price</label>
                                <label class="control-label" id="lotsprice" style="height: 15px!important; border: 0; color: #f6931f; font-weight: bold;" hidden="hidden"></label>
                                <br /> <span class="control-label" id="lots_formatted_from_price" style="height: 15px!important; border: 0; color: #f6931f; font-weight: bold;"></span>
                                <span class="control-label" id="lots_formatted_to_price" style="float:right;height: 15px!important; border: 0; color: #f6931f; font-weight: bold;"></span>
                                <div id="lotsslider-range" name="range-lotsslider" style="margin-top:12px">
                                </div>
                            </div>
                            <div class="col-md-6">
                                <label class="control-label spanssliderpadding" for="exampleInputEmail1" style="margin-top:0!important;">Lot Acreage</label>
                                <label class="control-label" id="lotslotacreage" style="height: 15px!important; border: 0; color: #f6931f; font-weight: bold;" hidden="hidden"></label>
                                <br /> <span class="control-label" id="lots_formatted_from_lotsacrg" style="height: 15px!important; border: 0; color: #f6931f; font-weight: bold;"></span>
                                <span class="control-label" id="lots_formatted_to_lotsacrg" style="float:right;height: 15px!important; border: 0; color: #f6931f; font-weight: bold;"></span>
                                <div id="lotsslider-range2" name="range-lotsslider2" style="margin-top:12px">
                                </div>
                            </div>
                        </div>
                        <div class="row" style="padding-top:10px">
                            <div class="col-md-6">
                                <form role="form" class="eventInsForm2">
                                    <div class="form-group">
                                        <label class="control-label" for="exampleInputEmail1">Schools</label>
                                        @Html.TextBox("lotsinputSchool", "", new { @class = "form-control ", @placeholder = "Search for Schools…", @type = "text", @autocomplete = false })
                                        <div id="LotsSchoolSearchPopup" class="col-sm-3 rj-dropdown-content" style="display:none;overflow:hidden;margin-bottom: 20px;min-height:280px;max-height:420px;width:324px;padding-left:0!important;padding-right:0!important">
                                            <div class="modal-header" style="text-align: left;height:45px;padding-top:13px;padding-left:10px!important;padding-right:10px!important">
                                                <div class="col-md-12" style="text-align: center;padding-left:0!important;padding-right:0!important">
                                                    <div class="col-md-3" style="padding-left:0!important;padding-right:0!important">
                                                        <button type="button" id="lots_cancel_ele_schools" class="SearchPopupButton">Cancel</button>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <label id="" style="font-weight:bold;padding-top:5px!important;font-size:15px;color:black">
                                                            Select Schools
                                                        </label>
                                                    </div>
                                                    <div class="col-md-3" style="padding-left:0!important;padding-right:0!important">
                                                        <button type="button" id="lots_apply_ele_schools" class="SearchPopupButton">Apply</button>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-sm-12">&nbsp;</div>
                                            <div class="modal-body">
                                                <div class="row">
                                                    <div class="col-sm-12" style="padding:0px;">
                                                        <button type="button" id="lotselementarybtn" class="btn btn-default" style="width:100%;border-radius:5px !important; text-align:left;">
                                                            Elementary Schools
                                                            <span class="glyphicon glyphicon-triangle-bottom" id="lotseleicon" style="float: right;top:2px;"></span>
                                                        </button>
                                                    </div>
                                                    <div class="col-sm-12" id="lotselementaryschoolsdiv" style="margin-top:10px;border:1px inset rgba(0,0,0,0.3);min-height:125px!important">
                                                        <div id="lotselementaryschoolscheck" class="rj-dropdown-content" style="padding-left:0!important;padding-right:0!important;max-height:125px!important;overflow-y:auto;display:block;position:relative;box-shadow:0px 0px 0px 0px!important;margin-top:6px!important">
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row">&nbsp;</div>
                                                <div class="row">
                                                    <div class="col-sm-12" style="padding:0px;">
                                                        <button type="button" id="lotsmiddlebtn" class="btn btn-default" style="width:100%;border-radius:5px !important; text-align:left;">
                                                            Middle Schools
                                                            <span class="glyphicon glyphicon-triangle-bottom" id="lotsmiddleicon" style="float: right;top:2px;"></span>
                                                        </button>
                                                    </div>
                                                    <div class="col-sm-12" id="lotsmiddleschoolsdiv" style="margin-top:10px;border:1px inset rgba(0,0,0,0.3);min-height:125px!important">
                                                        <div id="lotsmiddleschoolscheck" class="rj-dropdown-content" style="padding-left:0!important;padding-right:0!important;max-height:125px!important;overflow-y:auto;display:block;position:relative;box-shadow:0px 0px 0px 0px!important;margin-top:6px!important">
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row">&nbsp;</div>
                                                <div class="row">
                                                    <div class="col-sm-12" style="padding:0px;">
                                                        <button type="button" id="lotshighbtn" class="btn btn-default" style="width:100%;border-radius:5px !important; text-align:left;">
                                                            High Schools
                                                            <span class="glyphicon glyphicon-triangle-bottom" id="lotshighicon" style="float: right;top:2px;"></span>
                                                        </button>
                                                    </div>
                                                    <div class="col-sm-12" id="lotshighschoolsdiv" style="margin-top:10px;border:1px inset rgba(0,0,0,0.3);min-height:125px!important">
                                                        <div id="lotshighschoolsChecks" class="rj-dropdown-content" style="padding-left:0!important;padding-right:0!important;max-height:125px!important;overflow-y:auto;display:block;position:relative;box-shadow:0px 0px 0px 0px!important;margin-top:6px!important">
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="modal-footer" style="text-align:center;padding:8px;">
                                                <div class="alert alert-dismissable alert-success" id="" style="padding:5px;">
                                                    <label id="" class="control-label" style="font-size:10px !important">
                                                        Schools listed are based on current Map view area and Filtered Listings
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </form>
                            </div>
                            <div class="col-md-6">
                                <form role="form" class="eventInsForm3">
                                    <label class="control-label" for="exampleInputEmail1">SubDivision</label>
                                    <br>
                                    @Html.TextBox("lotsinputSubDivision", "", new { @class = "form-control ", @placeholder = "Search for Subdivisions…", @type = "text", @style = "height: 35px", @autocomplete = false })
                                    <div class="rj-dropdown-content" style="margin-bottom: 20px;display:none;max-height:400px!important;padding-left:0!important;padding-right:0!important;width:324px;overflow:hidden" id="Lots_SubDivSearchPopup">
                                        <div class="modal-header" style="text-align: left;height:45px;padding-top:13px;padding-left:10px!important;padding-right:10px!important">
                                            <div class="col-md-12" style="text-align: center;padding-left:0!important;padding-right:0!important">
                                                <div class="col-md-3" style="padding-left:0!important;padding-right:0!important">
                                                    <button type="button" id="Lots_cancel_subdiv_dropdown" class="SearchPopupButton">Cancel</button>
                                                </div>
                                                <div class="col-md-6">
                                                    <label id="" style="font-weight:bold;padding-top:5px!important;font-size:13px">
                                                        Subdivisions
                                                    </label>
                                                </div>
                                                <div class="col-md-3" style="padding-left:0!important;padding-right:0!important">
                                                    <button type="button" id="Lots_apply_subdiv_dropdown" class="SearchPopupButton">Apply</button>
                                                </div>
                                            </div>
                                            <div class="col-sm-12">
                                                @*@Html.TextBox("inputSchool", "", new { @class = "form-control ", @placeholder = "Search for Schools…", @type = "search" })*@
                                            </div>
                                        </div>
                                        <div class="col-sm-12">&nbsp;</div>
                                        <div class="modal-body">
                                            <div class="col-sm-12" style="border:1px inset rgba(0,0,0,0.3);min-height:250px!important">
                                                <div class="rj-dropdown-content" style="padding-left:0!important;padding-right:0!important;min-height:230px!important;max-height:230px!important;overflow-y:auto;display:block;position:relative;box-shadow:0px 0px 0px 0px!important;margin-top:6px!important" id="Lots_subDivisionChecks">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="modal-footer">
                                            <div class="col-sm-12">&nbsp;</div>
                                            <div class="col-md-12" style="text-align: center;padding-left:0px!important;padding-right:0!important">
                                                <div class="alert alert-dismissable alert-success" id="" style="padding:5px;">
                                                    <label id="" class="control-label" style="font-size:12px !important">
                                                        Subdivisions listed are based on current Map view area
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <label for="inputEmail3" class="control-label">Lot Features</label><br />
                                @Html.DropDownList("lotslotfeatures", new List<SelectListItem>
                                            {
                                                new SelectListItem{ Text="Cul-de-Sac", Value = "Cul-de-Sac" },
                                                new SelectListItem{ Text="Fenced Yard", Value = "Fenced Yard" },
                                                new SelectListItem{ Text="Mountain View", Value = "Mountain View" },
                                                 new SelectListItem{ Text="Mountain", Value = "Mountain" },
                                                new SelectListItem{ Text="On Golf Course", Value = "On Golf Course" },
                                                new SelectListItem{ Text="Sidewalk", Value = "Sidewalk" },
                                                new SelectListItem{ Text="Water Access", Value = "Water Access" },
                                                new SelectListItem{ Text="Water Front", Value = "Water Fron" },
                                             }
                                             , new { @class = "form-control", multiple = "multiple" })
                            </div>
                            <div class="col-md-6">
                            </div>
                        </div>
                        <hr class="hr2" />
                    </div>
                    <div role="tabpanel" class="tab-pane fade tabcontent1" id="tabs-demo3-area3">
                        <div class="row">
                            <div class="col-sm-6 removedpaddings">
                                <label for="inputEmail3" class="control-label">Water Type</label>
                                <br>
                                <div class="lotswatertypebtngroup btn-group btn-group-justified">
                                    <a href="#" id="lotswtypeany" name="lotswatertype" data-index="Any" class="btn active btn-default" data-btn-class="btn mybtncls" style="border-radius: 6px 0px 0px 6px !important;">Any</a>
                                    <a href="#" id="lotswtype2" name="lotswatertype" data-index="Public" class="btn btn-default" data-btn-class="btn mybtncls">Public</a>
                                    <a href="#" id="lotswtype3" name="lotswatertype" data-index="Well" class="btn btn-default" data-btn-class="btn mybtncls" style="border-radius: 0px 6px 6px 0px !important;">Well</a>
                                </div>
                            </div>
                            <div class="col-sm-6">
                                <label for="inputEmail3" class="control-label">Sewer Type</label>
                                <br>
                                <div class="lotsswerbtngroup btn-group btn-group-justified">
                                    <a href="#" id="lotsswerany" name="lotssewertype" data-index="Any" class="btn active btn-default" data-btn-class="btn mybtncls" style="border-radius: 6px 0px 0px 6px !important;">Any</a>
                                    <a href="#" id="lotsswer2" name="lotssewertype" data-index="Public" class="btn btn-default" data-btn-class="btn mybtncls">Public</a>
                                    <a href="#" id="lotsswer3" name="lotssewertype" data-index="Septic" class="btn btn-default" data-btn-class="btn mybtncls" style="border-radius: 0px 6px 6px 0px !important;">Septic</a>
                                </div>
                            </div>
                        </div>
                        <hr class="hr2" />
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <div class="row">
                    <div class="col-md-12">
                        <div class="alert alert-dismissable alert-success" id="lotssummarydiv1" style="text-align: left">
                            <label id="lotssummary" class="control-label" style="font-size:10px !important"></label>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-3"><a href="#" class="closeorangebtn" data-dismiss="modal" id="lotsclosebtn3">Close</a></div>
                    <div class="col-md-3"></div>
                    <div class="col-md-3"><a href="#" id="lotsresetbtn" class="graybtn">Reset</a></div>
                    <div class="col-md-3"><a href="#" id="lotsFiltersApplyBtn" class="closeorangebtn">Apply</a></div>
                </div>
            </div>
        </div>
    </div>
</div>
@*Save Search modal popup*@
<div class="modal fade" id="SaveSearchModal" tabindex="-1" role="dialog" aria-labelledby="MessageLabel" aria-hidden="true" style="padding-left: 206px">
    <div class="modal-dialog" role="document" style="padding-top: 2%; width: 30%">
        <div class="modal-content">
            <div class="modal-header" style="text-align: center;padding-bottom:0px;">
                <h3 style="color: #FF6937; margin-top: 0px">Save Search</h3>
                <hr style="border: 0 ! important; border-top: 1.5px solid  #FF6937 !important;" />
            </div>
            <div class="modal-body" style="min-height: 200px;padding-top:0px;margin-top:-14px;">
                <label for="inputEmail3" class="font" style="width: 100%;">Name this Search:</label>
                @Html.TextBox("searchname", "", new { @class = "form-control srch", @autocomplete = false })
                <div id="msg"><span id="errmsg" style="color: red; font-size: 10px"></span></div>
                <div>&nbsp;</div>
                <label for="inputEmail3" class="font" style="width: 100%;">Filter summary:</label>
                <div class="col-md-12" id="SummaryDiv" style="text-align: center; background-color: #f7d6cc; color: #FF6937; overflow: auto; border-radius: 5px; height: 91px; overflow-y: auto; overflow-x: hidden;padding-top:15px;padding-bottom:15px;text-align:justify">
                    <label class="control-label" for="exampleInputEmail1" id="summarycontent">
                    </label>
                </div>
                <div class="col-sm-12">
                    <div class="col-sm-2">
                        @*<label for="inputEmail3" class="font" style="width: 100%;padding-top:10px!important">*@Cities: @*</label>*@
                        @*<hr style="padding-top:0px!important;padding-bottom:0px!important;margin-top:0px;margin-bottom:5px" />*@
                    </div>
                    <div class="col-sm-10" style="padding:0px;">
                        <label class="control-label " style="text-align: left;word-wrap: break-word;" for="exampleInputEmail1" id="citieslist"></label>
                    </div>
                </div>
                <div class="col-sm-12">
                    <hr style="padding-top:0px!important;padding-bottom:0px!important;margin-top:5px;margin-bottom:10px" />
                </div>
                <hr class="hr2" />
            </div>
            <div class="modal-footer">
                <div class="col-sm-6">
                    <div class=""><a href="#" class="btn" data-dismiss="modal" id="cancelsavebtn" style="width: 100%; border-radius: 5px !important; background-color: gray; color: white; font-weight: 500; font-size: 15px;">Cancel</a></div>
                </div>
                <div class="col-sm-6">
                    <div class=""><a href="#" class="btn" id="savesearch" style="width: 100%; border-radius: 5px !important; background-color: #FF6937; color: white; font-weight: 500; font-size: 15px; margin-top: 0px; margin-left: 2px">Save</a></div>
                </div>
            </div>
        </div>
    </div>
</div>
@*Map Icons Div*@
<div class="iconsdiv btn-group" id="over_map" data-toggle="buttons" style="margin-right: -22%;margin-top:12%;">
    <img src="~/img/Zoom_In_Normal.png" id="zoomInButton" style="cursor:pointer;margin-top: 4px; margin-left: -2px; height: 33px;">
    <img src="~/img/ZoomOut_Normal.png" id="zoomOutButton" style="cursor:pointer;margin-top: -2px; margin-left: -2px; height: 33px;">
    <hr style="margin-top: 8% !important;border-top: 0.77px solid ;" />
    <label id="drawpoly" class="btn btn-sm" style="padding-left: 4px; background-color: grey; border: none; margin-top: -10px">
        <img src="~/img/DrawTool_Normal-1.png" style="height: 30px !important; width: 29px !important; margin-left: -4px;">
    </label>
    <label id="mylocation" class="btn btn-sm" style="padding-left: 4px; background-color: grey; border: none;">
        <input type="radio" id="myloc">
        <img src="~/img/MapTool_Normal-1.png" class="Img_Map_Over" style="height: 30px !important; width: 29px !important; margin-left: -4px;">
    </label>
    <hr style="margin-top: 88px; margin-bottom: 4px;border-top: 1px solid ;" />
    <div class="header-menu-list">
        <div class="btn-expand">
            <img src="/img/MapLayers_Normal-1.png" style="height: 30px !important; width: 29px !important; margin-left: 4px; margin-top: 0px;">
        </div>
        <div class="collapsible">
            <a href="#" id="mapview">
                <img src="~/img/map2.png" id="map" style="margin-bottom:0" />
            </a>
            <a href="#" id="satview">
                <img src="~/img/sat.png" id="sat" style="margin-bottom:0" />
            </a>
        </div>
    </div>
</div>
@*//Remove Favourite Pop up in listview*@
<div class="modal fade" id="RemoveFavorite" tabindex="-1" role="dialog" aria-labelledby="MessageLabel" aria-hidden="true" style="padding-left:206px">
    <div class="modal-dialog" role="document" style="padding-top:18%;width:23%;">
        <div class="modal-content">
            <div class="modal-body" style="text-align:center;height:226px!important">
                <img src="~/img/heartmi.png" style="height:30px!important;width: 29px !important;margin-top:10px!important;border-color:orangered;">
                <h4 style="text-align:center;color:#f56331; line-height: 30px; margin-top:10px">Remove From Favorites</h4>
                <p>Are you sure you want to remove <br />this listing from your Favorites?</p>
                <div class="col-sm-12">&nbsp;</div>
                <button type="button" id="btnNotRemoveFavorite" class="btn btn-sm" data-dismiss="modal" style="background-color:rgba(0,0,0,0.3); color:white; width:120px;height:32px!important; border-radius:5px !important">No</button>
                <button type="button" id="btnYesRemoveFavorite" class="btn btn-sm" data-dismiss="modal" style="background-color:#ff5d26; color:white; width:120px;height:32px!important; border-radius:5px !important">Yes</button>
                <div class="col-sm-12" style="padding-bottom:10px!important">&nbsp;</div>
            </div>
        </div>
    </div>
</div>
@*Removefavorites in properties popup*@
<div class="modal fade" id="prptdetails_RemoveFavorite" tabindex="-1" role="dialog" aria-labelledby="MessageLabel" aria-hidden="true" style="padding-left: 206px">
    <div class="modal-dialog" role="document" style="padding-top: 18%; width: 25%;">
        <div class="modal-content">
            <div class="modal-body" style="text-align: center; height: 234px!important">
                <img src="~/img/hearticolist.png" style="height: 30px!important; width: 29px !important; margin-top: 10px!important;">
                <h4 style="text-align: center; color: #f56331; line-height: 30px; margin-top: 10px">Remove From Favorites</h4>
                <p>
                    Are you sure you want to remove
                    <br />
                    this listing from your Favorites?
                </p>
                <div class="col-sm-12">&nbsp;</div>
                <button type="button" id="btn_prptdetails_NotRemoveFavorite" class="btn btn-sm" data-dismiss="modal" style="background-color: rgba(0,0,0,0.3); color: white; width: 120px; height: 32px!important; border-radius: 5px !important">No</button>
                <button type="button" id="btn_prptdetails_YesRemoveFavorite" class="btn btn-sm" data-dismiss="modal" style="background-color: #ff5d26; color: white; width: 120px; height: 32px!important; border-radius: 5px !important">Yes</button>
                <div class="col-sm-12" style="padding-bottom: 10px!important">&nbsp;</div>
            </div>
        </div>
    </div>
</div>
@*Save Search Alert Popup for global*@
<div class="modal fade" id="SaveSearchAlertPopup" tabindex="-1" role="dialog" aria-labelledby="MessageLabel" aria-hidden="true" style="padding-left: 206px">
    <div class="modal-dialog" role="document" style="padding-top: 15%; width: 25%">
        <div class="modal-content">
            <div class="modal-header" style="text-align: center;color:#ff6937;height:45px;padding-top:13px;padding-left:10px!important;padding-right:10px!important">
                <label id="" style="font-weight:bold">
                    <img src="/img/checkmar_savedPopup.png" style="margin-bottom:4px!important" /> &nbsp;&nbsp;<b>Save Search Successful</b>
                </label>
                <hr style="width:100%;color:#ff6937;border: 1.2px solid;margin-top:7px;" />
            </div>
            <div class="col-sm-12">&nbsp;</div>
            <div class="modal-body">
                <div class="col-md-12" style="text-align: center;padding-top:22px!important">
                    <label id="" style="word-wrap: break-word;">
                        Your search has been saved successfully!
                    </label>
                </div>
                <div class="col-sm-12">&nbsp;</div>
                <div class="modal-footer">
                    <div class="col-md-12" style="text-align: center">
                        <button type="button" id="SavealertOKbtn" data-dismiss="modal" class="btn btn-primary closeorangebtn" style="width: 75%;border-radius: 2px 2px 2px 2px  !important; background-color: #ff6937!important; color: white;font-size: 15px;">OK</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<style>
    .pac-logo {
    }
</style>
<script src="~/js/Slider-Common_Functions.js"></script>
@*Ready event and Filter values assigning and apply filters Reset filters and sliders script,share and place auto complete*@
<script type="text/javascript">
    var timer;
    var isMLSsearch='false';
    //loading places from google api call
    google.maps.event.addDomListener(window, 'load', function () {
        var places = new google.maps.places.Autocomplete(document.getElementById('inputAddress'));
        var places = new google.maps.places.Autocomplete(document.getElementById('rentalinputAddress'));
        var places = new google.maps.places.Autocomplete(document.getElementById('lotsinputAddress'));
    });
    var sortbyid="1",Geolat = "",Geolang = "", MLS_ID='';
    //Property Type Drop Down Menu Script
    function OpenPropertyMenu()
    {
        if($('#myPropertyDropdown').hasClass('show'))
        {
            var value = $("input[name$='Property']:checked").val();
            if (value == 1) {
                $("#HFiltersApplyBtn")[0].click();
            }
            else if (value == 2) {
                $("#rentalApplybtn")[0].click();
            }
            else if (value == 3) {
                $("#lotsFiltersApplyBtn")[0].click();
            }
        }
        document.getElementById("myPropertyDropdown").classList.toggle("show");
    }
    //to close property collapse div on out click
    $(document).on('click', function(event) {
        if (!$(event.target).hasClass('btnProperty')) {
            if ($('#myPropertyDropdown').hasClass('show')) {
                $('#myPropertyDropdown').removeClass('hidedropdown').addClass('show');
            }
            else
            {
                $('#myPropertyDropdown').removeClass('show').addClass('hidedropdown');
            }
        }
    });
    /* When the user clicks on the button,
toggle between hiding and showing the dropdown content */
    function myFunction() {
        document.getElementById("myDropdown").classList.toggle("show");
    }
    // Close the dropdown menu if the user clicks outside of it
    $(document).on('click', function(event) {
        if (!$(event.target).hasClass('dropbtn')) {
            $('#myDropdown').removeClass('show').addClass('hidedropdown');
        }
    });
    //TO Search on Enter Key
    $(document).keyup(function (e)
    {
        if (e.keyCode == 13) {
            searched=true
            if(searched==true){
                submitSimpleSearch();
                searched=false
            }
            $('.pac-container').hide();
        }
    });
    //search button keyup function in searchfilter for google autocomplete
    var times=0,searched=false;
  //  var autocomplete12;
    $("#search").on("keyup",function (e) {
        var places12 = document.getElementById('search');
        var search = $('#search').val();
        if (search.substring(0,1)=="#") {
            $('.pac-container').hide();
            google.maps.event.clearInstanceListeners(places12);
            $(function () {
                $("#search").autocomplete({
                    source: function (request, response) {
                        Method = "AgentSearchMLSIDGet?MLSID=";
                        $.ajax({
                            url: '/Agent/AgentShowings/AddListingBySearch',
                            data: { SearchEle: request.term, Method: Method },
                            dataType: "json",
                            type: "GET",
                            contentType: "application/json; charset=utf-8",
                            success: function (data) {
                                //if (data.length <= 0) {
                                //}
                                //else {
                                response($.map(data, function (item) {
                                    return { label: "#"+item.MLSNO, value: "#"+item.MLSNO};
                                }))
                                // }
                            },
                            error: function (response) {
                                alert(response.responseText);
                            },
                            failure: function (response) {
                                alert(response.responseText);
                            }
                        });
                    },
                    select: function (e, i) {
                        searched=true
                        $('#search').val(i.item.value);
                        $('#btnsearch')[0].click();
                    },
                    minLength: 2,
                    dataType: "json",
                    cache: false
                });
            });//Auto Complete for MLSID from RETS to be search Listing
        }
        else if(search.substring(0,1)!="#"){
            searched=true
             var autocomplete12 = new google.maps.places.Autocomplete(places12);
            autocomplete12.setComponentRestrictions({ 'country': 'us' });
            autocomplete12.addListener('place_changed', function(){
                // times=0;
                
                var place = autocomplete12.getPlace();
                var address = place.formatted_address;
                
                codeAddress(address)
            });
        }
    });

    function codeAddress(address)
    {
        console.log("api address "+address)
       // times=1;
        geocoder = new google.maps.Geocoder();
        geocoder.geocode( {address:address}, function(results, status)
        {
            if (status == google.maps.GeocoderStatus.OK)
            {
                try{
                 //   if(times==1){
                    console.log(results[0].formatted_address)
                        $('#search').val(results[0].formatted_address);
                        $('.pac-container').hide();
                       $("#btnsearch").click();
                   // }
                   // times=times+1;
                }
                catch(Ex){
                    //  alert('Geocode was not successful for the following reason: ' + status);
                }
                finally{
                    $('.pac-container').hide();
                }
            } else {
                // alert('Geocode was not successful for the following reason: ' + status);
            }
        });
    }
    //Search Button Click Event
    $("#btnsearch").off('click', function (e){}).on('click', function (e) {
        debugger
        e.stopPropagation();
        if(searched==true)
            submitSimpleSearch()
    });
    function submitSimpleSearch(){
        searched=false;
        PrvCount =0,tempData=[];
        var s=$("#search").val();
        if(s.substring(0,1)=="#")
        {
            isMLSsearch='true'
            s=s.substring(1);
            setTimeout(function(){GetListingsbySearch_Zoom_Drag_on_Boundaries(s, sorybyid,zoomlevel,bondarypath,'')},0);
        }
            //else ( $("#search").val().length>0)
        else {
         
            //  if(s.indexOf(',')>-1)
            // {
            isMLSsearch='false'
            //s=s.split(',')[0];
            s=s;
            getLat_Longs(s);
            setTimeout(load,1300);
            setTimeout(function(){GetListingsbySearch_Zoom_Drag_on_Boundaries(s, sorybyid,zoomlevel,bondarypath,'')},2500);
            //  }
          
            //else{
            //    isMLSsearch='false'
            //    s=$("#search").val();
            //    setTimeout(load,1200);
            //    setTimeout(function(){GetListingsbySearch_Zoom_Drag_on_Boundaries(s, sorybyid,zoomlevel,bondarypath,'')},2000);
            //}

            $("#search").val(s);
        }
        //s
    }
    var sorybyid="1";
    //To bind the Last Search DAta
    function getlastsearchdata()
    {
        $.ajax({
            url: "/Customer/SearchFilter/getSavedSearchElements",
            type: "POST",
            dataType: "json",
            success: function (data) {
                if(data.length<=0)
                {
                    isSimpleSearch="false"
                    setTimeout(Reinits,1500)
                }
                else
                {   if(data.length==1)
                    isSimpleSearch="true"
                    $("#search").val(data[0].Search);
                    getLat_Longs(data[0].Search);
                    if(data[0].Search.indexOf(',')>-1)
                        isMLSsearch='false';
                    else
                        isMLSsearch='true';
                    setTimeout(load,1500)
                    setTimeout(function(){GetListingsbySearch_Zoom_Drag_on_Boundaries(data[0].Search,sorybyid,zoomlevel,bondarypath,'')},2200);;
                }
            },
            error:function(){
                initialMapload();
            }
        });
    }
    var s="",class_type="";//for get values from url when searched from landing page

    //Start :Variables Declaration for summary which stores text data of cotrols of Home Filters
    var summary = ""; var filtertype, calsstype; var homefilterobj;var lotsfilterobj; var rentalfilterobj;
    var citynameslists="",countprop="0";
    var minutestext = null, addresstext = "", propertytext = "Any", pricetext = "0-10000000", bathroomstext = "Any", bedroomstext = "Any", sqfttext = "0-7000", schooltext = "", garagetext = "Any";
    var masterbedroomtext = "Any", lotacreagetext = "0-50", storiestext = "Any", subdivtext = "", garagecaptext = "Any", agetext = "Any";

    var lotfeaturestext = "Any", appliancestext = "Any", foundationtypetext = "Any", masterfeaturetext = "Any", extfeaturestext = "Any";
    var laundrytext = "Any", intfeaturestext = "Any", fireplacetext = "Any", flooringtext = "Any", communitytext = "Any";

    var heatsystemtext = "Any", watertext = "Any", heatertypetext = "Any", sewertext = "Any";

    //variable assign to show values in summary div
    summary = minutestext + "," + addresstext + "," + propertytext + "," + pricetext + "," + bathroomstext + "," + bedroomstext + "," + sqfttext + "," + schooltext + "," + garagetext + "," + masterbedroomtext + "," + lotacreagetext + "," + storiestext;
    summary = summary + "," + subdivtext + "," + garagecaptext + "," + agetext;

    summary = summary + "," + lotfeaturestext + "," + appliancestext + "," + foundationtypetext + "," + masterfeaturetext + "," + extfeaturestext + "," + laundrytext;
    summary = summary + "," + intfeaturestext + "," + fireplacetext + "," + flooringtext + "," + communitytext;

    summary = summary + "," + heatsystemtext + "," + watertext + "," + heatertypetext + "," + sewertext;

    //Variable to pass id values to Controller of controls
    var hbedrooms = "Any",hbathrooms="Any", hlotfeatures = "Any", happliances = "Any", hmasterbedrooms = "Any", hgrgcapacity = "Any", hfoundatation = "Any", hlaundry = "Any", hfire = "Any", hfloor = "Any", hheatsys = "Any", hwatertype = "Any", hwaterheater = "Any", hsewer = "Any";
    var hexteriorfeatures = "Any", hproperty = "Any", hagetype = "Any", hgrgtype = "Any", hinteriorfeatures = "Any",garagecaptext="Any", hnoofstories = [], hmasterfeatures = [], hcommunity = [];
    //=End : Home Filters Variable Declarations

    //Start :--- Rental Filters VAriables Declaration for object and summary--//
    var rentalsummary = "", rminutestext = null, raddresstext = "", rpropertytext = "Any", rpricetext = "0-10000000";
    var rbathroomstext = "Any", rbedroomstext = "Any", rsqfttext = "0-7000", rschooltext = "", rparkingtext = "Any";
    var rgaragecaptext = "Any", ragetext = "Any", parkingtext = "Any";
    rentalsummary = rminutestext + "," + raddresstext + "," + rpropertytext + "," + rpricetext + "," + rbathroomstext + "," + rbedroomstext + "," + rsqfttext + "," + rschooltext;
    rentalsummary = rentalsummary + "," + parkingtext + "," + rgaragecaptext + "," + ragetext;

    var rproperty = "Any", rbathrooms = "Any", rbedrooms = "Any", rparking = "Any", rgaragecap = "Any", rage = "Any";
    //End : Rental Filters Variables Declarationd-----..//

    //Start : ---- Lot/Lands VAriables Declaration for Object and summary--//
    var lotssummary = "", lminutetext = null, laddresstext = "", lpropertytext = "Any", lpricetext = "0-10000000", llotacreagetext = "0-50";
    var lschooltext = "", lsubdivtext = "", llotfeaturestext = "Any", lwatertext = "Any", lsewerText = "Any";
    lotssummary = lminutetext + "," + laddresstext + "," + lpropertytext + "," + lpricetext + "," + llotacreagetext + "," + lschooltext + "," + lsubdivtext + "," + llotfeaturestext;
    lotssummary = lotssummary + "," + lwatertext + "," + lsewerText;

    var lproperty = "Any", llotfeatures = "Any", lwater = "Any", lsewer = "Any";
    // End --- ---- Lot//Lands Filters VAriable Declaration
    
    $(document).ready(function () {
        $.get("https://api.ipdata.co", function (response) {
            //console.log(response)
            //console.log(response.latitude + ',' + response.longitude + '-' + response.postal)
            latt=response.latitude;
            lott=response.longitude
            mylocation=response.city+', '+response.region+', '+response.country_code;
            //console.log(mylocation)
        }, "jsonp");
        //initialMapload()
        load()
        var hiddenlastsearch="";
        //Start  : hiding Schools and subdivisions popups of 3 types of tilters on page load
        $("#elementaryschoolsdiv,#rentalelementaryschoolsdiv,#lotselementaryschoolsdiv").hide();
        $("#middleschoolsdiv,#rentalmiddleschoolsdiv,#lotsmiddleschoolsdiv").hide();
        $("#highschoolsdiv,#rentalhighschoolsdiv,#lotshighschoolsdiv").hide();
        //End  : hiding Schools and subdivisions popups of 3 types of tilters on page load
        $('a[href="/Customer/SearchFilter/Index"]').parents('li,ul').addClass('active');//To add active for current link on menu
        $("#applycanceldiv").hide();//hide apply/cancel div on page load
        $('#msgfooter').hide();//hide message footer div
        var userid=@PkeyUserId;
        //Code to enable  SaveSearch button if user exists and disable if guest user
        if(userid==""|| userid.length<0)
        {
            $("#savesearchbtn").prop("disabled",true);
        }
        else
            $("#savesearchbtn").prop("disabled",false);
        $('#PropLotsLands').hide();
        //Start : get vales from url
        if (window.location.search.length>0) {
            var searchParams = new URLSearchParams(window.location.search)
            if(searchParams.has('SSID')){
                isMLSsearch='false';
                var savedSearchID = searchParams.get('SSID');
                getSeavedSearchFiltersBySSID(savedSearchID)
            }
            else{
                var s = searchParams.get('city');
                var class_type = searchParams.get('t');
                if(s.substring(0,1)=="F")
                {
                    isMLSsearch='true'
                    s=s.substring(1);
                    $("#search").val(s);
                    hiddenlastsearch=s;
                    getLat_Longs($("#search").val());
                    setTimeout(load,1500);
                    setTimeout(function(){GetListingsbySearch_Zoom_Drag_on_Boundaries(s,sorybyid,zoomlevel,bondarypath,'')},2200);
                }
                else{
                    if(s.indexOf(',')>-1)
                    {
                        isMLSsearch='false'
                        //s=s.split(',')[0];
                        s=s;
                    }
                    else if(s.substring(0,1)=="M")
                    {
                        isMLSsearch='true'
                        s=s.substring(1);
                    }
                    s=s.replace(/%20/g," ");
                    $("#search").val(s);
                    hiddenlastsearch=s;
                    getLat_Longs($("#search").val());
                    $("input[name=Property][value=" + class_type + "]").attr('checked', true);
                    if(class_type=="1")
                    {
                        $("#PropSelected").html("Homes");
                        $('input[name="lotclass"]').prop("checked",false);
                    }
                    else if(class_type=="2")
                    {
                        $("#PropSelected").html("Rentals");
                        $('#PropLotsLands').hide();
                        $('#PropHomes').hide();
                        $('input[name="homeclass"]').prop("checked",false);
                        $('input[name="lotclass"]').prop("checked",false);
                    }
                    else{
                        $('#PropHomes').hide();
                        $('#PropLotsLands').show();
                        $('input[name="homeclass"]').prop("checked",false);
                        $("#PropSelected").html("Lot/Lands");
                    }
                    isSimpleSearch="true";
                    //getdatabysearchElementfromLanding(s,class_type,sorybyid,bondarypath);
                }
            }
            window.history.pushState('page2', 'Title', '/Customer/SearchFilter/Index');
        }
        else {
            if(userid!=0 && userid!=null && userid!='')
                getlastsearchdata();
            else
                setTimeout(Reinits,1500)
        }
        if(usertypeid=="2"){
            $('.searchul-li2,.searchul-li3').empty();
        }
        //End : get values from URL
        if(isSimpleSearch=="true"){
            setTimeout(load,1500);
            setTimeout(function(){getdatabysearchElementfromLanding(s,class_type,sorybyid,bondarypath)},2000);
        }
        else{
            //   load();
        }
        // Event to Expand Map type in Map icons Div
        $(".btn-expand").click(function (e) {
            $('.collapsible').toggle("slide", {
                direction: "right"
            }, 800);
        });
        //to reset slider values
        homefiltersliderevetns();rentalfiltersliderevetns();lotsfiltersliderevetns();
        //to show first tab when open a Filters popup
        $('#HomeModalFilters').on('shown.bs.modal', function () {
            $('.nav-tabs a[href="#tabs-demo2-area1"]').tab('show');
        });
        $('#LotLandsModalFilters').on('shown.bs.modal', function () {
            $('.nav-tabs a[href="#tabs-demo3-area1"]').tab('show');
        });
        //to clear the searchname when open a savesearch modal popup
        $('#SaveSearchModal').on('shown.bs.modal', function () {
            $("#errmsg").html(" ");
            $("#msg").hide();
            $("#searchname").focus();
        });
        // To display the summary in appropriate filters
        HomeSummeryNew();
        RentalSummerNew();
        LotSummerNew();
        $('#btn_Details').hide();
        $('#popup1search').hide();
        $('#paneltoolbar2').hide();
        $('#deletepopup').hide();
        $(".nav-tabs a").click(function (e) {
            e.preventDefault();
            $(this).tab('show');
        });
        $('.btn-group').on('click', 'label.btn', function (e) {
            if ($(this).hasClass('active')) {
                setTimeout(function () {
                    $(this).removeClass('active').find('input').prop('checked', false);
                }.bind(this), 10);
            }
        });
    });
    var searchname = "";
    //Start :------Setting Dropdowns to MultiSelect Dropdowns and Setting Properties------//
    //Home Filter Multi Drop Downs
    $('#propertytype').multiselect({
        nonSelectedText: 'Any Property Type',
        numberDisplayed: 1,
        includeSelectAllOption: true,
        allSelectedText: 'Any',
        selectAllText:'Any',
    });
    $('#agetype').multiselect({
        nonSelectedText: 'Any Age Type',
        numberDisplayed: 1,
        includeSelectAllOption: true,
        allSelectedText: 'Any',
        selectAllText:'Any',
    });
    $('#lotfeatures').multiselect({
        nonSelectedText: 'Any Lot Type',
        numberDisplayed: 1,
        includeSelectAllOption: true,
        allSelectedText: 'Any',
        selectAllText:'Any',
    });
    $('#appliances').multiselect({
        nonSelectedText: 'Any Appliances',
        numberDisplayed: 1,
        includeSelectAllOption: true,
        allSelectedText: 'Any',
        selectAllText:'Any',
    });
    $("#exteriorfeatures").multiselect({
        nonSelectedText: 'Any Exterior',
        numberDisplayed: 1,
        includeSelectAllOption: true,
        allSelectedText: 'Any',
        selectAllText:'Any',
    });
    $("#interiorfeatures").multiselect({
        nonSelectedText: 'Any Interior',
        numberDisplayed: 1,
        includeSelectAllOption: true,
        allSelectedText: 'Any',
        selectAllText:'Any',
    });
    // REntal Filter Multi Drop Downs
    $('#rentalpropertytype').multiselect({
        nonSelectedText: 'Any Property Type',
        numberDisplayed: 1,
        includeSelectAllOption: true,
        allSelectedText: 'Any',
        selectAllText:'Any',
    });
    $('#rentalagetype').multiselect({
        nonSelectedText: 'Any Age Type',
        numberDisplayed: 1,
        includeSelectAllOption: true,
        allSelectedText: 'Any',
        selectAllText:'Any',
    });
    //Lot/Lands Multi Check drop downs
    $('#lotspropertytype').multiselect({
        nonSelectedText: 'Any Property Type',
        numberDisplayed: 1,
        includeSelectAllOption: true,
        allSelectedText: 'Any',
        selectAllText:'Any',
    });
    $('#lotslotfeatures').multiselect({
        nonSelectedText: 'Any Lot Feature',
        numberDisplayed: 1,
        includeSelectAllOption: true,
        allSelectedText: 'Any',
        selectAllText:'Any',
    });
    //End :------Setting Dropdowns to MultiSelect Dropdowns and Setting Properties------//
    //SearchFilter Button Click Event
    $("#searchfilters").click(function (e) {
        $("#SchoolSearchPopup,#RentalSchoolSearchPopup,#LotsSchoolSearchPopup").hide();
        $("#SubDivSearchPopup,#Lots_SubDivSearchPopup").hide();
        $('#myPropertyDropdown').removeClass('show').addClass('hidedropdown');
        //code to get Home Class Value
        var homeclassval = [];
        $.each($("input[name='homeclass']:checked"), function () {
            homeclassval.push($(this).val());
        });
        homeclassval = homeclassval.join(",")
        //code to get Lot/Land Class Value
        var lotclassval = [];
        $.each($("input[name='lotclass']:checked"), function () {
            lotclassval.push($(this).val());
        });
        lotclassval = lotclassval.join(",")
        // code to get property type value and showing modal popup based on the property type
        var opt = $("input[name='Property']:checked").val();
        if (opt == 1) {
            $('#searchfilters').attr('data-target', '#HomeModalFilters');
        }
        if (opt == 2) {
            $('#searchfilters').attr('data-target', '#RentalsModalFilters');
        }
        if (opt == 3) {
            $('#searchfilters').attr('data-target', '#LotLandsModalFilters');
        }
    });
    //Start:-------Style changing for button groups in filter--------//
    //Home Filter Button Groups
    $(".bathbtngroup>a").on("click", function () {
        var defaultClass = "btn btn-default";
        var toBeAssignedClass = $(this).attr("data-btn-class");
        $(".bathbtngroup>a").attr("class", defaultClass);
        $(this).attr("class", toBeAssignedClass);
    });
    $(".bedroombtngroup>a").on("click", function () {
        var defaultClass = "btn btn-default";
        var toBeAssignedClass = $(this).attr("data-btn-class");
        $(".bedroombtngroup>a").attr("class", defaultClass);
        $(this).attr("class", toBeAssignedClass);
    });
    $(".grgcapbtngroup>a").on("click", function () {
        var defaultClass = "btn btn-default";
        var toBeAssignedClass = $(this).attr("data-btn-class");
        $(".grgcapbtngroup>a").attr("class", defaultClass);
        $(this).attr("class", toBeAssignedClass);
    });
    $(".grgtypebtngroup>a").on("click", function () {
        var defaultClass = "btn btn-default";
        var toBeAssignedClass = $(this).attr("data-btn-class");
        $(".grgtypebtngroup>a").attr("class", defaultClass);
        $(this).attr("class", toBeAssignedClass);
    });
    $(".masterbedroombtngroup>a").on("click", function () {
        var defaultClass = "btn btn-default";
        var toBeAssignedClass = $(this).attr("data-btn-class");
        $(".masterbedroombtngroup>a").attr("class", defaultClass);
        $(this).attr("class", toBeAssignedClass);
    });
    $(".ftypebtngroup>a").on("click", function () {
        var defaultClass = "btn btn-default";
        var toBeAssignedClass = $(this).attr("data-btn-class");
        $(".ftypebtngroup>a").attr("class", defaultClass);
        $(this).attr("class", toBeAssignedClass);
    });
    $(".lroombtngroup>a").on("click", function () {
        var defaultClass = "btn btn-default";
        var toBeAssignedClass = $(this).attr("data-btn-class");
        $(".lroombtngroup>a").attr("class", defaultClass);
        $(this).attr("class", toBeAssignedClass);
    });
    $(".fplacebtngroup>a").on("click", function () {
        var defaultClass = "btn btn-default";
        var toBeAssignedClass = $(this).attr("data-btn-class");
        $(".fplacebtngroup>a").attr("class", defaultClass);
        $(this).attr("class", toBeAssignedClass);
    });
    $(".floorbtngroup>a").on("click", function () {
        var defaultClass = "btn btn-default";
        var toBeAssignedClass = $(this).attr("data-btn-class");
        $(".floorbtngroup>a").attr("class", defaultClass);
        $(this).attr("class", toBeAssignedClass);
    });
    $(".heatsystembtngroup>a").on("click", function () {
        var defaultClass = "btn btn-default";
        var toBeAssignedClass = $(this).attr("data-btn-class");
        $(".heatsystembtngroup>a").attr("class", defaultClass);
        $(this).attr("class", toBeAssignedClass);
    });
    $(".watertypebtngroup>a").on("click", function () {
        var defaultClass = "btn btn-default";
        var toBeAssignedClass = $(this).attr("data-btn-class");
        $(".watertypebtngroup>a").attr("class", defaultClass);
        $(this).attr("class", toBeAssignedClass);
    });
    $(".waterheaterbtngroup>a").on("click", function () {
        var defaultClass = "btn btn-default";
        var toBeAssignedClass = $(this).attr("data-btn-class");
        $(".waterheaterbtngroup>a").attr("class", defaultClass);
        $(this).attr("class", toBeAssignedClass);
    });
    $(".swerbtngroup>a").on("click", function () {
        var defaultClass = "btn btn-default";
        var toBeAssignedClass = $(this).attr("data-btn-class");
        $(".swerbtngroup>a").attr("class", defaultClass);
        $(this).attr("class", toBeAssignedClass);
    });
    //REntal Filter Button Groups
    $(".rentalbathbtngroup>a").on("click", function () {
        var defaultClass = "btn btn-default";
        var toBeAssignedClass = $(this).attr("data-btn-class");
        $(".rentalbathbtngroup>a").attr("class", defaultClass);
        $(this).attr("class", toBeAssignedClass);
    });
    $(".rentalbedroombtngroup>a").on("click", function () {
        var defaultClass = "btn btn-default";
        var toBeAssignedClass = $(this).attr("data-btn-class");
        $(".rentalbedroombtngroup>a").attr("class", defaultClass);
        $(this).attr("class", toBeAssignedClass);
    });
    $(".rentalparkingbtngroup>a").on("click", function () {
        var defaultClass = "btn btn-default";
        var toBeAssignedClass = $(this).attr("data-btn-class");
        $(".rentalparkingbtngroup>a").attr("class", defaultClass);
        $(this).attr("class", toBeAssignedClass);
    });
    $(".rentalgrgcapbtngroup>a").on("click", function () {
        var defaultClass = "btn btn-default";
        var toBeAssignedClass = $(this).attr("data-btn-class");
        $(".rentalgrgcapbtngroup>a").attr("class", defaultClass);
        $(this).attr("class", toBeAssignedClass);
    });
    //Lot/Lands Button Groups
    $(".lotswatertypebtngroup>a").on("click", function () {
        var defaultClass = "btn btn-default";
        var toBeAssignedClass = $(this).attr("data-btn-class");
        $(".lotswatertypebtngroup>a").attr("class", defaultClass);
        $(this).attr("class", toBeAssignedClass);
    });
    $(".lotsswerbtngroup>a").on("click", function () {
        var defaultClass = "btn btn-default";
        var toBeAssignedClass = $(this).attr("data-btn-class");
        $(".lotsswerbtngroup>a").attr("class", defaultClass);
        $(this).attr("class", toBeAssignedClass);
    });
    //End :--------Style changing for button groups in filter----------//
    //Start :------Change & Click  Events of Controls to get Values and Text of text field------//
    //Home Filters

    $('#inputMinutes').on("change", function () {
        prp_drivingminutes=minutestext =  $(this).val();
        HomeSummeryNew();
    });
    $('#inputAddress').on("change", function () {
        prp_drivinigdistance=addresstext =  $(this).val();
        HomeSummeryNew();
    });
    $('#inputSchool').on("change", function () {
        schooltext =  $(this).val();
        HomeSummeryNew();
    });
    $('#inputSubDivision').on("change", function () {
        subdivtext = $(this).val();
        HomeSummeryNew();
    });
    //Rental Filters
    $('#rentalinputMinutes').on("change", function () {
        prp_drivingminutes=$(this).val();
        rminutestext = "Minutes :" + $(this).val();
        RentalSummerNew();
    });
    $('#rentalinputAddress').on("change", function () {
        prp_drivinigdistance=$(this).val();
        raddresstext = "Address :" + $(this).val();
        RentalSummerNew();
    });
    $('#rentalinputSchool').on("change", function () {
        rschooltext = "School :" + $(this).val();
        RentalSummerNew();
    });
    //Lot/Lands Filters
    $('#lotsinputMinutes').on("change", function () {
        prp_drivingminutes=$(this).val();
        lminutetext = "Minutes :" + $(this).val();
        LotSummerNew();
    });
    $('#lotsinputAddress').on("change", function () {
        prp_drivinigdistance=$(this).val();
        laddresstext = "Address :" + $(this).val();
        LotSummerNew();
    });
    $('#lotsinputSubDivision').on("change", function () {
        lsubdivtext = "Sub Division :" + $(this).val();
        LotSummerNew();
    });
    $('#lotsinputSchool').on("change", function () {
        lschooltext = "School :" + $(this).val();
        LotSummerNew();
    });
    //Start :-------Multi Checkbox Dropdown Change Events
    //Home Filters

    $("#propertytype").change(function () {
        hproperty = "";
        propertytext = "";
        if($("#propertytype").val()!=null)
        {
            if($("#propertytype").val().length=="5")
            {
                prp_propertytype= hproperty="Any",propertytext="Any";
            }
            else
            {
                $('#propertytype :selected').each(function (i, sel) {
                    propertytext = $(sel).text() + "," + propertytext;
                    hproperty = $(sel).val() + "," + hproperty;
                });
                prp_propertytype=hproperty = hproperty.substring(0, hproperty.length - 1);
                propertytext =  propertytext.substring(0, propertytext.length - 1);
            }
        }
        else
        {
            prp_propertytype=hproperty='Any';
            propertytext='Any';
        }
        HomeSummeryNew();
    })
    $("#agetype").change(function () {
        agetext = "", hagetype = "";
        if($("#agetype").val()!=null)
        {
            if($("#agetype").val().length=="9")
            {
                prp_age=hagetype="Any",agetext="Any";
            }
            else
            {
                $('#agetype :selected').each(function (i, sel) {
                    agetext = $(sel).text() + "," + agetext;
                    hagetype = $(sel).val() + "," + hagetype;
                });
                agetext =  agetext.substring(0, agetext.length - 1);
                prp_age=hagetype = hagetype.substring(0, hagetype.length - 1);
            }
        }
        else
        {
            prp_age=hagetype="Any",agetext="Any";
        }
        HomeSummeryNew();
    })
    $("#lotfeatures").change(function () {
        lotfeaturestext = "", hlotfeatures = "";
        if($("#lotfeatures").val()!=null)
        {
            if($("#lotfeatures").val().length=="8")
            {
                prp_lotfeatures=hlotfeatures="Any",lotfeaturestext="Any";
            }
            else
            {
                $('#lotfeatures :selected').each(function (i, sel) {
                    lotfeaturestext = $(sel).text() + "," + lotfeaturestext;
                    hlotfeatures = $(sel).val() + "," + hlotfeatures;
                });
                lotfeaturestext = lotfeaturestext.substring(0, lotfeaturestext.length - 1);
                prp_lotfeatures=hlotfeatures = hlotfeatures.substring(0, hlotfeatures.length - 1);
            }
        }
        else
        {
            prp_lotfeatures=hlotfeatures="Any",lotfeaturestext="Any";
        }
        HomeSummeryNew();
    })
    $("#appliances").change(function () {
        appliancestext = "", happliances = "";
        if($("#appliances").val()!=null)
        {
            if($("#appliances").val().length=="9")
            {
                happliances="Any",appliancestext="Any";
            }
            else
            {
                $('#appliances :selected').each(function (i, sel) {
                    appliancestext = $(sel).text() + "," + appliancestext;
                    happliances = $(sel).val() + "," + happliances;
                });
                appliancestext =  appliancestext.substring(0, appliancestext.length - 1);
                happliances = happliances.substring(0, happliances.length - 1);
            }
        }
        else
        {
            happliances="Any",appliancestext="Any";
        }
        prp_appliances=happliances;
        HomeSummeryNew();
    })
    $("#exteriorfeatures").change(function () {
        extfeaturestext = "", hexteriorfeatures = "";
        if($("#exteriorfeatures").val()!=null)
        {
            if($("#exteriorfeatures").val().length=="10")
            {
                hexteriorfeatures="Any",extfeaturestext="Any";
            }
            else
            {
                $('#exteriorfeatures :selected').each(function (i, sel) {
                    extfeaturestext = $(sel).text() + "," + extfeaturestext;
                    hexteriorfeatures = $(sel).val() + "," + hexteriorfeatures;
                });
                extfeaturestext =  extfeaturestext.substring(0, extfeaturestext.length - 1);
                hexteriorfeatures = hexteriorfeatures.substring(0, hexteriorfeatures.length - 1);
            }
        }
        else
        {
            hexteriorfeatures="Any",extfeaturestext="Any";
        }
        prp_extfeatures=hexteriorfeatures;
        HomeSummeryNew();
    })
    $("#interiorfeatures").change(function () {
        intfeaturestext = "", hinteriorfeatures = "";
        if($("#interiorfeatures").val()!=null)
        {
            if($("#interiorfeatures").val().length=="12")
            {
                hinteriorfeatures="Any",intfeaturestext="Any";
            }
            else
            {
                $('#interiorfeatures :selected').each(function (i, sel) {
                    intfeaturestext = $(sel).text() + "," + intfeaturestext;
                    hinteriorfeatures = $(sel).val() + "," + hinteriorfeatures;
                });
                intfeaturestext =  intfeaturestext.substring(0, intfeaturestext.length - 1);
                hinteriorfeatures = hinteriorfeatures.substring(0, hinteriorfeatures.length - 1);
            }
        }
        else
        {
            hinteriorfeatures="Any",intfeaturestext="Any";
        }
        prp_intfeatures=hinteriorfeatures;
        HomeSummeryNew();
    })
    //REntal Filters :
    $("#rentalpropertytype").change(function () {
        rproperty = "";
        rpropertytext = "";
        if($("#rentalpropertytype").val()!=null)
        {
            if($("#rentalpropertytype").val().length=="5")
            {
                rproperty="Any",rpropertytext="Any";
            }
            else
            {
                $('#rentalpropertytype :selected').each(function (i, sel) {
                    rpropertytext = $(sel).text() + "," + rpropertytext;
                    rproperty = $(sel).val() + "," + rproperty;
                });
                rproperty = rproperty.substring(0, rproperty.length - 1);
                rpropertytext =  rpropertytext.substring(0, rpropertytext.length - 1);
            }
        }
        else
        {
            rproperty="Any",rpropertytext="Any";
        }
        prp_propertytype=rproperty
        RentalSummerNew();
    })
    $("#rentalagetype").change(function () {
        ragetext = "", rage = "";
        if($("#rentalagetype").val()!=null)
        {
            if($("#rentalagetype").val().length=="9")
            {
                rage="Any",ragetext="Any";
            }
            else
            {
                $('#rentalagetype :selected').each(function (i, sel) {
                    ragetext = $(sel).text() + "," + ragetext;
                    rage = $(sel).val() + "," + rage;
                });
                ragetext =  ragetext.substring(0, ragetext.length - 1);
                rage = rage.substring(0, rage.length - 1);
            }
        }
        else
        {
            rage="Any",ragetext="Any";
        }
        prp_age=rage;
        RentalSummerNew();
    })
    //Lots/Land Filters
    $("#lotspropertytype").change(function () {
        lproperty = "";
        lpropertytext = "";
        if($("#lotspropertytype").val()!=null)
        {
            if($("#lotspropertytype").val().length=="4")
            {
                lproperty="Any",lpropertytext="Any";
            }
            else
            {
                $('#lotspropertytype :selected').each(function (i, sel) {
                    lpropertytext = $(sel).text() + "," + lpropertytext;
                    lproperty = $(sel).val() + "," + lproperty;
                });
                lproperty = lproperty.substring(0, lproperty.length - 1);
                lpropertytext =  lpropertytext.substring(0, lpropertytext.length - 1);
            }
        }
        else
        {
            lproperty="Any",lpropertytext="Any";
        }
        prp_propertytype=lproperty;
        LotSummerNew();
    })
    $("#lotslotfeatures").change(function () {
        llotfeaturestext = "", llotfeatures = "";
        if($("#lotslotfeatures").val()!=null)
        {
            if($("#lotslotfeatures").val().length=="8")
            {
                llotfeatures="Any",llotfeaturestext="Any";
            }
            else
            {
                $('#lotslotfeatures :selected').each(function (i, sel) {
                    llotfeaturestext = $(sel).text() + "," + llotfeaturestext;
                    llotfeatures = $(sel).val() + "," + llotfeatures;
                });
                llotfeaturestext =  llotfeaturestext.substring(0, llotfeaturestext.length - 1);
                llotfeatures = llotfeatures.substring(0, llotfeatures.length - 1);
            }
        }
        else
        {
            llotfeatures="Any",llotfeaturestext="Any";
        }
        prp_lotfeatures=llotfeatures;
        LotSummerNew();
    })
    //--------End : Multy check dropdown events----------//
    //Start :-----------------to get values and text of button groups------------//
    //HOme Filters

    $("a[name=bathrooms]").on("click", function () {
        bathroomstext = $(this).text();
        var a = $(this).data("index");
        prp_bathrooms=hbathrooms = a;
        HomeSummeryNew();
    });
    $("a[name=bedrooms]").on("click", function () {
        bedroomstext =$(this).text();
        var a = $(this).data("index");
        prp_bedrooms=hbedrooms = a;
        HomeSummeryNew();
    });
    $("a[name=garagetype]").on("click", function () {
        garagetext = $(this).text();
        var a = $(this).data("index");
        prp_garagetype=hgrgtype = a;
        HomeSummeryNew();
    });
    $("a[name=masterbedrooms]").on("click", function () {
        var a = $(this).data("index");
        masterbedroomtext = $(this).text();
        var a = $(this).data("index");
        prp_masterbedrooms=hmasterbedrooms = a;
        HomeSummeryNew();
    });
    $("a[name=garagecapacity]").on("click", function () {
        var a = $(this).data("index");
        prp_garagecapacity=hgrgcapacity = a;
        garagecaptext =  $(this).text();
        HomeSummeryNew();
    });
    $("a[name=foundationtype]").on("click", function () {
        var a = $(this).data("index");
        prp_foundationtype=hfoundatation = a;
        foundationtypetext =  $(this).text();
    });
    $("a[name=laundryroom]").on("click", function () {
        var a = $(this).data("index");
        prp_laundryroom=hlaundry = a;
        laundrytext =  $(this).text();
        HomeSummeryNew();
    });
    $("a[name=fireplace]").on("click", function () {
        var a = $(this).data("index");
        prp_fireplace=hfire = a;
        fireplacetext =  $(this).text();
        HomeSummeryNew();
    });
    $("a[name=floortype]").on("click", function () {
        var a = $(this).data("index");
        prp_floortype=hfloor = a;
        flooringtext =  $(this).text();
        HomeSummeryNew();
    });
    $("a[name=heatsystem]").on("click", function () {
        var a = $(this).data("index");
        rp_heatingsystem=hheatsys = a;
        heatsystemtext =  $(this).text();
        HomeSummeryNew();
    });
    $("a[name=watertype]").on("click", function () {
        var a = $(this).data("index");
        prp_watertype=hwatertype = a;
        watertext = $(this).text();
        HomeSummeryNew();
    });
    $("a[name=waterheatertype]").on("click", function () {
        var a = $(this).data("index");
        prp_waterheater=hwaterheater = a;
        heatertypetext =  $(this).text();
        HomeSummeryNew();
    });
    $("a[name=sewertype]").on("click", function () {
        var a = $(this).data("index");
        hsewer = a;
        prp_sewertype=sewertext =  $(this).text();
        HomeSummeryNew();
    });
    //REntal Filters
    $("a[name=rentalbathrooms]").on("click", function () {
        rbathroomstext =  $(this).text();
        var a = $(this).data("index");
        prp_bathrooms=rbathrooms = a;
        RentalSummerNew();
    });
    $("a[name=rentalbedrooms]").on("click", function () {
        rbedroomstext = $(this).text();
        var a = $(this).data("index");
        prp_bedrooms=rbedrooms = a;
        RentalSummerNew();
    });
    $("a[name=rentalparking]").on("click", function () {
        parkingtext = $(this).text();
        var a = $(this).data("index");
        prp_parkingtype=rparking = a;
        RentalSummerNew();
    });
    $("a[name=rentalgaragecapacity]").on("click", function () {
        var a = $(this).data("index");
        rgaragecap = a;
        prp_garagecapacity=rgaragecaptext =  $(this).text();
        RentalSummerNew();
    });
    //Lots/Lands Filters
    $("a[name=lotswatertype]").on("click", function () {
        var a = $(this).data("index");
        prp_watertype=lwater = a;
        lwatertext =$(this).text();
        LotSummerNew();
    });
    $("a[name=lotssewertype]").on("click", function () {
        var a = $(this).data("index");
        prp_sewertype=lsewer = a;
        lsewerText = $(this).text();
        LotSummerNew();
    });
    //End :-----------------to get values and text of button groups------------//

    //Start : To get Text and VAlue from Check Box Groups ------//
    $("input[name=noofstories]").on("click", function () {
        var stext = [],hnoofstories=[];
        if ($(this).val() == 'Any') {
            $("input[name='noofstories']").attr('checked', false);
            $("#storiesany")[0].checked = true;
        }
        else {
            $("#storiesany")[0].checked = false;
        }
        $.each($("input[name='noofstories']:checked"), function () {
            stext.push($(this).data("index"));
            hnoofstories.push($(this).val());
        });
        stext=stext.join(",");
        storiestext =  stext;
        prp_stories=hnoofstories = hnoofstories.join(",");
        HomeSummeryNew();
    });
    $("input[name=masterfeatures]").on("click", function () {
        masterfeaturetext = [],hmasterfeatures=[];
        $.each($("input[name='masterfeatures']:checked"), function () {
            masterfeaturetext.push($(this).data("index"));
            hmasterfeatures.push($(this).val());
        });
        masterfeaturetext = masterfeaturetext.join(",");
        masterfeaturetext = masterfeaturetext;
        prp_masterfeatures=hmasterfeatures = hmasterfeatures.join(",");
        HomeSummeryNew();
    });
    $("input[name=community]").on("click", function () {
        communitytext = [],hcommunity=[];
        $.each($("input[name='community']:checked"), function () {
            communitytext.push($(this).data("index"));
            hcommunity.push($(this).val());
        });
        communitytext = communitytext.join(",");
        communitytext =  communitytext;
        prp_community= hcommunity = hcommunity.join(",");
        HomeSummeryNew();
    });
    //End : To get Text and VAlue from Check Box Groups ------//

    //End :------Change & Click Events of Controls to get Values and Text------//

    //Avoid Characters in Minutes Text box and set Min and max values
    $('#inputMinutes,#rentalinputMinutes,#lotsinputMinutes').keyup(function (event) {
        //if ($(this).val() > 59 || $(this).val() < 1) {
        //    $(this).val("");
        //}
    });
    $('#inputMinutes,#rentalinputMinutes,#lotsinputMinutes').keypress(function (event) {
        if (event.which != 8 && isNaN(String.fromCharCode(event.which))) {
            event.preventDefault();
        }
    });
    $("#search,#searchname").on("keypress", function(e) {if (e.which === 32 && !this.value.length)e.preventDefault();});
    //Function to Reset Filters
    $("#resetbtn").click(function () {
        homeFiltersreset();
    });
    $("#rentalresetbtn").click(function () {
        rentalFiltersreset();
    });
    $("#lotsresetbtn").on("click", function () {
        lotsFiltersreset();
    });
    var classtype_text=[];
    $("#savesearchbtn").click(function () {
        getCitiesListonMapBoundary()

        var places = new google.maps.places.Autocomplete(document.getElementById('inputAddress'));
        //var places = new google.maps.places.Autocomplete(document.getElementById('search'));
        var places = new google.maps.places.Autocomplete(document.getElementById('rentalinputAddress'));
        var places = new google.maps.places.Autocomplete(document.getElementById('lotsinputAddress'));
        $('#searchname').val('');
        filtertype = $("input[name='Property']:checked").val();
        classtype_text=[];
        if (filtertype == 1) {
            $.each($("input[name='homeclass']:checked"), function () {
                classtype_text.push($(this).data("index"));
            });
            classtype_text.join(',');
            $("#summarycontent").text( classtype_text+' : ' + $("#summary1").text());
        }
        if (filtertype == 2) {
            classtype_text="Rental";
            $("#summarycontent").text( classtype_text +' : '+ $("#rentalsummary").text());
        }
        if (filtertype == 3) {
            $.each($("input[name='lotclass']:checked"), function () {
                classtype_text.push($(this).data("index"));
            });
            classtype_text.join(',');
            $("#summarycontent").text( classtype_text+' : ' + $("#lotssummary").text());
        }
    });
    //Save Search Button click Event
    $("#savesearch").click(function () {
        searchname = $('#searchname').val();
        if (searchname.length <= 0) {
            $("#errmsg").html("Please Enter Search Name");
            $("#msg").show();
        }
        else {
            $('#SaveSearchModal').modal('hide');
            $("#errmsg").html(" ");
            $("#msg").hide();
            saveFilters();
            //filtertype = $("input[name='Property']:checked").val();
            //if (filtertype == 1) {
            //    saveHomeFilters();
            //}
            //if (filtertype == 2) { saveRentalFilters(); }
            //if (filtertype == 3) { saveLotsFilters(); }

        }
    });
    //Filter Saving Functions
    function saveHomeFilters() {
        HomeFilterValuesAssigning();
        $.ajax({
            url: "@Url.Action("SaveHomeSearchFilters", "SearchFilter")",
            type: "POST",
            dataType: "json",
            contentType: "application/json; charset=utf-8",
            data: JSON.stringify(homefilterobj),
            success: function (res) {
                if (res = "Success") {
                    $("#SaveSearchAlertPopup").modal("show");
                }
                else {
                    alert("Error :" + res);
                }
            },
        });
    }
    function saveRentalFilters() {
        RentalFilterValuesAssigning();
        $.ajax({
            url: "@Url.Action("SaveRentalSearchFilters", "SearchFilter")",
            type: "POST",
            dataType: "json",
            contentType: "application/json; charset=utf-8",
            data: JSON.stringify(rentalfilterobj),
            success: function (res) {
                if (res = "Success") {
                    $("#SaveSearchAlertPopup").modal("show");
                }
                else {
                    alert("Error :" + res);
                }
            },
        });
    }
    function saveLotsFilters() {
        LotFilterValuesAssigning();
        alert(lotsfilterobj.join('#'))
        $.ajax({
            url: "@Url.Action("SaveLotsSearchFilters", "SearchFilter")",
            type: "POST",
            dataType: "json",
            contentType: "application/json; charset=utf-8",
            data: JSON.stringify(lotsfilterobj),
            success: function (res) {
                if (res = "Success") {
                    $("#SaveSearchAlertPopup").modal("show");
                }
                else {
                    alert("Error :" + res);
                }
            },
        });
    }
    //Function TO Assign Values For Home Filters
    function HomeFilterValuesAssigning()
    {
        filtertype = "1";
        hmasterfeatures = [];
        $.each($("input[name='masterfeatures']:checked"), function () {
            hmasterfeatures.push($(this).val());
        });
        hmasterfeatures = hmasterfeatures.join(",");
        hnoofstories = [];
        $.each($("input[name='noofstories']:checked"), function () {
            hnoofstories.push($(this).val());
        });
        hnoofstories = hnoofstories.join(",");
        var hcommunity = [];
        $.each($("input[name='community']:checked"), function () {
            hcommunity.push($(this).val());
        });
        hcommunity = hcommunity.join(",");
        classtype = "1";
        if ($("input[name='homeclass']:checked")) {
            var homeclassval = [];
            $.each($("input[name='homeclass']:checked"), function () {
                homeclassval.push($(this).val());
            });
            classtype = homeclassval.join(",")
        }
        homefilterobj = [filtertype, classtype, $("#inputMinutes").val(), $("#inputAddress").val(), hproperty,
           $("#price").text(), hbathrooms, hbedrooms, $("#sqft").text(), schools_ele, hgrgtype, hmasterbedrooms,
           $("#lotacreage").text(), hnoofstories, $("#inputSubDivision").val(), hgrgcapacity, hagetype,
       hlotfeatures, happliances, hfoundatation, hmasterfeatures, hexteriorfeatures,
       hlaundry, hinteriorfeatures, hfire, hfloor, hcommunity, hheatsys, hwatertype, hwaterheater, hsewer, searchname,"","",
       citynameslists,countprop,sortbyid,schools_middle,schools_high,polypath.join(','),bondarypath,zoomlevel];
    }
    //Function TO Assign Values For Rental Filters
    function RentalFilterValuesAssigning()
    {
        filtertype = "2";
        classtype = "0";
        rentalfilterobj = [filtertype, classtype, $("#rentalinputMinutes").val(), $("#rentalinputAddress").val(), rproperty, $("#rentalprice").text(),
        rbathrooms, rbedrooms, $("#rentalsqft").text(), schools_ele, rparking, rgaragecap, rage, searchname,"","",citynameslists,countprop,
        sortbyid,schools_middle,schools_high,polypath.join(','),bondarypath,zoomlevel ];
    }
    //Function TO Assign Values For Lots/Land Filters
    function LotFilterValuesAssigning()
    {
        filtertype="3";
        classtype = "1";
        if ($("input[name='lotclass']:checked")) {
            var lotclassval = [];
            $.each($("input[name='lotclass']:checked"), function () {
                lotclassval.push($(this).val());
            });
            classtype = lotclassval.join(",")
        }
        lotsfilterobj = [filtertype, classtype, $("#lotsinputMinutes").val(), $("#lotsinputAddress").val(), lproperty, $("#lotsprice").text(),
         $("#lotslotacreage").text(), schools_ele, $("#lotsinputSubDivision").val(), llotfeatures, lwater, lsewer, searchname,"","",citynameslists,
         countprop,sortbyid,schools_middle,schools_high,polypath.join(','),bondarypath,zoomlevel];
    }
    //Funtntions For Reset All Controls
    function homeFiltersreset() {
        homefiltersliderevetns();
        //REset Multiselect dropwdowns
        $("#homes_ele_schools,#subdivcheckbox").each(function(){
            $(this).attr('checked', false);
        });
        schooltext="";
        subdivtext="";
        schools_ele="",schools_middle="",schools_high="",sub_divisions="";
        //////
        $("#propertytype > option").attr("selected",false);
        $('#propertytype').multiselect('refresh');
        propertytext = "Any";
        hproperty="Any";
        $("#agetype > option").attr("selected",false);
        $('#agetype').multiselect('refresh');
        agetext = "Any";
        hagetype="Any";
        $("#lotfeatures > option").attr("selected",false);
        $('#lotfeatures').multiselect('refresh');
        lotfeaturestext = "Any";
        hlotfeatures="Any";
        $("#appliances > option").attr("selected",false);
        $('#appliances').multiselect('refresh');
        appliancestext = "Any";
        happliances="Any";
        $("#exteriorfeatures > option").attr("selected",false);
        $('#exteriorfeatures').multiselect('refresh');
        extfeaturestext = "Any";
        hexteriorfeatures="Any";
        $("#interiorfeatures > option").attr("selected",false);
        $('#interiorfeatures').multiselect('refresh');
        intfeaturestext = "Any";
        hinteriorfeatures="Any";
        //Home Filter Button groups & text Fileds, and Check Boxes
        $(".bathbtngroup>a").siblings().removeClass('mybtncls')
        $("#bathany").addClass('active');
        $(".bedroombtngroup>a").siblings().removeClass('mybtncls')
        $("#bedroomany").addClass('active');
        $(".grgcapbtngroup>a").siblings().removeClass('mybtncls')
        $("#grgcapany").addClass('active');
        $(".grgtypebtngroup>a").siblings().removeClass('mybtncls')
        $("#grgany").addClass('active');
        $(".masterbedroombtngroup>a").siblings().removeClass('mybtncls')
        $("#mbedany").addClass('active');
        $(".ftypebtngroup>a").siblings().removeClass('mybtncls')
        $("#ftypeany").addClass('active');
        $(".lroombtngroup>a").siblings().removeClass('mybtncls')
        $("#lroomany").addClass('active');
        $(".fplacebtngroup>a").siblings().removeClass('mybtncls')
        $("#fplaceany").addClass('active');
        $(".floorbtngroup>a").siblings().removeClass('mybtncls')
        $("#floorany").addClass('active');
        $(".heatsystembtngroup>a").siblings().removeClass('mybtncls')
        $("#hsany").addClass('active');
        $(".watertypebtngroup>a").siblings().removeClass('mybtncls')
        $("#wtypeany").addClass('active');
        $(".waterheaterbtngroup>a").siblings().removeClass('mybtncls')
        $("#wheaterany").addClass('active');
        $(".swerbtngroup>a").siblings().removeClass('mybtncls')
        $("#swerany").addClass('active');
        $('input[type="CheckBox"]').prop('checked', false);
        $('#storiesany').prop('checked', true);
        //$('#masterfeaturesany').prop('checked', true);
        //$('#communityany').prop('checked', true);
        $('#PHSale').prop('checked', true);
        $('#PLLSale').prop('checked', true);
        $('input[type="text"]').val('');
        //$('input[type="search"]').val('');
        $('#stat').css('left','0%');
        $('#end').css('left','100%');
        $('#stat2').css('left','0%');
        $('#end2').css('left','100%');
        $('#stat3').css('left','0%');
        $('#end3').css('left','100%');

        sqfttext="0-7000";
        lotacreagetext="0-50";
        pricetext="0-10000000",bathroomstext="Any";

        minutestext=null;
        addresstext="";
        bedroomstext="Any";
        garagetext="Any";
        masterbedroomtext="Any";
        storiestext="Any";
        garagecaptext="Any";
        lotfeaturestext="Any";
        foundationtypetext="Any";
        masterfeaturetext="Any";
        laundrytext="Any";
        fireplacetext="Any";
        flooringtext="Any";
        communitytext="Any";
        heatsystemtext="Any";
        watertext="Any";
        heatertypetext="Any";
        sewertext="Any";
        HomeSummeryNew();
        HomeFilterValuesAssigning();

        prp_filtertype='1',prp_classtype='1',prp_drivinigdistance='',prp_drivingminutes='',prp_propertytype='Any';
        prp_fromprice='0',prp_toprice='10000000',prp_bedrooms='Any',prp_bathrooms='Any',prp_sqftfrom='0',prp_sqftto='7000';
        prp_masterbedrooms='Any',prp_stories='Any',prp_garagecapacity='Any',prp_garagetype='Any',prp_lotacrgfrom='0',prp_lotcregto='50';
        prp_subdivisions='',prp_age='Any',prp_lotfeatures='Any',prp_foundationtype='Any',prp_extfeatures='Any',prp_intfeatures='Any';
        prp_floortype='Any',prp_appliances='Any',prp_masterfeatures='Any',prp_laundryroom='Any',prp_fireplace='Any',prp_community='Any';
        rp_heatingsystem='Any',prp_waterheater='Any',prp_watertype='Any',prp_sewertype='Any',prp_elementary='',prp_middle='',prp_high='';
        prp_parkingtype='Any',prp_sortby='1',prp_polypath='',prp_mapbounds,prp_zoomlevel='12';
    }
    function rentalFiltersreset() {
        $("#rental_ele_schools").each(function(){
            $(this).attr('checked', false);
        });
        rschooltext="";
        schools_ele="",schools_middle="",schools_high="",sub_divisions="";
        rentalfiltersliderevetns();
        rbathroomstext="Any";
        rbedroomstext="Any";
        rgaragecaptext="Any";
        //REset Multiselect dropwdowns
        $("#rentalpropertytype > option").attr("selected",false);
        $('#rentalpropertytype').multiselect('refresh');
        rpropertytext = "Any";
        rproperty="Any";
        $("#rentalagetype > option").attr("selected",false);
        $('#rentalagetype').multiselect('refresh');
        ragetext = "Any";
        rage="Any";
        // Rental Filter Controls to be Reset Here
        $(".rentalbathbtngroup>a").siblings().removeClass('mybtncls')
        $("#rentalbathany").addClass('active');
        $(".rentalbedroombtngroup>a").siblings().removeClass('mybtncls')
        $("#rentalbedroomany").addClass('active');
        $(".rentalgrgcapbtngroup>a").siblings().removeClass('mybtncls')
        $("#rentalgrgcapany").addClass('active');
        $(".rentalparkingbtngroup>a").siblings().removeClass('mybtncls')
        $("#rentalparkingany").addClass('active');

        $('#PHSale').prop('checked', true);
        $('#PLLSale').prop('checked', true);
        $('input[type="text"]').val('');

        rpricetext="0-80000";
        rsqfttext="0-7000";
        $('#rstat').css('left','0%');
        $('#rend').css('left','100%');
        $('#rstat2').css('left','0%');
        $('#rend2').css('left','100%');
        rminutestext=null;
        raddresstext="";
        rbathrooms="Any",rbedrooms="Any",rparking="Any",rgaragecap="Any";
        RentalSummerNew();
        RentalFilterValuesAssigning();
        prp_filtertype='2',prp_classtype='0',prp_drivinigdistance='',prp_drivingminutes='',prp_propertytype='Any';
        prp_fromprice='0',prp_toprice='800000',prp_bedrooms='Any',prp_bathrooms='Any',prp_sqftfrom='0',prp_sqftto='7000';
        prp_masterbedrooms='Any',prp_stories='Any',prp_garagecapacity='Any',prp_garagetype='Any',prp_lotacrgfrom='0',prp_lotcregto='50';
        prp_subdivisions='',prp_age='Any',prp_lotfeatures='Any',prp_foundationtype='Any',prp_extfeatures='Any',prp_intfeatures='Any';
        prp_floortype='Any',prp_appliances='Any',prp_masterfeatures='Any',prp_laundryroom='Any',prp_fireplace='Any',prp_community='Any';
        rp_heatingsystem='Any',prp_waterheater='Any',prp_watertype='Any',prp_sewertype='Any',prp_elementary='',prp_middle='',prp_high='';
        prp_parkingtype='Any',prp_sortby='1',prp_polypath='',prp_mapbounds,prp_zoomlevel='12';
    }
    function lotsFiltersreset() {
        lotsfiltersliderevetns();
        lschooltext="";
        lsubdivtext="";
        schools_ele="",schools_middle="",schools_high="",sub_divisions="";
        //REset Multiselect dropwdowns
        $("#lotspropertytype > option").attr("selected",false);
        $('#lotspropertytype').multiselect('refresh');
        lpropertytext = "Any";
        lproperty="Any";
        $("#lotslotfeatures > option").attr("selected",false);
        $('#lotslotfeatures').multiselect('refresh');
        llotfeaturestext = "Any";
        llotfeatures="Any";
        // Lot/Lands Filter Controls to be Reset Here
        $(".lotswatertypebtngroup>a").siblings().removeClass('mybtncls')
        $("#lotswtypeany").addClass('active');
        $(".lotsswerbtngroup>a").siblings().removeClass('mybtncls')
        $("#lotsswerany").addClass('active');

        $('#PHSale').prop('checked', true);
        $('#PLLSale').prop('checked', true);
        $('input[type="text"]').val('');
        // $('input[type="search"]').val('');

        lwater="Any",lsewer="Any";
        lpricetext="0-10000000";
        llotacreagetext="0-50";
        lwatertext="Any";
        lsewerText="Any";
        $('#lstat').css('left','0%');
        $('#lend').css('left','100%');
        $('#lstat2').css('left','0%');
        $('#lend2').css('left','100%');
        lminutetext=null;
        laddresstext="";
        LotSummerNew();
        LotFilterValuesAssigning();
        prp_filtertype='3',prp_classtype='1',prp_drivinigdistance='',prp_drivingminutes='',prp_propertytype='Any';
        prp_fromprice='0',prp_toprice='10000000',prp_bedrooms='Any',prp_bathrooms='Any',prp_sqftfrom='0',prp_sqftto='7000';
        prp_masterbedrooms='Any',prp_stories='Any',prp_garagecapacity='Any',prp_garagetype='Any',prp_lotacrgfrom='0',prp_lotcregto='50';
        prp_subdivisions='',prp_age='Any',prp_lotfeatures='Any',prp_foundationtype='Any',prp_extfeatures='Any',prp_intfeatures='Any';
        prp_floortype='Any',prp_appliances='Any',prp_masterfeatures='Any',prp_laundryroom='Any',prp_fireplace='Any',prp_community='Any';
        rp_heatingsystem='Any',prp_waterheater='Any',prp_watertype='Any',prp_sewertype='Any',prp_elementary='',prp_middle='',prp_high='';
        prp_parkingtype='Any',prp_sortby='1',prp_polypath='',prp_mapbounds,prp_zoomlevel='12';
    }
    //Code to Expand and collapse Rightside list view
    var flag_RightCollapse = 0;
    $('#Expand').on('click', function () {
        if (flag_RightCollapse == 0) {
            $("#Expand").attr('class', 'fa fa-angle-double-right');
            $('#googlemaps').animate({
                'marginLeft' : "-=235px" //moves left
            });
            $('#RightListView').animate({ 'width': '460px' }, 'slow', function () {
                $('#RightListView').show();
            });
            flag_RightCollapse = 1;
        }
        else {
            $('#googlemaps').animate({
                'marginLeft' : "+=235px" //moves left
            });
            $("#Expand").attr('class', 'fa fa-angle-left');
            $('#RightListView').animate({ 'width': '220px' }, 'slow', function () {
                $('#RightListView').show();
            });
            flag_RightCollapse = 0;
        }
    });
    function DoubleRightListView() {
    }

    //---------Start: Propertty Type DropDown Functionality--------
    var DisplayName;var ftype=$("input[name$='Property']:checked").val();
    $("input[name=homeclass]").click(function () {
        ftype=$("input[name$='Property']:checked").val();
        if(ftype=="1")
        {
            $('#PropLotsLands').hide();
            DisplayName="Homes";
            var favorite = [], homepropval=[];
            $.each($("input[name='homeclass']:checked"), function(){
                favorite.push($(this).data("index"));
                homepropval.push($(this).val());
            });
            DisplayName=DisplayName+">"+favorite.join(">");
            $('#PropSelected').html(DisplayName);
            if(homepropval=="")
                $('input[name="homeclass"]').prop("checked",true);
        }
        else if(ftype=="2")
        {
            $('#PropSelected').html("Rentals");
        }
    });
    $("input[name=lotclass]").click(function () {
        ftype=$("input[name$='Property']:checked").val();
        if(ftype=="3")
        {
            DisplayName="Lots/Land";
            var favorite = [],lotspropval=[];
            $.each($("input[name='lotclass']:checked"), function(){
                favorite.push($(this).data("index"));
                lotspropval.push($(this).val());
            });
            DisplayName=DisplayName+">"+favorite.join(">");
            $('#PropSelected').html(DisplayName);
        }
        if(lotspropval=="")
            $('input[name="lotclass"]').prop("checked",true);
    });
    $("input[name$='Property']").click(function () {
        var value = $("input[name$='Property']:checked").val();
        if (value == 1) {
            DisplayName = "Homes";
            $('#PropHomes').show();
            $('#PropLotsLands').hide();
            homeFiltersreset();
        }
        else if (value == 2) {
            DisplayName = "Rentals";
            $('#PropHomes').hide();
            $('#PropLotsLands').hide();
            rentalFiltersreset()
        }
        else if (value == 3) {
            DisplayName = "Lots/Lands";
            $('#PropHomes').hide();
            $('#PropLotsLands').show();
            lotsFiltersreset()
        }
        $('#PropSelected').html(DisplayName);
    });
    //---------End: Property Type Functionality----------------

    //---------Start: Escape Key Functionality-----
    $(document).keyup(function (e) {
        if (e.keyCode == 27) {
            $(".collapse").collapse('hide');
        }
    });
    //---------End: Escape Key Functionality-----


    ////Script of Slider
    function homefiltersliderevetns() {
        //Home Filters For Price Range
        $("#homes_formatted_from_price").html('No Min');
        $("#homes_formatted_to_price").html('No Max');
        var slider= $("#slider-range").slider({
            range: true,
            min: 0,
            max: 100,
            step:0.5,
            values: [0, 100],
            slide: function (event, ui) {
                var handle = $('.ui-state-active', this),
        handleWidth = handle.width(),
        position = handle.position(),
        marginLeft;
                if (ui.handle.nextSibling) {
                    marginLeft = -handleWidth - 1.5;
                    if (getRealValue(ui.values[0]) < 1000000)
                        handle.css('margin-left', marginLeft + 'px');
                    else {
                        handle.css('margin-left', marginLeft -1 + 'px');
                    }
                }
                else {
                    handle.css('margin-left', '0px');
                }
                if (ui.values[1]-ui.values[0] < 1){
                    return false;
                }
                else{
                    var statd = getRealValue(ui.values[0]);
                    var endd = getRealValue(ui.values[1]);
                    statd = getFormattedPrice(statd);
                    endd = getFormattedPrice(endd);
                    $("#homes_formatted_from_price").html(statd);
                    $("#homes_formatted_to_price").html(endd);
                    if(ui.values[0]==0 && ui.values[1]==100){
                        $("#homes_formatted_from_price").html('No Min');
                        $("#homes_formatted_to_price").html('No Max');
                    }
                    else if(ui.values[0]!=0 && ui.values[1]==100){
                        $("#homes_formatted_from_price").html(statd);
                        $("#homes_formatted_to_price").html('No Max');
                    }
                    else if(ui.values[0]==0 && ui.values[1]!=100){
                        $("#homes_formatted_from_price").html('No Min');
                        $("#homes_formatted_to_price").html(endd);
                    }
                    else{
                        $('#homes_formatted_from_price').html(statd);
                        $('#homes_formatted_to_price').html(endd);
                    }
                    $("#price").text(getRealValue(ui.values[0]) + "-" + getRealValue(ui.values[1]));
                    pricetext = $("#price").text();
                    prp_fromprice=getRealValue(ui.values[0]);
                    prp_toprice=getRealValue(ui.values[1]);
                    HomeSummeryNew();
                }
            }
        });

        // For Square Feet
        $('#homes_formatted_from_sqft').html('No Min');
        $('#homes_formatted_to_sqft').html('No Max');
        var slider2=$("#slider-range2").slider({
            range: true,
            min: 0,
            max: sqft_Index_values.length,
            values: [0, sqft_Index_values.length],
            slide: function (event, ui) {
                var handle = $('.ui-state-active', this),
                             handleWidth = handle.width(),
                             position = handle.position(),
                             marginLeft;
                if (ui.handle.nextSibling) {
                    marginLeft = -handleWidth-2;
                    handle.css('margin-left', marginLeft + 'px');
                }
                else {
                    handle.css('margin-left', '0px');
                }
                if (ui.values[1]-ui.values[0] < 1 ){
                    //if(getSqftRealValue(ui.values[0])-getSqftRealValue(ui.values[])<200){
                    return false;
                }
                else{
                    var statd = getSqftRealValue(ui.values[0]);
                    var endd = getSqftRealValue(ui.values[1]);
                    if(ui.values[0]==0 && ui.values[1]==sqft_Index_values.length){
                        $('#homes_formatted_from_sqft').html('No Min');
                        $('#homes_formatted_to_sqft').html('No Max');
                    }
                    else if(ui.values[0]!=0 && ui.values[1]==sqft_Index_values.length){
                        $('#homes_formatted_from_sqft').html(statd + ' Sqft');
                        $('#homes_formatted_to_sqft').html('No Max');
                    }
                    else if(ui.values[0]==0 && ui.values[1]!=sqft_Index_values.length){
                        $('#homes_formatted_from_sqft').html('No Min');
                        $('#homes_formatted_to_sqft').html(endd + ' Sqft');
                    }
                    else{
                        $('#homes_formatted_from_sqft').html(statd + ' Sqft');
                        $('#homes_formatted_to_sqft').html(endd + ' Sqft');
                    }
                    $("#sqft").text(getSqftRealValue(ui.values[0]) + "-" + getSqftRealValue(ui.values[1]));
                    sqfttext =$("#sqft").text();
                    prp_sqftfrom=getSqftRealValue(ui.values[0]);
                    prp_sqftto=getSqftRealValue(ui.values[1]);
                    HomeSummeryNew();
                }
            }
        });

        // For  Lot Acreage
        $('#homes_formatted_from_lotacrg').html('No Min');
        $('#homes_formatted_to_lotacrg').html('No Max');
        var slider3=$("#slider-range3").slider({
            range: true,
            animate: true,
            min: 0,
            max: 18,
            values: [0, 18],
            slide: function (event, ui) {
                var handle = $('.ui-state-active', this),
                              handleWidth = handle.width(),
                             position = handle.position(),
                             marginLeft;
                if (ui.handle.nextSibling) {
                    marginLeft = -handleWidth+4;
                    handle.css('margin-left', marginLeft + 'px');
                }
                else {
                    handle.css('margin-left', '0px');
                }
                if (ui.values[1]-ui.values[0] < 1){
                    return false;
                }
                else{
                    var statd = getLotAcrgRealValue(ui.values[0]);
                    var endd = getLotAcrgRealValue(ui.values[1]);
                    if(ui.values[0]==0 && ui.values[1]==18){
                        $('#homes_formatted_from_lotacrg').html('No Min');
                        $('#homes_formatted_to_lotacrg').html('No Max');
                    }
                    else if(ui.values[0]!=0 && ui.values[1]==18){
                        $('#homes_formatted_from_lotacrg').html(statd +' acres');
                        $('#homes_formatted_to_lotacrg').html('No Max');
                    }
                    else if(ui.values[0]==0 && ui.values[1]!=18){
                        $('#homes_formatted_from_lotacrg').html('No Min');
                        $('#homes_formatted_to_lotacrg').html(endd+' acres');
                    }
                    else{
                        $('#homes_formatted_from_lotacrg').html(statd+' acres');
                        $('#homes_formatted_to_lotacrg').html(endd+' acres');
                    }
                    $("#lotacreage").text(getLotAcrgRealValue(ui.values[0])+ "-" + getLotAcrgRealValue(ui.values[1]));
                    lotacreagetext =  $("#lotacreage").text();
                    prp_lotacrgfrom=getLotAcrgRealValue(ui.values[0]);
                    prp_lotcregto=getLotAcrgRealValue(ui.values[1]);
                    HomeSummeryNew();
                }
            }
        });
    }
    function rentalfiltersliderevetns() {
        ///REntal Filter Sliders - Price
        $('#rental_formatted_from_price').html('No Min');
        $('#rental_formatted_to_price').html('No Max');
        var rentalslider=$("#rentalslider-range").slider({
            range: true,
            min: 0,
            max: 112,
            values: [0, 112],
            slide: function (event, ui) {
                var threshold, mg = 0;;
                if (getRentalPriceRealValue(ui.values[0]) < 8000)
                    threshold = 4;
                else if (getRentalPriceRealValue(ui.values[0]) > 8000 && getRentalPriceRealValue(ui.values[0]) < 15000) {
                    mg = 5;
                    threshold = 2;
                }

                else if (getRentalPriceRealValue(ui.values[0]) > 15000) {
                    mg = 5;
                    threshold = 1;
                }
                var handle = $('.ui-state-active', this),
             handleWidth = handle.width(),
             position = handle.position(),
             marginLeft;
                if (ui.handle.nextSibling) {
                    marginLeft = -handleWidth - mg;
                    handle.css('margin-left', marginLeft + 'px');
                }
                else {
                    handle.css('margin-left', '0px');
                }
                if (ui.values[1]-ui.values[0] < threshold){
                    return false;
                }
                else{
                    var statd = getRentalPriceRealValue(ui.values[0]);
                    var endd = getRentalPriceRealValue(ui.values[1]);
                    statd =getFormattedPrice_Rental(statd);
                    endd = getFormattedPrice_Rental(endd);
                    if(ui.values[0]==0 && ui.values[1]==112){
                        $('#rental_formatted_from_price').html('No Min');
                        $('#rental_formatted_to_price').html('No Max');
                    }
                    else if(ui.values[0]!=0 && ui.values[1]==112){
                        $('#rental_formatted_from_price').html(statd);
                        $('#rental_formatted_to_price').html('No Max');
                    }
                    else if(ui.values[0]==0 && ui.values[1]!=112){
                        $('#rental_formatted_from_price').html('No Min');
                        $('#rental_formatted_to_price').html(endd);
                    }
                    else{
                        $('#rental_formatted_from_price').html(statd);
                        $('#rental_formatted_to_price').html(endd);
                    }
                    $("#rentalprice").text(getRentalPriceRealValue(ui.values[0])+ "-" +getRentalPriceRealValue(ui.values[1]));
                    rpricetext =  $("#rentalprice").text();
                    prp_fromprice=getRentalPriceRealValue(ui.values[0]);
                    prp_toprice=getRentalPriceRealValue(ui.values[1]);
                    RentalSummerNew();
                }
            }
        });

        // For Square Feet-REntal
        $('#rental_formatted_from_sqft').html('No Min');
        $('#rental_formatted_to_sqft').html('No Max');
        var rentalsqftSlider= $("#rentalslider-range2").slider({
            range: true,
            min: 0,
            max: sqft_Index_values.length,
            values: [0, sqft_Index_values.length],
            slide: function (event, ui) {
                var handle = $('.ui-state-active', this),
                            handleWidth = handle.width(),
                            position = handle.position(),
                            marginLeft;
                if (ui.handle.nextSibling) {
                    marginLeft = -handleWidth-2;
                    handle.css('margin-left', marginLeft + 'px');
                }
                else {
                    handle.css('margin-left', '0px');
                }
                if (ui.values[1]-ui.values[0] < 1){
                    return false;
                }
                else{
                    var statd = getSqftRealValue(ui.values[0]);
                    var endd = getSqftRealValue(ui.values[1]);
                    if(ui.values[0]==0 && ui.values[1]==sqft_Index_values.length){
                        $('#rental_formatted_from_sqft').html('No Min');
                        $('#rental_formatted_to_sqft').html('No Max');
                    }
                    else if(ui.values[0]!=0 && ui.values[1]==sqft_Index_values.length){
                        $('#rental_formatted_from_sqft').html(statd +' sqft');
                        $('#rental_formatted_to_sqft').html('No Max');
                    }
                    else if(ui.values[0]==0 && ui.values[1]!=sqft_Index_values.length){
                        $('#rental_formatted_from_sqft').html('No Min');
                        $('#rental_formatted_to_sqft').html(endd +' sqft');
                    }
                    else{
                        $('#rental_formatted_from_sqft').html(statd +' sqft');
                        $('#rental_formatted_to_sqft').html(endd +' sqft');
                    }
                    $("#rentalsqft").text(getSqftRealValue(ui.values[0])+ "-" + getSqftRealValue(ui.values[1]));
                    rsqfttext = $("#rentalsqft").text();
                    prp_sqftfrom=getSqftRealValue(ui.values[0]);
                    prp_sqftto=getSqftRealValue(ui.values[1]);
                    RentalSummerNew();
                }
            }
        });
    }
    function lotsfiltersliderevetns() {
        ///Lot/Lands Filter Sliders - Price
        $('#lots_formatted_from_price').html('No Min');
        $('#lots_formatted_to_price').html('No Max');
        var lotslider=$("#lotsslider-range").slider({
            range: true,
            min: 0,
            max: 100,
            step:0.5,
            values: [0, 100],
            slide: function (event, ui) {
                var handle = $('.ui-state-active', this),
                            handleWidth = handle.width(),
                            position = handle.position(),
                            marginLeft;
                if (ui.handle.nextSibling) {
                    marginLeft = -handleWidth;
                    if (getRealValue(ui.values[0]) < 1000000)
                        handle.css('margin-left', marginLeft + 'px');
                    else {
                        handle.css('margin-left', marginLeft - 2 + 'px');
                    }
                }
                else {
                    handle.css('margin-left', '1px');
                }
                if (ui.values[1]-ui.values[0] < 1){
                    return false;
                }
                else{
                    var statd = getRealValue(ui.values[0]);
                    var endd = getRealValue(ui.values[1]);
                    statd = getFormattedPrice(statd);
                    endd = getFormattedPrice(endd);

                    if(ui.values[0]==0 && ui.values[1]==100){
                        $('#lots_formatted_from_price').html('No Min');
                        $('#lots_formatted_to_price').html('No Max');
                    }
                    else if(ui.values[0]!=0 && ui.values[1]==100){
                        $('#lots_formatted_from_price').html(statd);
                        $('#lots_formatted_to_price').html('No Max');
                    }
                    else if(ui.values[0]==0 && ui.values[1]!=100){
                        $('#lots_formatted_from_price').html('No Min');
                        $('#lots_formatted_to_price').html(endd);
                    }
                    else{
                        $('#lots_formatted_from_price').html(statd);
                        $('#lots_formatted_to_price').html(endd);
                    }
                    $("#lotsprice").text(getRealValue(ui.values[0]) + "-" + getRealValue(ui.values[1]));
                    lpricetext =  $("#lotsprice").text();
                    prp_fromprice=getRealValue(ui.values[0]);
                    prp_toprice=getRealValue(ui.values[1]);
                    LotSummerNew();
                }
            }
        });

        // For Square Feet-Lots
        $('#lots_formatted_from_lotsacrg').html('No Min');
        $('#lots_formatted_to_lotsacrg').html('No Max');
        var lotslideracrege=$("#lotsslider-range2").slider({
            range: true,
            min: 0,
            max: 18,
           
            values: [0, 18],
            slide: function (event, ui) {
                var handle = $('.ui-state-active', this),
                            handleWidth = handle.width(),
                            position = handle.position(),
                            marginLeft;
                if (ui.handle.nextSibling) {
                    marginLeft = -handleWidth+4;
                    handle.css('margin-left', marginLeft + 'px');
                }
                else {
                    handle.css('margin-left', '0px');
                }
                if (ui.values[1]-ui.values[0] < 1){
                    return false;
                }
                else{
                    var statd = getLotAcrgRealValue(ui.values[0]);
                    var endd = getLotAcrgRealValue(ui.values[1]);
                    if(ui.values[0]==0 && ui.values[1]==18){
                        $('#lots_formatted_from_lotsacrg').html('No Min');
                        $('#lots_formatted_to_lotsacrg').html('No Max');
                    }
                    else if(ui.values[0]!=0 && ui.values[1]==18){
                        $('#lots_formatted_from_lotsacrg').html(statd+' acres');
                        $('#lots_formatted_to_lotsacrg').html('No Max');
                    }
                    else if(ui.values[0]==0 && ui.values[1]!=18){
                        $('#lots_formatted_from_lotsacrg').html('No Min');
                        $('#lots_formatted_to_lotsacrg').html(endd+ ' acres');
                    }
                    else{
                        $('#lots_formatted_from_lotsacrg').html(statd +' acres');
                        $('#lots_formatted_to_lotsacrg').html(endd+' acres');
                    }
                    $("#lotslotacreage").text(getLotAcrgRealValue(ui.values[0])+ "-" + getLotAcrgRealValue(ui.values[1]));
                    llotacreagetext = $("#lotslotacreage").text();
                    prp_lotacrgfrom=getLotAcrgRealValue(ui.values[0]);
                    prp_lotcregto=getLotAcrgRealValue(ui.values[1]);
                    LotSummerNew();
                }
            }
        });

    }
    //Home Filters Apply Button Event
    $("#HFiltersApplyBtn").click(function(){
        prp_filtertype='1';
        $("#search").val('');
        prp_classtype = "1";
        if ($("input[name='homeclass']:checked")) {
            var homeclassval = [];
            $.each($("input[name='homeclass']:checked"), function () {
                homeclassval.push($(this).val());
            });
            prp_classtype = homeclassval.join(",")
        }
        applyFilters();

        $('#HomeModalFilters').modal('hide');
        @*HomeFilterValuesAssigning();
        $.ajax({
            url: "@Url.Action("SearchFilterProperties", "SavedSearch")",
            type: "POST",
            dataType: "json",
            contentType: "application/json; charset=utf-8",
            data: JSON.stringify(homefilterobj),
            success: function (res) {
                $("#spinner").css("display", "none");
                if (res.length>0) {
                    countprop=res.length;
                    alert(countprop)
                    //initialize(res);
                    //RightSideListView(res);
                    // $("#listcount").text(res.length);
                    //$("#Totallistcount").text(res[0].NoOfListings);
                }
                else {
                    $("#heading").text("Properties Not Available");
                    $("#content_text").text("Quitchet was unable to get property data for your filters");
                    $("#AlertPopup").modal("show");
                    $('#HomeModalFilters').modal('hide');
                }
            },
            complete : function(){
                //zoomchanged(10);
            },
            error :function(){
                $("#spinner").css("display", "none");
                $("#heading").text("Alert");
                $("#content_text").text("No Data Found");
                $("#AlertPopup").modal("show")
                $('#HomeModalFilters').modal('hide');
            },
        });*@
    });
    //Rental Filters Apply Button Event
    $("#rentalApplybtn").click(function(){
        $("#search").val('');
        $('#RentalsModalFilters').modal('hide');
        prp_filtertype='2'; prp_classtype = "0";
        applyFilters();
        @*RentalFilterValuesAssigning();
        $.ajax({
            url: "@Url.Action("SearchRentalFilterProperties", "SavedSearch")",
            type: "POST",
            dataType: "json",
            contentType: "application/json; charset=utf-8",
            data: JSON.stringify(rentalfilterobj),
            success: function (res) {
                $("#spinner").css("display", "none");
                if (res.length>0) {
                    countprop=res.length;
                    $("#listcount").text(res.length);
                    $("#Totallistcount").text(res[0].NoOfListings);
                    initialize(res);
                    RightSideListView(res);
                }
                else {
                    $("#heading").text("Properties Not Available");
                    $("#content_text").text("Quitchet was unable to get property data for your filters");
                    $("#AlertPopup").modal("show")
                    $('#RentalsModalFilters').modal('hide');
                }
            },
            complete : function(){
                //zoomchanged(10);
            },
            error :function(){
                $("#spinner").css("display", "none");
                $("#heading").text("Alert");
                $("#content_text").text("No Data Found");
                $("#AlertPopup").modal("show")
                $('#RentalsModalFilters').modal('hide');
            },
        });*@
    });
    //Lots Filters Apply Button Event
    $("#lotsFiltersApplyBtn").click(function(){
        $("#search").val('');
        LotFilterValuesAssigning();
        prp_filtertype="3";
        prp_classtype = "1";
        if ($("input[name='lotclass']:checked")) {
            var lotclassval = [];
            $.each($("input[name='lotclass']:checked"), function () {
                lotclassval.push($(this).val());
            });
            prp_classtype = lotclassval.join(",")
        }
        $('#LotLandsModalFilters').modal('hide');
        applyFilters();
        @*$.ajax({
            url: "@Url.Action("SearchLotsFilterProperties", "SavedSearch")",
            type: "POST",
            dataType: "json",
            contentType: "application/json; charset=utf-8",
            data: JSON.stringify(lotsfilterobj),
            success: function (res) {
                $("#spinner").css("display", "none");
                countprop=res.length;
                if (res.length>0) {
                    $("#listcount").text(res.length);
                    $("#Totallistcount").text(res[0].NoOfListings);
                    initialize(res);
                    RightSideListView(res);
                }
                else {
                    $("#heading").text("Properties Not Available");
                    $("#content_text").text("Quitchet was unable to get property data for your filters");
                    $("#AlertPopup").modal("show")
                    $('#LotLandsModalFilters').modal('hide');
                }
            },
            complete : function(){
                // zoomchanged(10);
            },
            error :function(){
                $("#spinner").css("display", "none");
                $("#heading").text("Alert");
                $("#content_text").text("No Data Found");
                $("#AlertPopup").modal("show")
                $('#LotLandsModalFilters').modal('hide');
            },
        });*@
    });
</script>
@*Map Functionality*@
<script>
    var center_lat="",center_long="";
    var map;   var bondarypath;var zoomlevel;
    function load(){
        $("#googlemaps").width('80%');
        map = new google.maps.Map(document.getElementById('googlemaps'), {
            zoom: 12, // initialize zoom level - the max value is 21
            minZoom: 6,
            // maxZoom: 16,
            fullscreenControl: false,
            zoomControl: false,
            mapTypeControl: false,
            mapTypeId: google.maps.MapTypeId.ROADMAP,
            // center: {lat:34.8526,lng:-82.3940},
            center:{lat:(center_lat!='')?center_lat:34.8526,lng:(center_long!='')?center_long:-82.3940}
        });
        google.maps.event.addDomListener(map, 'tilesloaded', function (){
            getMapBoundaryPath();
        });
        //Zoom_changed event listener
        google.maps.event.addDomListener(zoomInButton, 'click', ZoomPlus) ;
        google.maps.event.addDomListener(zoomOutButton, 'click', ZommMinus) ;
        google.maps.event.addListener(map, 'zoom_changed',function () {
            zoomchanged(map.getZoom());
        });
    }
    var mapupdater;
    //Function to zoomm in at only one step
    function ZoomPlus() {
        clearTimeout(mapupdater);
        mapupdater=setTimeout( map.setZoom(map.getZoom() + 1),500);
       
        // zoomchanged(map.getZoom())
    }
    //Function to zoomm out at only one step
    function ZommMinus() {
        clearTimeout(mapupdater);
        mapupdater=setTimeout( map.setZoom(map.getZoom() - 1),500);
    
        //  zoomchanged(map.getZoom())
    }
    var PrvCount =0,tempData=[],isSimpleSearch="false";
    var polylatlongs=[],initialpoint='', polypath=[],bondarypath="",zoomlevel="";
    var m = []; var pos; var city; var geocoder; var listviewmarkerids=[],listofMLSIDs="",poly="";
    var mymarkers = [],ibLabel=[];// array used to push the latitude and longitude for reference while removing options
    // function which executes on window load
    function Reinits() {
        var mypos = new google.maps.LatLng(current_latt,current_lott);
        map.setCenter(mypos)
       setTimeout(function(){GetListingsbySearch_Zoom_Drag_on_Boundaries(mylocation,sorybyid,zoomlevel,bondarypath,'')},1000);
       //$('#search').val(mylocation)
        ////Code snippet to get Current location and city
        //if (navigator.geolocation) {
        //    navigator.geolocation.getCurrentPosition(function (position) {
        //        geocoder = new google.maps.Geocoder();
        //        //alert(position.coords.latitude+","+ position.coords.longitude);
        //        // pos = new google.maps.LatLng(34.8526, -82.3940);
        //        pos = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);
        //        geocoder.geocode({ 'latLng': pos }, function (results, status) {
        //            //alert(status)
        //            if (status == google.maps.GeocoderStatus.OK) {
        //                //formatted address
        //                var address = results[0].formatted_address;
        //                //alert("address = " + address);
        //                var value = address.split(",");
        //                count = value.length;
        //                country = value[count - 1];
        //                state = value[count - 2];
        //                city = value[count - 3];
        //                city = city.trim()+', '+state;
        //                $('search').val(city)
        //                GetListingsbySearch_Zoom_Drag_on_Boundaries(mylocation, 1,zoomlevel,bondarypath,'')
        //                //getdatabycurrentlocataion(city,"1")
        //            } else {
        //                alert("Geocoder failed due to: " + status);
        //            }
        //        });
        //    });
        //}
        //else {
        //    alert('browser  not supported');
        //}
    }
    //function to get the data from DB based on current location(city)
    function getdatabycurrentlocataion(city, sorybyid) {
        $.ajax({
            url: "/Customer/SearchFilter/GetData/",
            type: "POST",
            dataType: "json",
            data: { city: city, SortBy: sorybyid},
            success: function (data) {
                $("#listcount").text(data.length);
                $("#Totallistcount").text(data[0].NoOfListings);
                $("#footer").show();
                if(data.length>0)
                {
                    PrvCount=500;
                    $("#rightdiv").show();
                    $("#footer").show();
                    $("#CollDiv").show();
                    $(".iconsdiv").show();
                    if(sorybyid!="1")
                    {
                        RightSideListView(data);
                    }
                    else
                    {
                        initialize(data);
                        RightSideListView(data);
                    }
                }
                else
                {
                    $("#heading").text("Properties Not Available");
                    $("#content_text").text("Quitchet was unable to get property data for your current location");
                    $("#AlertPopup").modal("show");
                    initialMapload();
                }
            },
            error: function () {
                alert('error')
            },
            complete: function(){
                google.maps.event.trigger(map, 'dragend');
            }
        })
    }
    //get data from landing page
    function getdatabysearchElementfromLanding(s,class_type,sorybyid,bondarypath) {
        $("#spinner").css("display", "block");
        $.ajax({
            url: "/Customer/SearchFilter/GetPropFromLanding/",
            type: "POST",
            dataType: "json",
            data: { searchele: s,class_type:class_type,SortBy: sorybyid,MapBounds:bondarypath},
            success: function (data) {
                $("#listcount").text(data.length);
                $("#footer").show();
                if(data.length>0)
                {
                    $("#Totallistcount").text(data[0].NoOfListings);
                    PrvCount=500;
                    $(".iconsdiv").show();
                   // if(sorybyid<="1")
                    //{
                        initialize(data);
                        RightSideListView(data);
                    //}
                    //else
                    //{
                    //    RightSideListView(data);
                    //}
                }
                else
                {
                    initialMapload();
                    $("#search").val('');
                    $("#heading").text("Properties Not Available");
                    $("#content_text").text("Quitchet was unable to get property data for your search area");
                    $("#AlertPopup").modal("show");
                }
            },
            error: function () {
                $("#spinner").css("display", "none");
            },
            complete: function(){
                $("#spinner").css("display", "none");
                google.maps.event.trigger(map, 'tilesloaded');
            }
        })
    }
    //Function to get Data based on search element
    var tempData=[];
    //Method Which is used when dragged - removed on 9/5/18-10:50pm -not using below function anywhere
    function getdatabysearchElement(searchele, sorybyid,zoomlevel,bondarypath) {
        isSimpleSearch="false";
        $.ajax({
            url: "/Customer/SearchFilter/GetPropBySearchElementAndroid/",
            type: "GET",
            dataType: "json",
            data: { searchele: searchele, SortBy: sorybyid,zoomlevel:zoomlevel,mapbounds:bondarypath},
            success: function (data) {
                $("#listcount").text(data.length);

                $("#Totallistcount").text(data[0].NoOfListings);
                $("#footer").show();
                if(data.length>0)
                {
                    $(".iconsdiv").show();
                    initialize(data);
                    RightSideListView(data);
                }
                else
                {
                    $("#spinner").css("display", "none");
                    initialMapload();
                    $("#heading").text("Properties Not Available");
                    $("#content_text").text("Quitchet was unable to get property data for your search area");
                    $("#AlertPopup").modal("show");
                }
            },
            complete:function(data){
                // map.setZoom(myzoom);
                map.dragInProgress = false;
                if(data.length>0){
                }
            },
            error: function () {
                $("#spinner").css("display", "none");
            },
        })
    }

    //Method to Get data when searched in searchfilter Simple SEarch ,
    //on Drag with boundaries and Zoomin and Out
    function GetListingsbySearch_Zoom_Drag_on_Boundaries(searchele, sorybyid,zoomlevel,bondarypath,PrvCount) {
        isSimpleSearch="true";
        $("#spinner").css("display", "block");
        $.ajax({
            url: "/Customer/SearchFilter/GetListingsbySearchZoomDragonBoundaries/",
            type: "POST",
            dataType: "json",
            data: { searchele: searchele, SortBy: sorybyid,zoomlevel:'16',mapbounds:bondarypath,PrvCount:PrvCount},
            success: function (data) {
                $("#footer").show();
                if(data.length>0)
                {
                    $("#listcount").text(data.length);
                    $("#Totallistcount").text(data[0].NoOfListings);
                    PrvCount=500;
                    $(".iconsdiv").show();
                    //if(sortbyid<=1){
                        initialize(data);
                   // }
                    
                    RightSideListView(data);
                }
                else
                {
                    initialMapload();
                    $("#heading").text("Properties Not Available");
                    $("#content_text").text("Quitchet was unable to get property data for your search area");
                    $("#AlertPopup").modal("show");
                }
            },
            complete:function(data){
                map.dragInProgress = false;
                $("#spinner").css("display", "none");
                google.maps.event.trigger(map, 'tilesloaded');
            },
            error: function () {
                $("#spinner").css("display", "none");
            },
        })
    }
    //Method to intialize the map using service
    var isdrawClick="false";
    function initialize(data) {
        var proptype="";
        for (var i = 0; i < m.length; i++){
            m[i].setMap(null);
        }
        if ($("input[name='homeclass']:checked")) {
            var homeclassval = [];
            proptype="Residential";
            $.each($("input[name='homeclass']:checked"), function () {
                homeclassval.push($(this).val());
            });
            classtype = homeclassval.join(",")
        }
        var saletype,openhouse="";
        var latLng = new google.maps.LatLng(data[0].GeoLatitude,data[0].GeoLongitude);
        // For each loop to create markers and assign appropriate icons based on class type
        m=[],mymarkers=[];
        if(SS_poly!=''){
            map.setMaP(null)
        }
        $.each(data, function (i, item) {
            if(data.length=="1"){
                center_lat= parseFloat(item.GeoLatitude);
                center_long=parseFloat(item.GeoLongitude);
            }
            var icon = {
                url: '',
            };
            if(item.Class=="Residential"){
                if (item.Sale_Rent == "Active") {
                    saletype="<label style=''>For Sale</label>";
                    if (item.Is_viewd == "YES") {
                        icon.url = '/img/viewed_greenpin.png'
                    }
                    if (item.Is_Favorite == "YES") {
                        icon.url = '/img/fav_greenpin.png'
                    }
                    if (item.Is_Favorite == "NO" && item.Is_viewd== "NO")
                        icon.url = '/img/Green_legend_Menu.png'
                }
                else if (item.Sale_Rent == "Pending" || item.Sale_Rent == "Contingency Contract") {
                    saletype="<label style=''>Under Contract</label>";
                    if (item.Is_viewd == "YES") {
                        icon.url = '/img/viewed_yellowpin.png'
                    }
                    if (item.Is_Favorite == "YES") {
                        icon.url = '/img/fav_yellowpin.png'
                    }
                    if (item.Is_Favorite == "NO" && item.Is_viewd== "NO")
                        icon.url = '/img/yellow_legendMenu.png'
                }
                else if (item.Sale_Rent == "Sold") {
                    saletype="<label style=''>Sold</label>";
                    if (item.Is_viewd == "YES") {
                        icon.url = '/img/viewed_redpin.png'
                    }
                    if (item.Is_Favorite == "YES") {
                        icon.url = '/img/fav_redpin.png'
                    }
                    if (item.Is_Favorite == "NO" && item.Is_viewd== "NO")
                        icon.url = '/img/red_legendMenu.png'
                }
            }
            else if (item.Class == "Rental"){
                saletype="<label style=''>Rental</label>";
                if (item.Is_viewd == "YES") {
                    icon.url = '/img/viewed_graypin.png'
                }
                if (item.Is_Favorite == "YES") {
                    icon.url = '/img/fav_gray.png'
                }
                if (item.Is_Favorite == "NO" && item.Is_viewd== "NO")
                    icon.url = '/img/gray_legendMenu.png'
            }
            else if(item.Class=="Lots/Land"){
                if (item.Sale_Rent == "Active") {
                    saletype="<label style=''>For Sale</label>";
                    if (item.Is_viewd == "YES") {
                        icon.url = '/img/viewed_greenpin.png'
                    }
                    if (item.Is_Favorite == "YES") {
                        icon.url = '/img/fav_greenpin.png'
                    }
                    if (item.Is_Favorite == "NO" && item.Is_viewd== "NO")
                        icon.url = '/img/Green_legend_Menu.png'
                }
                else if (item.Sale_Rent == "Pending") {
                    saletype="<label style=''>Under Contract</label>";
                    if (item.Is_viewd == "YES") {
                        icon.url = '/img/viewed_yellowpin.png'
                    }
                    if (item.Is_Favorite == "YES") {
                        icon.url = '/img/fav_yellowpin.png'
                    }
                    if (item.Is_Favorite == "NO" && item.Is_viewd== "NO")
                        icon.url = '/img/yellow_legendMenu.png'
                }
                else if (item.Sale_Rent == "Sold") {
                    saletype="<label style=''>Sold</label>";
                    if (item.Is_viewd == "YES") {
                        icon.url = '/img/viewed_redpin.png'
                    }
                    if (item.Is_Favorite == "YES") {
                        icon.url = '/img/fav_redpin.png'
                    }
                    if (item.Is_Favorite == "NO" && item.Is_viewd== "NO")
                        icon.url = '/img/red_legendMenu.png'
                }
            }
            else{}
            if (item.Sale_Rent == "OpenHouse") {
                saletype="<label style=''>Open House</label>";
                icon.url = '/img/OpenHousefullBlue.png',
                   openhouse='<div class="col-sm-12" style="border-radius:5px;font-size:12px;background-color:blue;text-align:center;color:#fff">'+item.OpenHouseDate+'  '+item.OpenHouseTime+'</div>';
            }
            else
                openhouse='';
            var Latt = item.GeoLatitude;
            var Longg = item.GeoLongitude;

            var marker = new google.maps.Marker({
                position: new google.maps.LatLng(Latt, Longg),
                map: map,
                icon: icon,
                anchor: new google.maps.Point(6, 12),
                optimized: false,
                title: item.City,
                id:item.MLSId,
                customInfo:item.Class+"-"+item.Sale_Rent+"-"+i
            });
            //var labelText = "<div id='pricecontent' class='map-arrowup'><span>"+ratingprice(item.ListingPrice)+"</span></div>";
            //var myOptions = {
            //    content: labelText,
            //    boxStyle: {
            //        border: "none", //1px solid black"
            //        textAlign: "center",
            //        fontSize: "7pt",
            //        //width: "10px",
            //    },
            //    disableAutoPan: true,
            //    pixelOffset: new google.maps.Size(-20, 8),
            //    position: new google.maps.LatLng(Latt, Longg),
            //    closeBoxURL: "",
            //    isHidden: false,
            //    pane: "mapPane",
            //    enableEventPropagation: true
            //};
            //ibLabel[i] = new InfoBox(myOptions);
            ////ibLabel[i].open(map);
            //google.maps.event.addListener(map, 'zoom_changed', function() {
            //    if(map.getZoom()>11){
            //        for(var i=0;i<ibLabel.length;i++)
            //        ibLabel[i].open(map);
            //    }
            //    else
            //        for(var i=0;i<ibLabel.length;i++)
            //        ibLabel[i].close(map);
            //});
            //ibLabel.open(map);
            //marker.set("id", item.MLSId);
            //code snippet to ad the values to controls when the markes was cliked
            marker.addListener('click', function () {
                if(usertypeid=="2"){
                    AgentFullDetailsView(AgentId, item.MLSId);
                }
                else{
                    CustomerFullViewListing(item.MLSId);
                }
                debugger
                var viewedmarker='';
                var type=marker.get("customInfo")
                var ctype=type.split('-')[0];
                var stype=type.split('-')[1];
                if(ctype=="Residential" || ctype=="Lots/Land"){
                    if(stype=="Active"){
                        viewedmarker='/img/viewed_greenpin.png';
                    }
                    else if(stype=="Pending" || stype=="Contingency Contract"){
                        viewedmarker='/img/viewed_yellowpin.png';
                    }
                    else if(stype=="Sold"){
                        viewedmarker='/img/viewed_redpin.png';
                    }
                    else if(stype=="OpenHouse"){
                        viewedmarker='/img/viewed_bluepin.png';
                    }
                    //alert($( "#RightsideDivData" ).find( "#"+type.split('-')[2] ).attr( "src" ));
                }
                else if(ctype=="Rental"){
                    viewedmarker='/img/viewed_graypin.png';
                }
                else if(stype=="OpenHouse"){
                    viewedmarker='/img/viewed_bluepin.png';
                }
                // alert(this.customInfo)
                $( "#RightsideDivData" ).find( "#"+type.split('-')[2] ).attr( "src",viewedmarker);
                marker.setIcon(viewedmarker);
            });
            //google.maps.event.addListener( map,'click', function () {
            //   //Change the marker icon
            //    marker.setIcon('https://www.google.com/mapfiles/marker_black.png');
            //});
            var timeoutId = null;
            marker.addListener('mouseover', function () {
                if(map.getZoom()>9)
                {
                    timeoutId = window.setTimeout(function(){
                        infowindow.open(map,marker);
                    }, 800);
                }
            });
            marker.addListener('mouseout', function () {
                window.clearTimeout(timeoutId)
                if (infowindow) {
                    infowindow.close();
                }
                //infowindow.close(map,marker);
            });

            var price = (item.ListingPrice + "").replace(/(\d)(?=(\d{3})+(?!\d))/g, "$1,");
            var Listing="$"+price;
            var iw_img_src="";
            if(item.Photolocation!="" && item.Photolocation!=null && item.Photolocation!="," )
            {
                if(item.Photolocation.indexOf(',')>-1)
                    iw_img_src=item.Photolocation.split(',')[0];
                else
                    iw_img_src=item.Photolocation;
            }
            else
                iw_img_src="/img/NoImage.png";
            var content = '<div class="col-sm-12" style="overflow-x:hidden;padding:0;">' +openhouse+
                                '<div class=" col-sm-8" style="margin-left:-15px;padding:0;"><img src="'+iw_img_src+'" height="50" width="75"></div>' +
                                '<div class=" col-sm-4" id="salecolor" style="margin-left:-15px;padding:0;"><span>'+saletype+'</span><span style="font-weight:Bold;font-size:13px;color:#ff6937">'+Listing+'</span></div>'+
                                '<div class=" col-sm-6" style="padding:0;">&nbsp</div>'+
                                '<div class=" col-sm-6" style="padding:0;margin-left:-5px;"><span class="lblcount">'+item.Bedrooms+'</span> BD &nbsp;<span class="lblcount">'+item.BathRooms+'</span> BA'+'</div></div>' ;
            var infowindow = new google.maps.InfoWindow({
                content: content,
                maxWidth: 150
            })
            m.push(marker);// pushing every marker value into the array for reference
            var l = Latt + "," + Longg;
            mymarkers.push(l);
        });
        if(center_lat!="" && center_long!="" && isSimpleSearch=="true")
        {
            map.setCenter({
                lat : center_lat,
                lng : center_long
            });
        }
        //End Initialize function
        var count;
        map.dragInProgress = false;
        google.maps.event.addListener(map, 'dragend', function()
        {
            $('#search').val('')
            center_lat='',center_long=''
            // if( isdrawClick!="true"){
            if(map.dragInProgress == false && isMLSsearch =='false' && isdrawClick=="false") { //only first shall pass
                map.dragInProgress = true;
                getMapBoundaryPath();
                GetListingsbySearch_Zoom_Drag_on_Boundaries('0', sorybyid,zoomlevel,bondarypath,'')
            }
        });
        //draw pencil
        $("#drawpoly").click(function (e) {
            isdrawClick="true";
            listviewmarkerids=[];
            $("#search").text('');
            $("#footer").hide();
            $(".search-div").css("pointer-events","none");
            $("#RightsideDivData").css("pointer-events","none");
            $(".panel").css("pointer-events","none");
            $(".iconsdiv").css("pointer-events","none");
            if(poly!="")
                poly.setMap(null);
            for (var i = 0; i < m.length; i++) {
                //ibLabel[i].close(map);
                m[i].setMap(null);
            }
            disable()
            google.maps.event.addDomListener(map.getDiv(), 'mousedown', function (e) {
                drawFreeHand()
            });
        });
        //Event to get current posotion
        $("#mylocation").click(function (e) {
            geolocate();
        });
        $("#mapview").click(function () {
            $("#sat").attr("src", "/img/sat.png")
            var p = $("#map").attr('src');
            if (p == "/img/map.png")
                $("#map").attr("src", "/img/map2.png")
            map.setMapTypeId(google.maps.MapTypeId.ROADMAP);
        });
        $("#satview").click(function () {
            $("#map").attr("src", "/img/map.png")
            var p = $("#sat").attr('src');
            if (p == "/img/sat.png")
                $("#sat").attr("src", "/img/sat2.png")
            map.setMapTypeId(google.maps.MapTypeId.SATELLITE);
        });
    }
    //function to get mapbounds
    function getMapBoundaryPath(){
        bounds=map.getBounds();
        var NE = bounds.getNorthEast();
        var SW = bounds.getSouthWest();
        var SE = new google.maps.LatLng({ lat: SW.lat(), lng: NE.lng() })
        var NW = new google.maps.LatLng({ lat: NE.lat(), lng: SW.lng() });
        zoomlevel=map.getZoom();
        myzoom=map.getZoom();
        bondarypath=NW.lng()+" "+NW.lat()+","+SW.lng()+" "+SW.lat()+","+SE.lng()+" "+SE.lat()+","+NE.lng()+" "+NE.lat()+","+NW.lng()+" "+NW.lat();
        prp_mapbounds=bondarypath
    }
    //function to get cities on map boundaries
    function getCitiesListonMapBoundary(){
        citynameslists=""
        for (var i = 0; i < m.length; i++)
        {
            if (map.getBounds().contains(m[i].getPosition()))
            {
                var c=m[i].getTitle()
                if(c!=null && c!=''){
                    if(citynameslists=="")
                    {
                        citynameslists=c;
                    }
                    else
                    {
                        if(citynameslists.toString().indexOf()!= -1)
                        {}
                        else{
                            if(citynameslists.indexOf(c)>-1){

                            }
                            else{
                                citynameslists=citynameslists+","+c;
                            }
                        }
                    }
                }
            }
        }
        $("#citieslist").text(citynameslists);
    }
    //Function to trigger mouse over event when placed cursor on image in list view
    function triggerMouseOver(mlsid) {
        for (var i = 0; i < m.length; i++)
        {
            if(m[i].get("id")==mlsid)
            {
                google.maps.event.trigger(m[i], 'mouseover');
            }
        }
    }
    //Function to trigger mouse out event when removed cursoe from image in list view
    function triggerMouseOut(mlsid) {
        for (var i = 0; i < m.length; i++)
        {
            if(m[i].get("id")==mlsid)
            {
                google.maps.event.trigger(m[i], 'mouseout');
            }
        }
    }
    //Function to get full details of property on marker click
    var PopupPhotos=[],pushimages=[];
    //function to bind list of right side div
    function RightSideListView(data) {
        $("#citieslist").text('');
        if(data.length>6)
        {
            $("#over_map").css("margin-right", "-2%");
            $("#CollDiv").show();
            $("#rightdiv").show();
        }
        else
        {
            $("#over_map").css("margin-right", "0%");
            $("#CollDiv").hide();
        }
        $("#rightdiv").show();
        $("#RightListView").html(tab);
        var tab = $('<div style="background-color: white;margin-top:10px;" id="RightsideDivData"></div>');
        var AlinVar = 0;
        var ImgfavIdDyn = "FavImg";
        var UnFavUrl = "/img/heartm.png";
        var FavUrl = "/img/hearticon.png";
        var isFav = "";
        var isFavUrl = "";
        TotalImages=[];
        ele_schools=[],middle_schools=[],high_schools=[],AllSubDivisionNames=[];
        $.each(data, function (i, item) {

            // To load distinct Middile,High,Elementary schools and sub divisions
            if(data[i].Middle!=null && data[i].Middle!="" && data[i].Middle!='null' && data[i].Middle!='Not Listed'){
                if($.inArray(data[i].Middle,middle_schools) != '-1'){
                }
                else
                    middle_schools.push(data[i].Middle);
            }//middle Schools
            if(data[i].Elementary!=null && data[i].Elementary!="" && data[i].Elementary!='null' && data[i].Elementary!='Not Listed'){
                if($.inArray(data[i].Elementary,ele_schools) != '-1'){
                }
                else
                {
                    ele_schools.push(data[i].Elementary);
                }
            } //Elementary Schools
            if(data[i].High!=null && data[i].High!="" && data[i].High!='null' && data[i].High!='Not Listed'){
                if($.inArray(data[i].High,high_schools) != '-1'){
                }
                else
                    high_schools.push(data[i].High);
            }//High Schools
            if(data[i].Subdiv!=null && data[i].Subdiv!="" && data[i].Subdiv!='null' && data[i].Subdiv!='Not Listed'){
                if($.inArray(data[i].Subdiv,AllSubDivisionNames) != '-1'){
                }
                else
                    AllSubDivisionNames.push(data[i].Subdiv);
            }//Sub AllSubDivisionNames

            var PhotosURL=[];
            if(item.Photolocation!=null && item.Photolocation!="null" && item.Photolocation!='' && item.Photolocation!=',')
            {
                if(item.Photolocation.indexOf(',')>-1){
                    TotalImages.push(item.Photolocation);
                    if(TotalImages.length>0)
                    {
                        if(TotalImages.length=="0")
                            PhotosURL=item.Photolocation;
                        else
                            PhotosURL=item.Photolocation.split(',');
                    }
                }
                else{
                    PhotosURL[0]=item.Photolocation;
                }
            }
            else{
                PhotosURL[0]='/img/NoImage.png';
            }
            var BtnPrevImgId="Prev"+item.MLSId;
            var BtnNextImgId="Next"+item.MLSId;
            var DivImgId="img"+item.MLSId;
            ImgfavIdDyn = ImgfavIdDyn + item.MLSId;
            if (item.Is_Favorite == "NO") {
                isFavUrl = UnFavUrl;
                isFav = 0;
            }
            else {
                isFavUrl = FavUrl;
                isFav = 1;
            }
            var iconurl = "";
            if (item.Sale_Rent == "Active") {
                if(item.Is_Favorite=="YES")
                    iconurl = '/img/fav_greenpin.png'
                else if (item.Is_viewd == "YES") {
                    iconurl = '/img/viewed_greenpin.png'
                }
                else
                    iconurl = '/img/Green_legend_Menu.png'
            }
            else if (item.Sale_Rent == "Pending" ||item.Sale_Rent == "Contingency Contract") {
                if(item.Is_Favorite=="YES")
                    iconurl = '/img/fav_yellowpin.png'
                else if (item.Is_viewd == "YES") {
                    iconurl = '/img/viewed_yellowpin.png'
                }
                else
                    iconurl = '/img/yellow_legendMenu.png'
            }
            else if (item.Sale_Rent == "Sold") {
                if(item.Is_Favorite=="YES")
                    iconurl = '/img/fav_redpin.png'
                else if (item.Is_viewd == "YES") {
                    iconurl = '/img/viewed_redpin.png'
                }
                else
                    iconurl = '/img/red_legendMenu.png'
            }
            else if (item.Sale_Rent == "OpenHouse") {
                iconurl = '/img/OpenHousefullBlue.png';
                //    openhouse='<div class="col-sm-12" style="border-radius:5px;font-size:12px;background-color:blue;text-align:center;color:#fff">'+item.OpenHouseDate+'  '+item.OpenHouseTime+'</div>';
            }
            if (item.Class == "Rental") {
                if(item.Is_Favorite=="YES")
                    iconurl = '/img/fav_gray.png'
                else if (item.Is_viewd == "YES") {
                    iconurl = '/img/viewed_graypin.png'
                }
                else
                    iconurl = '/img/gray_legendMenu.png'
            }
            //which shows top of the every property
            var Is_viewedUrl = "",acres="";
            if (item.Is_viewd == "YES") {
                if(item.Sale_Rent=="Active")
                    Is_viewedUrl = "/img/viewed_greenpin.png";
                if(item.Sale_Rent=="Pending")
                    Is_viewedUrl = "/img/viewed_yellowpin.png";
                if(item.Sale_Rent=="Sold")
                    Is_viewedUrl = "/img/viewed_redpin.png";
                if(item.Class=="Rental")
                    Is_viewedUrl = "/img/viewed_graypin.png";
                if (item.Sale_Rent == "OpenHouse") {
                    Is_viewedUrl = '/img/OpenHousefullBlue.png';
                }
            }
            if(Is_viewedUrl=="")
                var isviewImagediv="";
            else
                var isviewImagediv='<img src="' + Is_viewedUrl + '" width="20" height="20"/>';
            var number=item.ListingPrice;
            var num=  number.toLocaleString();
            var bedandbaths=item.Bedrooms + '<span style="color:#878a8c !important;font-weight:normal !important;"> Bedrooms</span> ' + '  ' + item.BathRooms + ' <span style="color:#878a8c !important;font-weight:normal !important;"> Bathrooms</span>';
            var listingprice=('<span style="color:#878a8c !important;font-weight:normal !important;"> Listing Price :</span> ' +item.ListingPrice);
            var sold=('<span style="color:#878a8c ;margin-left: 6px;font-weight:normal !important;"> Sold Price : </span> $ ' +item.SoldPrice.toLocaleString());
            if(item.Class=="Lots/Land"){
                bedandbaths='&nbsp;';
                if(item.Sale_Rent=="Active" ){
                    var acres=item.ApproxAcres+'&nbsp;'+'acres';
                    sold='&nbsp;';
                }
                else if (item.Sale_Rent == "Pending") {
                    var acres=item.ApproxAcres+'&nbsp;'+'acres';
                    sold='&nbsp;';
                }
                else if (item.Sale_Rent == "Sold") {
                    var acres=item.ApproxAcres+'&nbsp;'+'acres';
                }
            }
            if(item.Class=="Residential")
            {
                if(item.Sale_Rent=="Active" ){
                    var acres=item.ApproxAcres+'&nbsp;'+'sqft';
                    sold='&nbsp;';
                }
                else if (item.Sale_Rent == "Pending") {
                    var acres=item.ApproxAcres+'&nbsp;'+'sqft';
                    sold='&nbsp;';
                }
                else if (item.Sale_Rent == "Sold") {
                    var acres=item.ApproxAcres+'&nbsp;'+'sqft';
                    if(item.ApproxAcres!="")
                        var acres=item.ApproxAcres+'&nbsp;'+'sqft';
                    else
                        var acres='';
                }
            }
            if(acres!="" || item.Class=="Rental")
                bedandbaths=bedandbaths+"<br>";
            if(sold=="")
                $(".soldpricediv").hide();
            if(item.Class=="Rental")
            {
                sold='&nbsp;';
                listingprice='&nbsp;';
                num=num+"/mo";
                if(item.ApproxAcres!="")
                    var acres=item.ApproxAcres+'&nbsp;'+'sqft';
                else
                    var acres="--";
            }
            var TableId = "tab" + item.MLSId;
            var table = $('<div id=' + TableId + 'class="RightJqueryList" style="border-radius: 6px;margin-left:10px; margin-bottom:10px;float:left;border:1px solid #ff6937; width:200px;"></div>');
            var Row = $('<div></div>');
            if(item.Sale_Rent == "OpenHouse")
            {
                Row.append('<div class="col-sm-12" style="border-radius:5px;font-size:12px;background-color:blue;text-align:center;color:#fff">'+item.OpenHouseDate+'  '+item.OpenHouseTime+'</div>');
            }
            if(PhotosURL.length==1)
            {
                Row.append('<div onmouseover="triggerMouseOver('+item.MLSId+')" onmouseout="triggerMouseOut('+item.MLSId+')" style="margin-bottom:6px;border-radius:6px 6px 0px 0px;background: url('+PhotosURL[0]+'); background-size: 100% 100%;background-repeat: no-repeat; height:100px;" id="'+DivImgId+'"><div class="col-sm-12" style="padding-right:5px"><div style="float: right;">'+isviewImagediv+'<a href="#" style="text-decoration:none"> <img src=' + isFavUrl + ' width="20" height="20" onclick="return FavouriteChange(\'' + item.MLSId + '\',\'' + item.Is_Favorite + '\',\'' + ImgfavIdDyn + '\')" id=' + ImgfavIdDyn + ' style="text-decoration:none;"/></a></div></div><div class="col-sm-12" style="margin-top: 6%;"><a href="#">  <img src="/img/SliderBackArrow.png" onclick="SlideImage(\'' + i + '\',\'' + "-1" + '\',\'' + DivImgId + '\',\'' + item.MLSId + '\')" width="21" height="29"  style="margin-left: -9%;" id="'+ BtnPrevImgId+'" hidden="hidden"/></a> <a href="#">  <img src="/img/SliderNextArrow.png" width="21" height="29" hidden="hidden" onclick="SlideImage(\'' + i + '\',\'' + "1" + '\',\'' + DivImgId + '\',\'' + item.MLSId + '\')"  style="float: right;margin-right: -9%;" id="'+BtnNextImgId+'"/></a></div></div>');
            }
            else
            {
                Row.append('<div onmouseover="triggerMouseOver('+item.MLSId+')" onmouseout="triggerMouseOut('+item.MLSId+')" style="margin-bottom:6px;border-radius:6px 6px 0px 0px;background: url('+PhotosURL[0]+'); background-size: 100% 100%;background-repeat: no-repeat; height:100px;" id="'+DivImgId+'"><div class="col-sm-12" style="padding-right:5px"><div style="float: right;">'+isviewImagediv+'<a href="#" style="text-decoration:none"> <img src=' + isFavUrl + ' width="20" height="20"  onclick="return FavouriteChange(\'' + item.MLSId + '\',\'' + item.Is_Favorite + '\',\'' + ImgfavIdDyn + '\')" id=' + ImgfavIdDyn + ' style="text-decoration:none;"/></a></div></div><div class="col-sm-12" style="margin-top: 6%;"><a href="#">  <img src="/img/SliderBackArrow.png" onclick="SlideImage(\'' + i + '\',\'' + "-1" + '\',\'' + DivImgId + '\',\'' + item.MLSId + '\')" width="21" height="29"  style="margin-left: -9%;" id="'+ BtnPrevImgId+'" hidden="hidden"/></a> <a href="#">  <img src="/img/SliderNextArrow.png" width="21" height="29" onclick="SlideImage(\'' + i + '\',\'' + "1" + '\',\'' + DivImgId + '\',\'' + item.MLSId + '\')"  style="float: right;margin-right: -9%;" id="'+BtnNextImgId+'"/></a></div></div>');
            }
            table.append(Row);
            var trow = $('<a href="#" id='+item.MLSId+' onclick="return markercheck(\'' + item.MLSId + '\')"><div class="row"></div>');
            trow.append('<div class="listiconclass col-sm-2"><img id="'+i+'" src=' + iconurl + '  /></div>');
            trow.append('<div class="rightlist_price col-sm-5">' + '$' + " " + num+'</div>');
            trow.append('<div class="col-sm-5 list_gray_text10" style="color:gray;"> ' + 'MLS#' + item.MLSId + '</div>');
            table.append(trow);
            if(item.SoldPrice!=="")
            {
                var trow0=$('<a href="#" id='+item.MLSId+' onclick="return markercheck(\'' + item.MLSId + '\')"><div class="soldpricediv row" style="padding-top:5px"></div>')
                trow0.append('<div class="col-sm-2">&nbsp;</div>');
                trow0.append('<div id="div'+item.MLSId+'" class="col-sm-10 rightlist_price">' + sold + '</div>');
                table.append(trow0);
            }
            var trow1 = $('<a href="#" id='+item.MLSId+' onclick="return markercheck(\'' + item.MLSId + '\')"><div class="row"></div>')
            trow1.append('<div class="col-sm-12 qc_color" style="padding-top:5px;padding-left:5px;padding-right:0px;">'+bedandbaths+''+ acres + '</div>');
            table.append(trow1);
            var trow2 = $('<a href="#" id='+item.MLSId+' onclick="return markercheck(\'' + item.MLSId + '\')"><div class="row"></div>')
            trow2.append('<div class="col-sm-12 list_gray_text10" style="height:40px;padding-top:5px">' + item.ADDRESKKS + '</div></a>');
            table.append(trow2);
            ImgfavIdDyn = "FavImg";
            tab.append(table);
        });
        $("#RightListView").html(tab);
        //sorting and binding schools and sub divisions
        middle_schools.sort();
        ele_schools.sort();
        high_schools.sort();
        AllSubDivisionNames.sort();
        bindElemantaryschools(ele_schools);
        bindMiddlechools(middle_schools);
        bindHighchools(high_schools);
        bindsubDivisions(AllSubDivisionNames);
    };
    //Function to change the varker image to viewed and fire marler click event - show listing details
    function markercheck(mlsid){
        for (var i = 0; i < m.length; i++) {
            if (m[i].get("id") == mlsid) {
                google.maps.event.trigger(m[i], 'click');//firing mouse click event
            }
        }
    }
    //Function to get Current Location which is used in #myloc click event
    function geolocate() {
        var mypos = new google.maps.LatLng(current_latt,current_lott);
        // Create a marker and center map on user location
        marker = new google.maps.Marker({
            position: mypos,
            draggable: true,
            animation: google.maps.Animation.DROP,
            raiseOnDrag: true,
            map: map
        });
        //map.setZoom(14)
        map.setCenter(mypos)
       setTimeout(function(){GetListingsbySearch_Zoom_Drag_on_Boundaries(mylocation,sorybyid,zoomlevel,bondarypath,'')},1000);
       // $('#search').val(mylocation)
    }
    //Function to draw a poly
    function drawFreeHand() {
        //the polygon
        poly = new google.maps.Polyline({ map: map, clickable: false, strokeColor: "red", strokeWeight: 1 });
        //move-listener
        var move = google.maps.event.addListener(map, 'mousemove', function (e) {
            poly.getPath().push(e.latLng);
        });
        //mouseup-listener
        google.maps.event.addListenerOnce(map, 'mouseup', function (e) {
            google.maps.event.removeListener(move);
            var path = poly.getPath();
            poly.setMap(null);
            poly = new google.maps.Polygon({ map: map, path: path, fillColor: "#FF0000", fillOpacity: 0.15, strokeColor: "red", strokeWeight: 1, });
            google.maps.event.clearListeners(map.getDiv(), 'mousedown');
            getPathVariableCode(poly);//method calling to remove markerws outside the polygon
            enable()
        });
    }
    //function to get path of polygon
    function getPathVariableCode(poly) {
        for (var i = 0; i < m.length; i++) {
            m[i].setMap(map);
            // ibLabel[i].open(map);
        }
        polylatlongs=[];
        var pathArr = poly.getPath();
        //alert(poly.getPath().getLength());
        for (var i = 0; i < poly.getPath().getLength(); i++) {
            //alert(poly.getPath().getAt(i).toUrlValue(6));
            //    alert(pathArr.getAt(i).lat() + " and " + pathArr.getAt(i).lng());
            polylatlongs.push(poly.getPath().getAt(i).toUrlValue(6));
        }
        for (var d = 0; d < mymarkers.length; d++) {
            var data = mymarkers[d].split(',');
            var coordinate = new google.maps.LatLng(data[0], data[1]);
            google.maps.geometry.poly.containsLocation(coordinate, poly) ?
           successmarker(d) : removemarkers(d);
        }
        $("#applycanceldiv").show();
        mycities(polylatlongs);
    };
    function mycities(polylatlongs)
    {
        polylats=[],polypath=[];
        for(var k=0;k<polylatlongs.length;k++)
        {
            //polylats.push(polylatlongs[k].split(',')[0]+" "+polylatlongs[k].split(',')[1])
            initialpoint=polylatlongs[0].split(',')[1]+" "+polylatlongs[0].split(',')[0]
            polypath.push(polylatlongs[k].split(',')[1]+" "+polylatlongs[k].split(',')[0])
        }
        polypath.push(initialpoint)
    }
    function successmarker(d) {
        listviewmarkerids.push(d);
    }
    function removemarkers(d) {
        m[d].setMap(null);
        //ibLabel[d].close(map);
    }
    //Apply Event For Loading List View with MLSIDs which are in polygon
    $("#applybtn").click(function(){
        isdrawClick="false";
        listofMLSIDs="";  mycities(polylatlongs);
        $(".search-div").css("pointer-events","auto");
        $("#RightsideDivData").css("pointer-events","auto");
        $(".panel").css("pointer-events","auto");
        $(".iconsdiv").css("pointer-events","auto");
        citynameslists==""
        for(var i=0;i<listviewmarkerids.length;i++)
        {
            var v=listviewmarkerids[i];
            var c=m[v].getTitle()
            if(c!=null && c!=''){
                if(citynameslists=="")
                {
                    citynameslists=c;
                }
                else
                {
                    if(citynameslists.toString().indexOf(c)!= -1)
                    {}
                    else{

                        citynameslists=citynameslists+","+c;
                    }
                }
            }
            if(listofMLSIDs=="")
                listofMLSIDs=m[v].get("id");
            else
                listofMLSIDs=listofMLSIDs+","+m[v].get("id");
        }
        listviewmarkerids=[]
        if(listofMLSIDs=="")
        {
            $("#heading").text("Alert!");
            $("#content_text").text("No Properties Found in selected area!Try Again....!");
            $("#AlertPopup").modal("show");
            $("#footer").show();
            poly.setMap(null);
            poly="";
            $("#cancelbtn")[0].click();
        }
        else
        {
            getListbyMultipleMLSIDs(listofMLSIDs,1);
        }
    });
    //Cancel Event to Clear the map
    $("#cancelbtn").click(function(){
        map.setOptions({
            draggable: true,
        });
        listofMLSIDs="";
        listviewmarkerids=[];
        // $('#drawpoly').removeClass('active');
        $(".search-div").css("pointer-events","auto");
        $("#RightsideDivData").css("pointer-events","auto");
        $(".panel").css("pointer-events","auto");
        $(".iconsdiv").css("pointer-events","auto");
        $("#applycanceldiv").hide();
        $("#footer").show();
        if(class_type!="" && s!="")
            getdatabysearchElementfromLanding(s,class_type,sorybyid,bondarypath);
        else if($("#search").val().length>0) {
            GetListingsbySearch_Zoom_Drag_on_Boundaries($("#search").val(), sorybyid,zoomlevel,bondarypath,'')
        }
        else if(filtertype==1)
            $("#HFiltersApplyBtn")[0].click();
        else if(filtertype==2)
            $("#rentalApplybtn")[0].click();
        else if(filtertype==3)
            $("#lotsFiltersApplyBtn")[0].click();
        else {
            getdatabycurrentlocataion(city,sorybyid);
        }
        poly.setMap(null);
        poly="";
        isdrawClick="false";
    });
    //function to get the properties based on multiple MLSIds on polygon
    function getListbyMultipleMLSIDs(MLSID,Sortby) {
        $.ajax({
            url: "/Customer/SearchFilter/GetListByMultipleMLSIDs/",
            type: "POST",
            dataType: "json",
            data: { MLSIds: MLSID,Sortby:Sortby },
            success: function (data) {
                $("#footer").show();
                if (data.length>0) {
                    //$("#listcount").text(data.length);
                    //$("#Totallistcount").text(data[0].NoOfListings);
                    RightSideListView(data);
                }
                else if(data.length==0 || data.length==null)
                    $("#RightsideDivData").empty();
            },
            error :function(){
                // $("#listcount").text('0');
                $("#footer").hide();
                $("#RightsideDivData").empty();
            },
        });
    }
    //funtion to disable some of map options
    function disable() {
        map.setOptions({
            draggable: false,
            zoomControl: false,
            scrollwheel: false,
            disableDoubleClickZoom: false
        });
    }
    // function to enable map options
    function enable() {
        map.setOptions({
            draggable: false,
            zoomControl: false,
            scrollwheel: true,
            disableDoubleClickZoom: true
        });
    }
    //function which is executed when zoom changed
    function zoomchanged(zoom){
        if(isMLSsearch=='false' && poly==""){
            getMapBoundaryPath()
            setTimeout(function(){GetListingsbySearch_Zoom_Drag_on_Boundaries('0', sorybyid,zoomlevel,bondarypath,'')},1000)
        }
    }
    function zoomchanged_old(zoom) {
        if(poly=="")
        {
            listofMLSIDs=[];
            //$("#listcount").text('');
            count=0;
            citynameslists=""
            for (var i = 0; i < m.length; i++)
            {
                if (map.getBounds().contains(m[i].getPosition()))
                {
                    var c=m[i].getTitle()
                    m[i].setMap(map);
                    if(c!=null && c!=''){
                        if(citynameslists=="")
                        {
                            citynameslists=c;
                        }
                        else
                        {
                            if(citynameslists.toString().indexOf(c)!= -1)
                            {}
                            else{

                                citynameslists=citynameslists+","+c;
                            }
                        }
                    }
                    if(listofMLSIDs=="")
                        listofMLSIDs=m[i].get("id");
                    else
                        listofMLSIDs=listofMLSIDs+","+m[i].get("id");
                    count=count+1;
                }
                else
                {
                    m[i].setMap(null);
                }
            }
            if(listofMLSIDs.length>7)
                setTimeout(getListbyMultipleMLSIDs(listofMLSIDs,0),1000);
        }
        $("#listcount").text(count);
        if(count==0)
            $('#RightsideDivData').hide();
        else
            $('#RightsideDivData').show();
        if(poly=="")
        {
            if (zoom <= 8) {
                $('#drawpoly').css("visibility", "hidden");
                $('#footer').hide();
                for (var i = 0; i < m.length; i++) {
                    m[i].setMap(null);
                }
            }
            else {
                $('#footer').show();
                $('#drawpoly').css("visibility", "visible");
                for (var i = 0; i < m.length; i++) {
                    m[i].setMap(map);
                }
            }
        }
        else
        {
            if (zoom <= 8) {
                $('#footer').hide();
                $('#drawpoly').css("visibility", "hidden");
                for (var i = 0; i < m.length; i++) {
                    m[i].setMap(null);
                }
                poly.setMap(null)
            }
            else {
                $('#footer').show();
                $('#drawpoly').css("visibility", "visible");
                for (var i = 0; i < m.length; i++) {
                    m[i].setMap(map);
                }
                getPathVariableCode(poly);
                poly.setMap(map)
            }
        }
    }
    //---------------For favorite changes---------------------
    function FavouriteChange(MLSId, IsFav, ImgFavID) {
        var UserID=@PkeyUserId;
        if(UserID==0)
        {
            // $('#navLogin').click();
            $('#LoginAlertPopup').modal('show')
        }
        else
        {
            var Fav = 0;
            var ImgSrc = $("#" + ImgFavID).attr('src');
            if (ImgSrc == "/img/heartm.png") {
                Fav = 1;
                $.ajax({
                    url: "/Customer/SearchFilter/FavrouriteChanges/",
                    type: "POST",
                    dataType: "json",
                    data: { MLSId: MLSId, Fav: Fav },
                    success: function (data) {
                        if (data == "Sucess") {
                            var ImgSrc = $("#" + ImgFavID).attr('src');
                            if (ImgSrc == "/img/heartm.png") {
                                $("#" + ImgFavID).attr("src", "/img/hearticon.png");
                            }
                            else {
                                $("#" + ImgFavID).attr("src", "/img/heartm.png");
                            }
                            //if(class_type!="" && s!="")
                            //    getdatabysearchElementfromLanding(s,class_type,sorybyid);

                            //else if ( $("#search").val().length>0 && poly!="") {
                            //    getListbyMultipleMLSIDs(listofMLSIDs,sorybyid);
                            //}
                            //else if ( $("#search").val().length>0) {
                            //    getdatabysearchElement($("#search").val(), sorybyid);
                            //}
                            //else if(poly!="")
                            //{
                            //    getListbyMultipleMLSIDs(listofMLSIDs,sorybyid);
                            //}
                            //else if(filtertype==1)
                            //    $("#HFiltersApplyBtn")[0].click();
                            //else if(filtertype==2)
                            //    $("#rentalApplybtn")[0].click();
                            //else if(filtertype==3)
                            //    $("#lotsFiltersApplyBtn")[0].click();
                            //else {
                            //    getdatabycurrentlocataion(city,sorybyid);
                            //}
                        }
                        else {
                        }
                    },
                    error: function () {
                    }
                });
            }
            else {
                $('#RemoveFavorite').modal('show');
                $('#btnYesRemoveFavorite').click(function () {
                    var Fav = 0;
                    $("#" + ImgFavID).attr("src", "/img/heartm.png");
                    $.ajax({
                        url: "/Customer/SearchFilter/FavrouriteChanges/",
                        type: "POST",
                        dataType: "json",
                        data: { MLSId: MLSId, Fav: Fav },
                        success: function (data) {
                            if (data == "Sucess") {
                                //Reinits();
                                //if ( $("#search").val().length>0 && ply!="") {
                                //    getListbyMultipleMLSIDs(listofMLSIDs,sorybyid);
                                //}
                                //else if ( $("#search").val().length>0) {
                                //    getdatabysearchElement($("#search").val(), sorybyid);
                                //}
                                //else if(poly!="")
                                //{
                                //    getListbyMultipleMLSIDs(listofMLSIDs,sorybyid);
                                //}
                                //else if(filtertype==1)
                                //    $("#HFiltersApplyBtn")[0].click();
                                //else if(filtertype==2)
                                //    $("#rentalApplybtn")[0].click();
                                //else if(filtertype==3)
                                //    $("#lotsFiltersApplyBtn")[0].click();
                                //else {
                                //    getdatabycurrentlocataion(city,sorybyid);
                                //}
                            }
                            else {
                            }
                        },
                        error: function () {
                        }
                    });
                });
            }
        }
    };
    /* when user click on sort by dropdown item*/
    function GetSortBy(id,el){
        var id=parseInt(id);
        var MLSIDsList=[];
        for (var i = 0; i < m.length; i++)
        {
            if (map.getBounds().contains(m[i].getPosition()))
            {
                MLSIDsList.push(m[i].get("id"))
            }
        }
        sorybyid=sortbyid=id;
       //alert(MLSIDsList.join(',')+" and length " +MLSIDsList.length)
        getListbyMultipleMLSIDs(MLSIDsList.join(','),id);
        $("#myDropdown").css("display","none");

        $('.dropdownlowprice a.sortbyactive').removeClass('sortbyactive');
        $(el).addClass('sortbyactive');

        switch(id){
            case 1:{
                $('#dropdownselected').text('Low-High');
            };
                break;
            case 2: {
                $('#dropdownselected').text('High-Low');
            };
                break;
            case 3: { 
                $('#dropdownselected').text('Newest');
            };
                break;
            case 4:{ 
                $('#dropdownselected').text('Oldest');
            };
                break;
            case 5: { 
                $('#dropdownselected').text('Lot Size');
            };
                break;
            case 6: {
                $('#dropdownselected').text('Sq-Ft');
                break;
            };
        }

        //switch(id)
        //{
        //    case 1:{
        //        sorybyid=sortbyid="1";
        //        $('#dropdownselected').text('Low-High');
        //        if(listofMLSIDs.length>0 && poly=="")
        //        {
        //            getListbyMultipleMLSIDs(listofMLSIDs,id);
        //        }
        //        else if(class_type!="" && s!="")
        //            getdatabysearchElementfromLanding(s,class_type,sortbyid,bondarypath);
        //        else if ( $("#search").val().length>0 && poly!="") {
        //            getListbyMultipleMLSIDs(listofMLSIDs,id);
        //        }
        //        else if ( $("#search").val().length>0) {
        //            GetListingsbySearch_Zoom_Drag_on_Boundaries($("#search").val(), id,zoomlevel,bondarypath,'');
        //        }
        //        else if(poly!="")
        //        {
        //            getListbyMultipleMLSIDs(listofMLSIDs,id);
        //        }
        //        else if(filtertype==1)
        //            $("#HFiltersApplyBtn")[0].click();
        //        else if(filtertype==2)
        //            $("#rentalApplybtn")[0].click();
        //        else if(filtertype==3)
        //            $("#lotsFiltersApplyBtn")[0].click();
        //        else {
        //            getdatabycurrentlocataion(city,id);
        //        }
        //    };
        //        break;
        //    case 2: {
        //        $('#dropdownselected').text('High-Low');
        //        sorybyid=sortbyid="2";
        //        if(listofMLSIDs.length>0 && poly=="")
        //        {
        //            getListbyMultipleMLSIDs(listofMLSIDs,id);
        //        }
        //        else  if(class_type!="" && s!="")
        //            getdatabysearchElementfromLanding(s,class_type,sortbyid,bondarypath);
        //        else if ( $("#search").val().length>0 && poly!="") {
        //            getListbyMultipleMLSIDs(listofMLSIDs,id);
        //        }
        //        else if ( $("#search").val().length>0) {
        //            GetListingsbySearch_Zoom_Drag_on_Boundaries($("#search").val(), id,zoomlevel,bondarypath,'');
        //        }
        //        else if(poly!="")
        //        {
        //            getListbyMultipleMLSIDs(listofMLSIDs,id);
        //        }
        //        else if(filtertype==1)
        //            $("#HFiltersApplyBtn")[0].click();
        //        else if(filtertype==2)
        //            $("#rentalApplybtn")[0].click();
        //        else if(filtertype==3)
        //            $("#lotsFiltersApplyBtn")[0].click();
        //        else {
        //            getdatabycurrentlocataion(city,id);
        //        }//getdatabycurrentlocataion(city,id);
        //    };
        //        break;
        //    case 3: { $('#dropdownselected').text('Newest');
        //        sorybyid=sortbyid="3";
        //        if(listofMLSIDs.length>0 && poly=="")
        //        {
        //            getListbyMultipleMLSIDs(listofMLSIDs,id);
        //        }
        //        else if(class_type!="" && s!="")
        //            getdatabysearchElementfromLanding(s,class_type,sortbyid,bondarypath);
        //        else if ( $("#search").val().length>0 && poly!="") {
        //            getListbyMultipleMLSIDs(listofMLSIDs,id);
        //        }
        //        else if ( $("#search").val().length>0) {
        //            GetListingsbySearch_Zoom_Drag_on_Boundaries($("#search").val(), id,zoomlevel,bondarypath,'');
        //        }
        //        else if(poly!="")
        //        {
        //            getListbyMultipleMLSIDs(listofMLSIDs,id);
        //        }
        //        else if(filtertype==1)
        //            $("#HFiltersApplyBtn")[0].click();
        //        else if(filtertype==2)
        //            $("#rentalApplybtn")[0].click();
        //        else if(filtertype==3)
        //            $("#lotsFiltersApplyBtn")[0].click();
        //        else {
        //            getdatabycurrentlocataion(city,id);
        //        }//getdatabycurrentlocataion(city,id);
        //    };
        //        break;
        //    case 4:{ $('#dropdownselected').text('Oldest');
        //        sorybyid=sortbyid="4";
        //        if(listofMLSIDs.length>0 && poly=="")
        //        {
        //            getListbyMultipleMLSIDs(listofMLSIDs,id);
        //        }
        //        else if(class_type!="" && s!="")
        //            getdatabysearchElementfromLanding(s,class_type,sortbyid,bondarypath);
        //        else if ( $("#search").val().length>0 && poly!="") {
        //            getListbyMultipleMLSIDs(listofMLSIDs,id);
        //        }
        //        else if ( $("#search").val().length>0) {
        //            GetListingsbySearch_Zoom_Drag_on_Boundaries($("#search").val(), id,zoomlevel,bondarypath,'');
        //        }
        //        else if(poly!="")
        //        {
        //            getListbyMultipleMLSIDs(listofMLSIDs,id);
        //        }
        //        else if(filtertype==1)
        //            $("#HFiltersApplyBtn")[0].click();
        //        else if(filtertype==2)
        //            $("#rentalApplybtn")[0].click();
        //        else if(filtertype==3)
        //            $("#lotsFiltersApplyBtn")[0].click();
        //        else {
        //            getdatabycurrentlocataion(city,id);
        //        }// getdatabycurrentlocataion(city,id);
        //    };
        //        break;
        //    case 5: { $('#dropdownselected').text('Lot Size');
        //        sorybyid=sortbyid="5";
        //        if(listofMLSIDs.length>0 && poly=="")
        //        {
        //            getListbyMultipleMLSIDs(listofMLSIDs,id);
        //        }
        //        else if(class_type!="" && s!="")
        //            getdatabysearchElementfromLanding(s,class_type,sortbyid,bondarypath);
        //        else if ( $("#search").val().length>0 && poly!="") {
        //            getListbyMultipleMLSIDs(listofMLSIDs,id);
        //        }
        //        else if ( $("#search").val().length>0) {
        //            GetListingsbySearch_Zoom_Drag_on_Boundaries($("#search").val(), id,zoomlevel,bondarypath,'');
        //        }
        //        else if(poly!="")
        //        {
        //            getListbyMultipleMLSIDs(listofMLSIDs,id);
        //        }
        //        else if(filtertype==1)
        //            $("#HFiltersApplyBtn")[0].click();
        //        else if(filtertype==2)
        //            $("#rentalApplybtn")[0].click();
        //        else if(filtertype==3)
        //            $("#lotsFiltersApplyBtn")[0].click();
        //        else {
        //            getdatabycurrentlocataion(city,id);
        //        }//getdatabycurrentlocataion(city,id);
        //    };
        //        break;
        //    case 6: { $('#dropdownselected').text('Sq-Ft');
        //        sorybyid=sortbyid="6";
        //        if(listofMLSIDs.length>0 && poly=="")
        //        {
        //            getListbyMultipleMLSIDs(listofMLSIDs,id);
        //        }
        //        else if(class_type!="" && s!="")
        //            getdatabysearchElementfromLanding(s,class_type,sortbyid,bondarypath);
        //        else if ( $("#search").val().length>0 && poly!="") {
        //            getListbyMultipleMLSIDs(listofMLSIDs,id);
        //        }
        //        else if ( $("#search").val().length>0) {
        //            GetListingsbySearch_Zoom_Drag_on_Boundaries($("#search").val(), id,zoomlevel,bondarypath,'');
        //        }
        //        else if(poly!="")
        //        {
        //            getListbyMultipleMLSIDs(listofMLSIDs,id);
        //        }
        //        else if(filtertype==1)
        //            $("#HFiltersApplyBtn")[0].click();
        //        else if(filtertype==2)
        //            $("#rentalApplybtn")[0].click();
        //        else if(filtertype==3)
        //            $("#lotsFiltersApplyBtn")[0].click();
        //        else {
        //            getdatabycurrentlocataion(city,id);
        //        }//getdatabycurrentlocataion(city,id);
        //    };
        //        break;
        //}
    }
    //Alert Ok buttun Event
    $("#alertOKbtn").click(function(){
        event.preventDefault();
        if ( $("#search").val().length>0) {
            getdatabysearchElement($("#search").val(), sorybyid,zoomlevel,bondarypath);
        }
        else {
            getdatabycurrentlocataion(city,sorybyid);
        }
        $("#AlertPopup").modal("hide");
    });
    //function to get lattitude and longitudes of searched city
    function getLat_Longs(address)
    {
        var geocoder = new google.maps.Geocoder();
        geocoder.geocode( { 'address': address}, function(results, status) {
            if (status == google.maps.GeocoderStatus.OK) {
                center_lat = results[0].geometry.location.lat();
                center_long = results[0].geometry.location.lng();
            }
        });
    }
</script>
@*//Script For  photo sliders, summary function*@
<script>
    @* Start Code For PopUps Visibles *@
    function SlideImage(ind,m,imgurlid,Mid)
    {
        var imgarr=[];
        var PvImg="";
        var NxImg="";
        var imageIndex="";
        var bg = $('#'+imgurlid).css('background-image');
        bg = bg.replace('url(','').replace(')','');
        var PhotosURLForSingleMLSID=TotalImages[ind];
        imgarr=PhotosURLForSingleMLSID.split(',');
        for(var i=0;i<imgarr.length;i++)
        {
            if(bg== '"'+imgarr[i]+'"')
            {
                imageIndex=i;
                PvImg=imgarr[i-1];
                NxImg=imgarr[i+1];
            }
        }
        if(m==1)
        {
            if(imageIndex+1==(imgarr.length-1))
            {
                $('#Next'+Mid).hide();
            }
            if(imageIndex-1!=0)
            {
                $('#Prev'+Mid).show();
            }
            $('#'+imgurlid).css('background-image','url('+NxImg +')');
        }
        else{
            if(imageIndex-1==0)
            {
                $('#Prev'+Mid).hide();
            }
            if(imageIndex+1!=(imgarr.length-1))
            {
                $('#Next'+Mid).show();
            }
            $('#'+imgurlid).css('background-image','url('+PvImg +')');
        }
    }

    //For Home Filter Summery
    function HomeSummeryNew()
    {
        var HMinutes="";
        var HAddress="";
        var HPropertyType="";
        var HPriceRange="";
        var HBathromms="";
        var HBedrooms="";
        var HSQFT="";
        var HSchool="";
        var HGarage="";
        var HMasterBedRoom="";
        var HLotAcreage="";
        var HStories="";
        var HSubDivision="";
        var HGarageCapacity="";
        var HAgeType2="";
        var HLotFeatures2="";
        var HAppliances2="";
        var HFoundation="";
        var HMasterFeature="";
        var HCommunityAmenties="";
        var HExterior="";
        var HLaundry="";
        var HInterior="";
        var HFirePlace="";
        var HFlooring="";
        var HHeatSystem="";
        var HWaterType="";
        var HHeaterType="";
        var HSewerType="";
        if(minutestext!=null)
        {
            HMinutes = "Minutes : " + minutestext+",";
        }
        if(addresstext!="")
        {
            HAddress = "Address : " +addresstext+",";
        }
        if(propertytext!="Any" && propertytext!="")
        {
            HPropertyType= "Property Type :" +propertytext+",";
        }
        if(pricetext!="0-10000000")
        {
            HPriceRange= "Price Range : " + pricetext+",";
        }
        else
        {
            HPriceRange= "Price Range : No Min-No Max,";
        }
        if(bathroomstext!="Any")
        {
            HBathromms= bathroomstext+" Bath Rooms,";
        }
        else
        {
            HBathromms= " Bath Rooms:"+bathroomstext +",";
        }
        if(bedroomstext!="Any")
        {
            HBedrooms=bedroomstext+ " Bed Rooms ,";
        }
        else
        {
            HBedrooms= "Bed Rooms : " + bedroomstext+",";
        }

        if(sqfttext!="0-7000")
        {
            HSQFT= " SQ Feet : " + sqfttext+",";
        }
        else
        {
            HSQFT= " SQ Feet : No Min - No Max";
        }
        if(schooltext!="")
        {
            HSchool="School : " + schooltext+",";
        }
        if(garagetext!="Any")
        {
            HGarage = "Garage : " + garagetext+",";
        }
        if(masterbedroomtext!="Any")
        {
            HMasterBedRoom ="Master Bed Rooms : " + masterbedroomtext+",";
        }

        if(lotacreagetext!="0-50")
        {
            HLotAcreage= "Lot Acreage : " + lotacreagetext+",";
        }
        else
        {
            HLotAcreage= "Lot Acreage :No Min - No Max,";
        }
        if(storiestext!="Any")
        {
            HStories ="Stories : " + storiestext+",";
        }
        if(subdivtext!="")
        {
            HSubDivision ="Sub Division : " + subdivtext+",";
        }

        if(garagecaptext!="Any")
        {
            HGarageCapacity =garagecaptext+"+ Garage Capacity ,";
        }

        if(agetext!="Any")
        {
            HAgeType2 ="Age Type : " + agetext+",";
        }

        if(lotfeaturestext!="Any")
        {
            HLotFeatures2= "Lot Features : " + lotfeaturestext+",";
        }
        if(appliancestext!="Any")
        {
            HAppliances2 ="Appliances : " + appliancestext+",";
        }
        if(foundationtypetext!="Any")
        {
            HFoundation ="Foundation : " + foundationtypetext+",";
        }
        if(masterfeaturetext!="Any")
        {
            HMasterFeature="Master Features : " + masterfeaturetext+",";
        }
        if(extfeaturestext!="Any")
        {
            HExterior ="Exterior : " + extfeaturestext+",";
        }

        if(laundrytext!="Any")
        {
            HLaundry= "Laundry: " + laundrytext+",";
        }
        if(intfeaturestext!="Any")
        {
            HInterior=" Interior : " + intfeaturestext+",";
        }
        if(fireplacetext!="Any")
        {
            HFirePlace="Fire Place : " + fireplacetext+",";
        }
        if(flooringtext!="Any")
        {
            HFlooring="Flooring : " + flooringtext+",";
        }

        if(communitytext!="Any")
        {
            HCommunityAmenties ="Community Amenties:" + communitytext+",";
        }

        if(heatsystemtext!="Any")
        {
            HHeatSystem ="Heat System : " + heatsystemtext+",";
        }
        if(watertext!="Any")
        {
            HWaterType ="Water Type : " + watertext+",";
        }
        if(heatertypetext!="Any")
        {
            HHeaterType="Heater Type : " + heatertypetext+",";
        }
        if(sewertext!="Any")
        {
            HSewerType ="SewerType : " + sewertext;
        }
        $("#summary1").text('');
        $("#summary1").text(HMinutes+' '+HAddress+' '+HPropertyType+' '+HPriceRange+' '+HBathromms+' '+HBedrooms+' '+HSQFT+' '+HSchool+' '+HGarage+' '+HMasterBedRoom+' '+HLotAcreage+' '+HStories+' '+HSubDivision+' '+HGarageCapacity+' '+HAgeType2+' '+HLotFeatures2+' '+HAppliances2+' '+HFoundation+' '+HMasterFeature+' '+HExterior+' '+HLaundry+' '+HInterior+' '+HFirePlace+' '+HFlooring+' '+HCommunityAmenties+' '+HHeatSystem+' '+HWaterType+' '+HHeaterType+' '+HSewerType);
    }
    //For Rental Filter Summery
    function RentalSummerNew()
    {
        var RMinuteText="";
        var RAddressText="";
        var RPropText="";
        var RPricText="";
        var RBathText="";
        var RBedText="";
        var RSqftText="";
        var RSchoolText="";
        var RParkingText2="";
        var RGarageText="";
        var RAgeText="";

        if(rminutestext!=null)
        {
            RMinuteText=rminutestext+",";
        }
        if(raddresstext!="")
        {
            RAddressText=raddresstext+"," ;
        }
        if(rpropertytext!="Any" && rpropertytext!="")
        {
            RPropText="Property Type: "+rpropertytext+"," ;
        }
        if(rpricetext!="0-10000000")
        {
            RPricText="Price Range : "+rpricetext+"," ;
        }
        else
        {
            RPricText="Price Range : No Min - No Max," ;
        }
        if(rbathroomstext!="Any")
        {
            RBathText=rbathroomstext+" Bath Rooms :,";
        }
        else
        {
            RBathText="Bath Rooms : "+rbathroomstext +",";
        }
        if(rbedroomstext!="Any")
        {
            RBedText=rbedroomstext+" Bed Rooms :," ;
        }
        else
        {
            RBedText="Bed Rooms : "+rbedroomstext+"," ;
        }
        if(rsqfttext!="0-7000")
        {
            RSqftText="SQRT : "+rsqfttext +",";
        }
        else
        {
            RSqftText="SQRT : No Min - No Max,";
        }
        if(rschooltext!="")
        {
            RSchoolText="School : "+rschooltext +",";
        }
        if(rparkingtext!="Any")
        {
            RParkingText2="Parkings : "+rparkingtext+"," ;
        }
        if(rgaragecaptext!="Any")
        {
            RGarageText=rgaragecaptext+" Garage Capacity ," ;
        }
        if(ragetext!="Any")
        {
            RAgeText="Age : "+ragetext +",";
        }
        $("#rentalsummary").text('');
        $("#rentalsummary").text(RMinuteText +'  '+RAddressText +'  '+RPropText +'  '+RPricText +'  '+RBathText +'  '+RBedText +'  '+RSqftText +'  '+RSchoolText +'  '+RParkingText2 +'  '+RGarageText+'  '+RAgeText);
    }
    //For Lot Filter Summery
    function LotSummerNew()
    {
        var MinuteText="";
        var AddressText="";
        var PropText="";
        var PricText="";
        var LotText="";
        var SchoolText="";
        var SubDivisionText="";
        var LotFeaturesText="";
        var WaterTypeText="";
        var SewerText="";

        if(lminutetext!=null)
        {
            MinuteText=lminutetext +",";
        }
        if(laddresstext!="")
        {
            AddressText=laddresstext +",";
        }
        if(lpropertytext!="Any" && lpropertytext!="")
        {
            PropText="Property Type: "+lpropertytext+"," ;
        }
        if(lpricetext!="0-10000000")
        {
            PricText="Price Range : "+lpricetext+"," ;
        }
        else
        {
            PricText="Price Range : No Min - No Max," ;
        }
        if(llotacreagetext!="0-50" )
        {
            LotText="Lot Acerage : "+llotacreagetext +",";
        }
        else
        {
            LotText="Lot Acerage : No Min - No Max,";
        }
        if(lschooltext!="")
        {
            SchoolText="School : "+lschooltext +",";
        }
        if(lsubdivtext!="")
        {
            SubDivisionText="Sub Divison : "+lsubdivtext+"," ;
        }
        if(llotfeaturestext!="Any")
        {
            LotFeaturesText="Lot Features : "+llotfeaturestext +",";
        }
        if(lwatertext!="Any")
        {
            WaterTypeText="Water Type : "+lwatertext +",";
        }
        if(lsewerText!="Any")
        {
            SewerText="Sewer Type : "+lsewerText +",";
        }
        $("#lotssummary").text('');
        $("#lotssummary").text(MinuteText +'  '+AddressText +'  '+PropText +'  '+PricText +'  '+LotText +'  '+SchoolText +'  '+SubDivisionText +'  '+LotFeaturesText +'  '+WaterTypeText +'  '+SewerText);
    }
    //-----------------Script File to upload multiple images from detailed view--------------------

</script>
@*//Styles and Script for Auto com[pleted schools and sub divisions]*@
<script>
    var homeinputschools=""; var resultsData = [],AllSubDivisionNames=[];
    var ele_schools=[],middle_schools=[],high_schools=[],subdiv=[],subd="",schools_ele="",schools_middle="",schools_high="",sub_divisions="";
    //----------For Schoolss in Homes Popups------------//
    function bindElemantaryschools(elescholldata){
        subd="";
        var rs="",ls="";
        $.each(elescholldata, function (i, item){
            subd = subd + "<li><input type='checkbox' name='homes_ele_schools'  value='" + elescholldata[i] + "' />&nbsp;&nbsp;&nbsp;" + elescholldata[i] + "</li>";
            rs = rs + "<li><input type='checkbox' name='rental_ele_schools'  value='" + elescholldata[i] + "' />&nbsp;&nbsp;&nbsp;" + elescholldata[i] + "</li>";
            ls = ls + "<li><input type='checkbox' name='lots_ele_schools'  value='" + elescholldata[i] + "'/>&nbsp;&nbsp;&nbsp;" + elescholldata[i] + "</li>";
        })
        $('#elementaryschoolscheck').html(subd);
        $('#rentalelementaryschoolscheck').html(rs);
        $('#lotselementaryschoolscheck').html(ls);
    }
    function bindMiddlechools(middleschooldata){
        subd="";var rs="",lots="";
        $.each(middleschooldata, function (i, item){
            subd = subd + "<li><input type='checkbox' name='homes_middle_schools'  value='" + middleschooldata[i] + "' />&nbsp;&nbsp;&nbsp;" + middleschooldata[i] + "</li>";
            rs = rs + "<li><input type='checkbox' name='rental_middle_schools'  value='" + middleschooldata[i] + "''/>&nbsp;&nbsp;&nbsp;" + middleschooldata[i] + "</li>";
            lots = lots + "<li><input type='checkbox' name='lots_middle_schools'  value='" + middleschooldata[i] + "'/>&nbsp;&nbsp;&nbsp;" + middleschooldata[i] + "</li>";
        })
        $('#middleschoolscheck').html(subd);
        $('#rentalmiddleschoolscheck').html(rs);
        $('#lotsmiddleschoolscheck').html(lots);
    }
    function bindHighchools(highschooldata){
        subd="";var rs="",ls="";
        $.each(highschooldata, function (i, item){
            subd = subd + "<li><input type='checkbox' name='homes_high_schools'  value='" + highschooldata[i] + "'/>&nbsp;&nbsp;&nbsp;" + highschooldata[i] + "</li>";
            rs = rs + "<li><input type='checkbox' name='rental_high_schools'  value='" + highschooldata[i] + "'/>&nbsp;&nbsp;&nbsp;" + highschooldata[i] + "</li>";
            ls = ls + "<li><input type='checkbox' name='lots_high_schools'  value='" + highschooldata[i] + "'/>&nbsp;&nbsp;&nbsp;" + highschooldata[i] + "</li>";
        })
        $('#highschoolsChecks').html(subd);
        $('#rentalhighschoolsChecks').html(rs);
        $('#lotshighschoolsChecks').html(ls);
    }
    function bindsubDivisions(subdivisionsdata){
        var hsd="",lsd="";
        $.each(subdivisionsdata, function (i, item){
            hsd = hsd + "<li><input type='checkbox' name='homes_subdiv'  value='" + subdivisionsdata[i] + "'/>&nbsp;&nbsp;&nbsp;" + subdivisionsdata[i] + "</li>";
            lsd = lsd + "<li><input type='checkbox' name='lots_subdiv'  value='" + subdivisionsdata[i] + "'/>&nbsp;&nbsp;&nbsp;" + subdivisionsdata[i] + "</li>";
        })
        $('#subDivisionChecks').html(hsd);
        $('#Lots_subDivisionChecks').html(lsd);
    }

    //-----------Ajax call for getting All the School Names Using service------
    function GetElementarySchoolNames(){
        ele_schools=[];
        $.ajax({
            url: "/Customer/SearchFilter/GetAllElementarySchoolNames",
            type: "POST",
            dataType: "json",
            success: function (data) {
                $.each(data, function (i, item){
                    ele_schools.push(data[i].Schools);
                })
                bindElemantaryschools(ele_schools);
            }
        });
    }
    //-----------Ajax call for getting All the SubDivision Names Using service------
    function GetSubDivisions(){
        $.ajax({
            url: "/Customer/SearchFilter/GetAllSubDivisionsNames",
            type: "POST",
            dataType: "json",
            success: function (data) {
                $.each(data, function (i, item){
                    AllSubDivisionNames[i]=data[i].SubDivision;
                })
            }
        });
    }
    //Start--Fome Fiters Schools Code Snippet-///
    $("#elementarybtn").click(function () {
        var cls = $("#eleicon").attr("class");
        if (cls == "glyphicon glyphicon-triangle-bottom") {
            $("#eleicon").attr("class","glyphicon glyphicon-triangle-top");
            $("#elementaryschoolsdiv").show();
            $("#middleschoolsdiv,#highschoolsdiv").hide();
            $("#highicon,#middleicon").attr("class", "glyphicon glyphicon-triangle-bottom");
        }
        else {
            $("#eleicon").attr("class", "glyphicon glyphicon-triangle-bottom");
            $("#elementaryschoolsdiv").hide();
        }
    });
    $("#middlebtn").click(function () {
        var cls = $("#middleicon").attr("class");
        if (cls == "glyphicon glyphicon-triangle-bottom") {
            $("#middleicon").attr("class", "glyphicon glyphicon-triangle-top");
            $("#middleschoolsdiv").show();
            $("#eleicon,#highicon").attr("class", "glyphicon glyphicon-triangle-bottom");
            $("#elementaryschoolsdiv,#highschoolsdiv").hide();
        }
        else {
            $("#middleicon").attr("class", "glyphicon glyphicon-triangle-bottom");
            $("#middleschoolsdiv").hide();
        }
    });
    $("#highbtn").click(function () {
        var cls = $("#highicon").attr("class");
        if (cls == "glyphicon glyphicon-triangle-bottom") {
            $("#highicon").attr("class", "glyphicon glyphicon-triangle-top");
            $("#highschoolsdiv").show();
            $("#eleicon,#middleicon").attr("class", "glyphicon glyphicon-triangle-bottom");
            $("#elementaryschoolsdiv,#middleschoolsdiv").hide();
        }
        else {
            $("#highicon").attr("class", "glyphicon glyphicon-triangle-bottom");
            $("#highschoolsdiv").hide();
        }
    });
    $("#inputSchool").focus(function(){
        $("#SubDivSearchPopup").hide();
        $("#SchoolSearchPopup").show();
    });
    $("#apply_ele_schools").click(function(){
        ele_schools=[],middle_schools=[],high_schools=[];
        $.each($("input[name='homes_ele_schools']:checked"), function () {
            ele_schools.push($(this).val());
        });
        prp_elementary=schools_ele=ele_schools.join(',');
        $.each($("input[name='homes_middle_schools']:checked"), function () {
            middle_schools.push($(this).val());
        });
        prp_middle=schools_middle=middle_schools.join(',');
        $.each($("input[name='homes_high_schools']:checked"), function () {
            high_schools.push($(this).val());
        });
        prp_high=schools_high=high_schools.join(',');
        //alert(schools_ele+"--"+schools_middle+"--"+schools_high);
        ele_schools = (ele_schools=="") ? ele_schools=""+ele_schools :ele_schools=ele_schools+",";
        middle_schools = (middle_schools=="") ? middle_schools=""+middle_schools :middle_schools=middle_schools+",";
        high_schools = (high_schools=="") ? high_schools=""+high_schools :high_schools=high_schools;
        homeinputschools=ele_schools+""+middle_schools+high_schools;
        schooltext=homeinputschools;
        HomeSummeryNew();
        $("#inputSchool").val(homeinputschools);
        $("#SchoolSearchPopup").hide();
    });
    $("#cancel_ele_schools").click(function(){
        $("#SchoolSearchPopup").hide();
    });
    //End--Home Fiters Schools Code Snippet-///
    //Start--Rental Fiters Schools Code Snippet-///
    $("#rentalinputSchool").focus(function(){
        $("#RentalSchoolSearchPopup").show();
    });
    $("#rentalelementarybtn").click(function () {
        var cls = $("#rentaleleicon").attr("class");
        if (cls == "glyphicon glyphicon-triangle-bottom") {
            $("#rentaleleicon").attr("class","glyphicon glyphicon-triangle-top");
            $("#rentalelementaryschoolsdiv").show();
            $("#rentalmiddleschoolsdiv,#rentalhighschoolsdiv").hide();
            $("#rentalhighicon,#rentalmiddleicon").attr("class", "glyphicon glyphicon-triangle-bottom");
        }
        else {
            $("#rentaleleicon").attr("class", "glyphicon glyphicon-triangle-bottom");
            $("#rentalelementaryschoolsdiv").hide();
        }
    });
    $("#rentalmiddlebtn").click(function () {
        var cls = $("#rentalmiddleicon").attr("class");
        if (cls == "glyphicon glyphicon-triangle-bottom") {
            $("#rentalmiddleicon").attr("class", "glyphicon glyphicon-triangle-top");
            $("#rentalmiddleschoolsdiv").show();
            $("#rentaleleicon,#rentalhighicon").attr("class", "glyphicon glyphicon-triangle-bottom");
            $("#rentalelementaryschoolsdiv,#rentalhighschoolsdiv").hide();
        }
        else {
            $("#rentalmiddleicon").attr("class", "glyphicon glyphicon-triangle-bottom");
            $("#rentalmiddleschoolsdiv").hide();
        }
    });
    $("#rentalhighbtn").click(function () {
        var cls = $("#rentalhighicon").attr("class");
        if (cls == "glyphicon glyphicon-triangle-bottom") {
            $("#rentalhighicon").attr("class", "glyphicon glyphicon-triangle-top");
            $("#rentalhighschoolsdiv").show();
            $("#rentaleleicon,#rentalmiddleicon").attr("class", "glyphicon glyphicon-triangle-bottom");
            $("#rentalelementaryschoolsdiv,#rentalmiddleschoolsdiv").hide();
        }
        else {
            $("#rentalhighicon").attr("class", "glyphicon glyphicon-triangle-bottom");
            $("#rentalhighschoolsdiv").hide();
        }
    });
    $("#rental_apply_ele_schools").click(function(){
        ele_schools=[],middle_schools=[],high_schools=[],homeinputschools="";
        $.each($("input[name='rental_ele_schools']:checked"), function () {
            ele_schools.push($(this).val());
        });
        schools_ele=ele_schools.join(',');
        $.each($("input[name='rental_middle_schools']:checked"), function () {
            middle_schools.push($(this).val());
        });
        schools_middle=middle_schools.join(',');
        $.each($("input[name='rental_high_schools']:checked"), function () {
            high_schools.push($(this).val());
        });
        schools_high=high_schools.join(',');
         ele_schools = (ele_schools=="") ? ele_schools=ele_schools :ele_schools=ele_schools+",";
        middle_schools = (middle_schools=="") ? middle_schools=middle_schools :middle_schools=middle_schools+",";
        high_schools = (high_schools=="") ? high_schools=high_schools :high_schools=high_schools;
        homeinputschools=ele_schools+" "+middle_schools+" "+high_schools;
        rschooltext=homeinputschools;
        RentalSummerNew();
        $("#rentalinputSchool").val(homeinputschools);
        $("#RentalSchoolSearchPopup").hide();
    });
    $("#rental_cancel_ele_schools").click(function(){
        $("#RentalSchoolSearchPopup").hide();
    });
    //End--Fome Fiters Schools Code Snippet-///
    //Start--Rental Fiters Schools Code Snippet-///
    $("#lotselementarybtn").click(function () {
        var cls = $("#lotseleicon").attr("class");
        if (cls == "glyphicon glyphicon-triangle-bottom") {
            $("#lotseleicon").attr("class","glyphicon glyphicon-triangle-top");
            $("#lotselementaryschoolsdiv").show();
            $("#lotsmiddleschoolsdiv,#lotshighschoolsdiv").hide();
            $("#lotshighicon,#lotsmiddleicon").attr("class", "glyphicon glyphicon-triangle-bottom");
        }
        else {
            $("#lotseleicon").attr("class", "glyphicon glyphicon-triangle-bottom");
            $("#lotselementaryschoolsdiv").hide();
        }
    });
    $("#lotsmiddlebtn").click(function () {
        var cls = $("#lotsmiddleicon").attr("class");
        if (cls == "glyphicon glyphicon-triangle-bottom") {
            $("#lotsmiddleicon").attr("class", "glyphicon glyphicon-triangle-top");
            $("#lotsmiddleschoolsdiv").show();
            $("#lotseleicon,#lotshighicon").attr("class", "glyphicon glyphicon-triangle-bottom");
            $("#lotselementaryschoolsdiv,#lotshighschoolsdiv").hide();
        }
        else {
            $("#lotsmiddleicon").attr("class", "glyphicon glyphicon-triangle-bottom");
            $("#lotsmiddleschoolsdiv").hide();
        }
    });
    $("#lotshighbtn").click(function () {
        var cls = $("#lotshighicon").attr("class");
        if (cls == "glyphicon glyphicon-triangle-bottom") {
            $("#lotshighicon").attr("class", "glyphicon glyphicon-triangle-top");
            $("#lotshighschoolsdiv").show();
            $("#lotseleicon,#lotsmiddleicon").attr("class", "glyphicon glyphicon-triangle-bottom");
            $("#lotselementaryschoolsdiv,#lotsmiddleschoolsdiv").hide();
        }
        else {
            $("#lotshighicon").attr("class", "glyphicon glyphicon-triangle-bottom");
            $("#lotshighschoolsdiv").hide();
        }
    });
    $("#lotsinputSchool").focus(function(){
        $("#LotsSchoolSearchPopup").show();
        $("#Lots_SubDivSearchPopup").hide();
    });
    $("#lots_apply_ele_schools").click(function(){
        ele_schools=[],middle_schools=[],high_schools=[];
        $.each($("input[name='lots_ele_schools']:checked"), function () {
            ele_schools.push($(this).val());
        });
        schools_ele=ele_schools.join(',');
        $.each($("input[name='lots_middle_schools']:checked"), function () {
            middle_schools.push($(this).val());
        });
        schools_middle=middle_schools.join(',');
        $.each($("input[name='lots_high_schools']:checked"), function () {
            high_schools.push($(this).val());
        });
        schools_high=high_schools.join(',');
        ele_schools = (ele_schools=="") ? ele_schools=""+ele_schools :ele_schools=ele_schools+",";
        middle_schools = (middle_schools=="") ? middle_schools=""+middle_schools :middle_schools=middle_schools+",";
        high_schools = (high_schools=="") ? high_schools=""+high_schools :high_schools=high_schools;
        homeinputschools=ele_schools+""+middle_schools+high_schools;
        lschooltext=homeinputschools;
        LotSummerNew();
        $("#lotsinputSchool").val(homeinputschools);
        $("#LotsSchoolSearchPopup").hide();
    });
    $("#lots_cancel_ele_schools").click(function(){
        $("#LotsSchoolSearchPopup").hide();
        //$("#inputSubDivision").val(homeinputschools);
    });
    //----------For Schools in Homes Popups------------//

    //-----Start-------For Sub Divisions in Homes and Lots Filter Popups------------//

    //Input Sub Divisions finctionality in Homes Filter Popup
    $("#inputSubDivision").focus(function(){

        $("#SchoolSearchPopup").hide();
        $("#SubDivSearchPopup").show();
    });
    $("#apply_subdiv_dropdown").click(function(){
        subdiv=[],sub_divisions="";
        $.each($("input[name='homes_subdiv']:checked"), function () {
            subdiv.push($(this).val());
        });
        prp_subdivisions=subdivtext=sub_divisions=subdiv.join(',');
        $("#inputSubDivision").val(sub_divisions);
        $("#SubDivSearchPopup").hide();
        HomeSummeryNew();
    });
    $("#cancel_subdiv_dropdown").click(function(){
        $("#SubDivSearchPopup").hide();
        $("#inputSubDivision").val(totalcheckeddata);
    });

    //Input Sub Divisions finctionality in Lot/Lands Filter Popup
    $("#Lots_apply_subdiv_dropdown").click(function(){
        subdiv=[],sub_divisions="";
        $.each($("input[name='lots_subdiv']:checked"), function () {
            subdiv.push($(this).val());
        });
        lsubdivtext=sub_divisions=subdiv.join(',');
        $("#lotsinputSubDivision").val(sub_divisions);
        $("#Lots_SubDivSearchPopup").hide();
        LotSummerNew();
    });
    $("#Lots_cancel_subdiv_dropdown").click(function(){
        $("#Lots_SubDivSearchPopup").hide();
        $("#lotsinputSubDivision").val(totalchecklotssubdiv);
    });
    $("#lotsinputSubDivision").focus(function(){
        $("#Lots_SubDivSearchPopup").show();
        $("#LotsSchoolSearchPopup").hide();
    });
    $("#clearschools_HF").click(function(){
        //GetElementarySchoolNames();
    });
    //----------End--For Sub Divisions in Homes and Lots Filter Popups------------//

</script>
@*//Script for applying Mybasic and My Wishlist needs*@
<script>
    //My wishlist binding functionality
    var wishlist_filtertype_id,wishcontrol;
    $("#mywishlist_apply").change(function(){
        $('#myPropertyDropdown').removeClass('show').addClass('hidedropdown');
        if($(this). prop("checked") == true){
            if($("#mybasicneeds_apply"). prop("checked") == true)
            {
                $("#mybasicneeds_apply"). prop("checked",false);
                homeFiltersreset();
                rentalFiltersreset();
                lotsFiltersreset();
                $(this). prop("checked",true);
            }
            wishlist_filtertype_id=$("input[name='Property']:checked").val();

            getMyWishist(wishlist_filtertype_id);
        }
        else if($(this). prop("checked") == false){
            homeFiltersreset();
            rentalFiltersreset();
            lotsFiltersreset();
            //backto_PreviousLoad();
        }
        //  }
    });
    function getMyWishist(wishlist_filtertype_id)
    {
        $.ajax({
            url: "/Customer/MyWishList/GetForsaleMywishlist",
            type: "GET",
            dataType: "json",
            data: { type: 0},
            success: function (data) {

                if(data.length>0){
                    $(".bedroombtngroup>a").attr("class", 'btn btn-default');
                    $(".bathbtngroup>a").attr("class", 'btn btn-default');
                    $(".masterbedroombtngroup>a").attr("class", 'btn btn-default');
                    bindMyWishlistData(data);
                }
                else
                {
                    $("#heading").text("Warning");
                    $("#content_text").text("Sorry, you have not yet saved any wishlist items.");
                    $("#AlertPopup").modal("show");
                    $("#mywishlist_apply"). prop("checked",false);
                }
            },
            error: function () {
            }
        });
    }
    function backto_PreviousLoad()
    {
        if(class_type!="" && s!="")
            getdatabysearchElementfromLanding(s,class_type,sorybyid,bondarypath);
            //else if( class_type!="" && poly!="")
        else if ( $("#search").val().length>0 && poly!="") {
            getListbyMultipleMLSIDs(listofMLSIDs,sorybyid);
        }
        else if ( $("#search").val().length>0) {
            getdatabysearchElement($("#search").val(), sorybyid,zoomlevel,bondarypath);
        }
        else if(poly!="")
        {
            getListbyMultipleMLSIDs(listofMLSIDs,sorybyid);
        }
        else if(filtertype==1)
            $("#HFiltersApplyBtn")[0].click();
        else if(filtertype==2)
            $("#rentalApplybtn")[0].click();
        else if(filtertype==3)
            $("#lotsFiltersApplyBtn")[0].click();
        else {
            getdatabycurrentlocataion(city,sorybyid);
        }
    }
    function bindMyWishlistData(data)
    {
        $("input[name=Property][value=" + data[0].FilterTypeID + "]").attr('checked', true);
        var filterobject=[],pri;
        pri=data[0].From_Price+"-"+ data[0].To_Price;
        if (data[0].FilterTypeID == "1") {
            $("#PropSelected").html("Homes");
            $('input[name="lotclass"]').prop("checked",false);
            $(".bedroombtngroup>a").attr("class", 'btn btn-default');
            $(".bathbtngroup>a").attr("class", 'btn btn-default');
            $(".masterbedroombtngroup>a").attr("class", 'btn btn-default');
            $(".grgcapbtngroup>a").attr("class", 'btn btn-default');
            $(".grgtypebtngroup>a").attr("class", 'btn btn-default');
            $(".ftypebtngroup>a").attr("class", 'btn btn-default');
            $(".floorbtngroup>a").attr("class", 'btn btn-default');
            $(".lroombtngroup>a").attr("class", 'btn btn-default');
            $(".fplacebtngroup>a").attr("class", 'btn btn-default');
            $(".heatsystembtngroup>a").attr("class", 'btn btn-default');
            $(".waterheaterbtngroup>a").attr("class", 'btn btn-default');
            $(".watertypebtngroup>a").attr("class", 'btn btn-default');
            $(".swerbtngroup>a").attr("class", 'btn btn-default');
            control="/Customer/SavedSearch/SearchFilterProperties/";
            //Object Values Assinging
            filtertype=1;
            classtype="1";
            hproperty=data[0].PropertyTypeID;
            $("#price").text(pri);
            hbathrooms=data[0].Bathrooms;
            hbedrooms=data[0].Bedrooms;
            $("#sqft").text(data[0].From_Sqft+"-"+data[0].To_Sqft)
            schools_ele="";
            hgrgtype=data[0].GarageType;
            hmasterbedrooms= data[0].MasterBedroom;
            $("#lotacreage").text(data[0].From_LotAcreage+"-" +data[0].To_LotAcreage)
            hnoofstories=data[0].NumberOfStories;
            hgrgcapacity=data[0].GarageCapacity;
            hagetype=data[0].Age;
            happliances= data[0].Appliances;
            hfoundatation=data[0].FoundationType;
            hmasterfeatures=data[0].MasterFeatures;
            hlotfeatures=data[0].LotFeatures;
            hexteriorfeatures=data[0].ExteriorFeatures;
            hlaundry=data[0].LaundryRoom;
            hinteriorfeatures=data[0].InteriorFeatures;
            hfire=data[0].Fireplace;
            hfloor=data[0].FlooringType;
            hcommunity= data[0].CommunityAmenities;
            hheatsys= data[0].HeatingSysten;
            hwatertype= data[0].WaterType;
            hwaterheater= data[0].WaterHeaterType;
            hsewer= data[0].SewerType;
            searchname="";
            citynameslists="";
            sortby="1";
            schools_middle="";
            schools_high="";
            filterobject = [filtertype,classtype,$("#inputMinutes").val(),$("#inputAddress").val(),hproperty,$("#price").text(),hbathrooms,
                            hbedrooms,$("#sqft").text(),schools_ele,hgrgtype,hmasterbedrooms,$("#lotacreage").text(),hnoofstories,$("#inputSubDivision").val(),
                            hgrgcapacity,hagetype,hlotfeatures,happliances,hfoundatation,hmasterfeatures,hexteriorfeatures,hlaundry,hinteriorfeatures,hfire,hfloor,
                            hcommunity,hheatsys,hwatertype,hwaterheater,hsewer,searchname,citynameslists,countprop,citynameslists,countprop,sortby,schools_middle,schools_high
                            ,polypath.join(','),bondarypath,zoomlevel];

            //Binding to Controls and Summary
            $('#inputMinutes').val(data[0].DistanceMinutes);
            $('#inputAddress').val(data[0].DistanceLocation);
            pricetext=data[0].From_Price+"-"+data[0].To_Price;
            $("#homes_formatted_from_price").html(getFormattedPrice(data[0].From_Price));
            $("#homes_formatted_to_price").html(getFormattedPrice(data[0].To_Price));
            $("#slider-range").slider('values', 0, getIndexValue(data[0].From_Price)); // sets first handle (index 0) to 50
            $("#slider-range").slider('values', 1, getIndexValue(data[0].To_Price));
            sqfttext=data[0].From_Sqft+"-"+data[0].To_Sqft;
            $("#homes_formatted_from_sqft").html((data[0].From_Sqft == "0" ? "No Min" : data[0].From_Sqft + "sqft"));
            $("#homes_formatted_to_sqft").html((data[0].To_Sqft == "7000" ? "No Max" : data[0].To_Sqft + "sqft"));
            $("#slider-range2").slider('values', 0, getSqftIndexValue(data[0].From_Sqft)); // sets first handle (index 0) to 50
            $("#slider-range2").slider('values', 1, getSqftIndexValue(data[0].To_Sqft));
            lotacreagetext=data[0].From_LotAcreage+"-" +data[0].To_LotAcreage;
            $("#homes_formatted_from_lotacrg").html((data[0].From_LotAcreage == "0" ? "No Min" : data[0].From_LotAcreage + " acres"));
            $("#homes_formatted_to_lotacrg").html((data[0].To_LotAcreage == "50" ? "No Max" : data[0].To_LotAcreage + " acres"));
            $("#slider-range3").slider('values', 0, getLotAcrgIndexValue(data[0].From_LotAcreage)); // sets first handle (index 0) to 50
            $("#slider-range3").slider('values', 1, getLotAcrgIndexValue(data[0].To_LotAcreage));
            minutestext = data[0].Distance_Minutes;
            addresstext = data[0].Distance_Locati
            propertytext = data[0].Property_Type;
            bathroomstext = data[0].Bathrooms;
            bedroomstext = data[0].Bedrooms;
            masterbedroomtext = data[0].MasterBedroom;
            garagecaptext = data[0].GarageCapacity;
            garagetext = data[0].GarageType;
            foundationtypetext = data[0].FoundationType;
            flooringtext = data[0].FlooringType;
            laundrytext = data[0].LaundryRoom;
            fireplacetext = data[0].Fireplace;
            heatsystemtext = data[0].HeatingSysten;
            heatertypetext = data[0].WaterHeaterType;
            watertext = data[0].WaterType;
            sewertext = data[0].SewerType;
            $("#" + $(".bathbtngroup>a").filter("[data-index='" + bathroomstext + "']").prop('id') + "").addClass('mybtncls');
            $("#" + $(".bedroombtngroup>a").filter("[data-index='" + bedroomstext + "']").prop('id') + "").addClass('mybtncls');
            $("#" + $(".masterbedroombtngroup>a").filter("[data-index='" + masterbedroomtext + "']").prop('id') + "").addClass('mybtncls');
            $("#" + $(".grgcapbtngroup>a").filter("[data-index='" + garagecaptext + "']").prop('id') + "").addClass('mybtncls');
            $("#" + $(".grgtypebtngroup>a").filter("[data-index='" + garagetext + "']").prop('id') + "").addClass('mybtncls');
            $("#" + $(".ftypebtngroup>a").filter("[data-index='" + foundationtypetext + "']").prop('id') + "").addClass('mybtncls');
            $("#" + $(".floorbtngroup>a").filter("[data-index='" + flooringtext + "']").prop('id') + "").addClass('mybtncls');
            $("#" + $(".lroombtngroup>a").filter("[data-index='" + laundrytext + "']").prop('id') + "").addClass('mybtncls');
            $("#" + $(".fplacebtngroup>a").filter("[data-index='" + fireplacetext + "']").prop('id') + "").addClass('mybtncls');
            $("#" + $(".heatsystembtngroup>a").filter("[data-index='" + heatsystemtext + "']").prop('id') + "").addClass('mybtncls');
            $("#" + $(".waterheaterbtngroup>a").filter("[data-index='" + heatertypetext + "']").prop('id') + "").addClass('mybtncls');
            $("#" + $(".watertypebtngroup>a").filter("[data-index='" + watertext + "']").prop('id') + "").addClass('mybtncls');
            $("#" + $(".swerbtngroup>a").filter("[data-index='" + sewertext + "']").prop('id') + "").addClass('mybtncls');
            // Multi check box binding
            var s = data[0].NumberOfStories;
            storiestext = s;
            hnoofstories = s;
            var st = s.split(',');
            for (var i = 0; i < st.length; i++) {
                $.each($("input[name='noofstories']"), function () {
                    if (st[i] == $(this).data("index")) {
                        $(this).prop("checked", true);
                    }
                });
            }
            var m = data[0].MasterFeatures;
            masterfeaturetext = m;
            hmasterfeatures = m;
            var msf = m.split(',');
            for (var i = 0; i < msf.length; i++) {
                $.each($("input[name='masterfeatures']"), function () {
                    if (msf[i] == $(this).data("index")) {
                        $(this).prop("checked", true);
                    }
                });
            }
            var c = data[0].CommunityAmenities;
            communitytext = c;
            hcommunity = c;
            var com = c.split(',');
            for (var i = 0; i < com.length; i++) {
                $.each($("input[name='community']"), function () {
                    if (com[i] == $(this).data("index")) {
                        $(this).prop("checked", true);
                    }
                });
            }
            // Multi dropdown Binding
            var sp = data[0].PropertyTypeID;
            hproperty = sp;
            propertytext = sp;
            if (sp.indexOf(',') != -1) {
                var dataarray = sp.split(",");
                $("#propertytype").multiselect("select", dataarray);
            }
            else {
                $("#propertytype").multiselect("select", sp);
            }

            var a = data[0].Age;
            agetext = a;
            if (a.indexOf(',') != -1) {
                var dataarray = a.split(",");
                $("#agetype").multiselect("select", dataarray);
            }
            else {
                $("#agetype").multiselect("select", a);
            }
            var lf = data[0].LotFeatures;
            lotfeaturestext = lf;
            if (lf.indexOf(',') != -1) {
                var dataarray = lf.split(",");
                $("#lotfeatures").multiselect("select", dataarray);
            }
            else {
                $("#lotfeatures").multiselect("select", lf);
            }
            var ef = data[0].ExteriorFeatures;
            extfeaturestext = ef;
            if (ef.indexOf(',') != -1) {
                var dataarray = ef.split(",");
                $("#exteriorfeatures").multiselect("select", dataarray);
            }
            else {
                $("#exteriorfeatures").multiselect("select", ef);
            }
            var inf = data[0].InteriorFeatures;
            intfeaturestext = inf;
            if (inf.indexOf(',') != -1) {
                var dataarray = inf.split(",");
                $("#interiorfeatures").multiselect("select", dataarray);
            }
            else {
                $("#interiorfeatures").multiselect("select", inf);
            }
            var ap = data[0].Appliances;
            appliancestext = ap;
            if (ap.indexOf(',') != -1) {
                var dataarray = ap.split(",");
                $("#appliances").multiselect("select", dataarray);
            }
            else {
                $("#appliances").multiselect("select", ap);
            }
            HomeSummeryNew();
        }//For Sale
        else if(data[0].FilterTypeID=="2")
        {
            $("#PropSelected").html("Rentals");
            $('#PropLotsLands').hide();
            $('#PropHomes').hide();
            $('input[name="homeclass"]').prop("checked",false);
            $('input[name="lotclass"]').prop("checked",false);
            $(".rentalbathbtngroup>a").attr("class", 'btn btn-default');
            $(".rentalbedroombtngroup>a").attr("class", 'btn btn-default');
            $(".rentalgrgcapbtngroup>a").attr("class", 'btn btn-default');
            $(".rentalparkingbtngroup>a").attr("class", 'btn btn-default');
            control="/Customer/SavedSearch/SearchRentalFilterProperties/";
            //Object Values Assinging
            filtertype=2;
            classtype="0";
            rproperty=data[0].PropertyTypeID;
            $("#rentalprice").text(pri);
            rbathrooms=data[0].Bathrooms;
            rbedrooms=data[0].Bedrooms;
            $("#rentalsqft").text(data[0].From_Sqft+"-"+data[0].To_Sqft);
            rparking=data[0].ParkingType;
            rgaragecap=data[0].GarageCapacity;
            rage=data[0].Age;
            schools_ele ="";

            //Binding to Controls and Summary
            $('#rentalinputMinutes').val(data[0].DistanceMinutes);
            $('#rentalinputAddress').val(data[0].DistanceLocation);
            rpricetext=data[0].From_Price+"-"+data[0].To_Price;
            $("#rental_formatted_from_price").html(getFormattedPrice_Rental(data[0].From_Price));
            $("#rental_formatted_to_price").html(getFormattedPrice_Rental(data[0].To_Price));
            $("#rentalslider-range").slider('values', 0, getRentalPriceIndexValue(data[0].From_Price)); // sets first handle (index 0) to 50
            $("#rentalslider-range").slider('values', 1, getRentalPriceIndexValue(data[0].To_Price));
            rsqfttext=data[0].From_Sqft+"-"+data[0].To_Sqft;
            $("#rental_formatted_from_sqft").html((data[0].From_Sqft == "0" ? "No Min" : data[0].From_Sqft + "sqft"));
            $("#rental_formatted_to_sqft").html((data[0].To_Sqft == "7000" ? "No Max" : data[0].To_Sqft + "sqft"));
            $("#rentalslider-range2").slider('values', 0, getSqftIndexValue(data[0].From_Sqft)); // sets first handle (index 0) to 50
            $("#rentalslider-range2").slider('values', 1, getSqftIndexValue(data[0].To_Sqft));
            rminutestext = data[0].DistanceMinutes;
            raddresstext = data[0].DistanceLocation
            rpropertytext = data[0].PropertyTypeID;
            rbathroomstext = data[0].Bathrooms;
            rbedroomstext = data[0].Bedrooms;
            rgaragecaptext=data[0].GarageCapacity;
            ragetext = data[0].Age;
            rparkingtext = data[0].ParkingType;

            $("#" + $(".rentalbathbtngroup>a").filter("[data-index='" + rbathroomstext + "']").prop('id') + "").addClass('mybtncls');
            $("#" + $(".rentalbedroombtngroup>a").filter("[data-index='" + rbathroomstext + "']").prop('id') + "").addClass('mybtncls');
            $("#" + $(".rentalgrgcapbtngroup>a").filter("[data-index='" + rgaragecaptext + "']").prop('id') + "").addClass('mybtncls');
            $("#" + $(".rentalparkingbtngroup>a").filter("[data-index='" + rparkingtext + "']").prop('id') + "").addClass('mybtncls');
            filterobject = [filtertype, classtype, $("#rentalinputMinutes").val(), $("#rentalinputAddress").val(), rproperty, $("#rentalprice").text(),
                           rbathrooms, rbedrooms, $("#rentalsqft").text(), schools_ele, rparking, rgaragecap, rage, searchname,"","",citynameslists,countprop,
                            sortbyid,schools_middle,schools_high,polypath.join(','),bondarypath,zoomlevel];
            // Multi dropdown Binding
            var sp = data[0].PropertyTypeID;
            if (sp.indexOf(',') != -1) {
                var dataarray = sp.split(",");
                $("#rentalpropertytype").multiselect("select", dataarray);
            }
            else {
                $("#rentalpropertytype").multiselect("select", sp);
            }
            var a = data[0].Age;
            if (a.indexOf(',') != -1) {
                var dataarray = a.split(",");
                $("#rentalagetype").multiselect("select", dataarray);
            }
            else {
                $("#rentalagetype").multiselect("select", a);
            }
            RentalSummerNew();
        }// Rental
        else{
            $('#PropHomes').hide();
            $('#PropLotsLands').show();
            $('input[name="homeclass"]').prop("checked",false);
            $("#PropSelected").html("Lot/Lands");
            control="/Customer/SavedSearch/SearchLotsFilterProperties/";
            $(".lotswatertypebtngroup>a").attr("class", 'btn btn-default');
            $(".lotsswerbtngroup>a").attr("class", 'btn btn-default');
            //Object Values Assinging
            filtertype=3;
            classtype="1";
            lproperty=data[0].PropertyTypeID;
            $("#lotsprice").text(pri);
            $("#lotslotacreage").text(data[0].From_LotAcreage+"-" +data[0].To_LotAcreage);
            llotfeatures=data[0].LotFeatures;
            schools_ele ="";
            lwater= data[0].WaterType;
            lsewer= data[0].SewerType;
            //Binding to Controls and Summary
            $('#lotsinputMinutes').val(data[0].DistanceMinutes);
            $('#lotsinputAddress').val(data[0].DistanceLocation);
            lminutetext = data[0].DistanceMinutes;
            laddresstext = data[0].DistanceLocation
            lpropertytext = data[0].PropertyTypeID;
            lpricetext=data[0].From_Price+"-"+data[0].To_Price;
            $("#lots_formatted_from_price").html(getFormattedPrice(data[0].From_Price));
            $("#lots_formatted_to_price").html(getFormattedPrice(data[0].To_Price));
            $("#lotsslider-range").slider('values', 0, getIndexValue(data[0].From_Price)); // sets first handle (index 0) to 50
            $("#lotsslider-range").slider('values', 1, getIndexValue(data[0].To_Price));
            llotacreagetext=data[0].From_LotAcreage+"-" +data[0].To_LotAcreage;
            $("#lots_formatted_from_lotsacrg").html((data[0].From_LotAcreage == "0" ? "No Min" : data[0].From_LotAcreage + " acres"));
            $("#lots_formatted_to_lotsacrg").html((data[0].To_LotAcreage == "50" ? "No Max" : data[0].To_LotAcreage + " acres"));
            $("#lotsslider-range2").slider('values', 0, getLotAcrgIndexValue(data[0].From_LotAcreage)); // sets first handle (index 0) to 50
            $("#lotsslider-range2").slider('values', 1, getLotAcrgIndexValue(data[0].To_LotAcreage));
            //knowwidth();
            llotfeaturestext=data[0].LotFeatures;
            lwatertext= data[0].WaterType;
            lsewerText= data[0].SewerType;
            $("#" + $(".lotswatertypebtngroup>a").filter("[data-index='" + lwatertext + "']").prop('id') + "").addClass('mybtncls');
            $("#" + $(".lotsswerbtngroup>a").filter("[data-index='" + lsewerText + "']").prop('id') + "").addClass('mybtncls');


            filterobject = [filtertype, classtype, $("#lotsinputMinutes").val(), $("#lotsinputAddress").val(), lproperty, $("#lotsprice").text(),
                          $("#lotslotacreage").text(), schools_ele, $("#lotsinputSubDivision").val(), llotfeatures, lwater, lsewer,
                          searchname,"","",citynameslists,countprop,sortbyid,schools_middle,schools_high,polypath.join(','),bondarypath,zoomlevel];
            // Multi dropdown Binding
            var sp = data[0].PropertyTypeID;
            if (sp.indexOf(',') != -1) {
                var dataarray = sp.split(",");
                $("#lotspropertytype").multiselect("select", dataarray);
            }
            else {
                $("#lotspropertytype").multiselect("select", sp);
            }

            var a = data[0].LotFeatures;
            if (a.indexOf(',') != -1) {
                var dataarray = a.split(",");
                $("#lotslotfeatures").multiselect("select", dataarray);
            }
            else {
                $("#lotslotfeatures").multiselect("select", a);
            }
            LotSummerNew();
        } //Lot/Lands
        load_MyBasineed_MywishlistProperties(filterobject,control);
    }
    function load_MyBasineed_MywishlistProperties(filterobject,c)
    {
        $.ajax({
            url: c,
            type: "POST",
            dataType: "json",
            contentType: "application/json; charset=utf-8",
            data: JSON.stringify(filterobject),
            success: function (data) {
                if(data.length>0)
                {
                    $("#Totallistcount").text(data[0].NoOfListings);
                    $("#listcount").text(data.length);
                    initialize(data);
                    RightSideListView(data);
                }
                else{
                    $("#heading").text("Warning");
                    $("#content_text").text("Sorry, Quitchet was unable to find properties for your saved filters");
                    $("#AlertPopup").modal("show");
                    $("#mybasicneeds_apply"). prop("checked",false);
                }
            },
        });
    }
    //My basic needs binding functionality
    $("#mybasicneeds_apply").change(function(){
        $('#myPropertyDropdown').removeClass('show').addClass('hidedropdown');
        if($(this). prop("checked") == true){
            if($("#mywishlist_apply"). prop("checked") == true)
            {
                $("#mywishlist_apply"). prop("checked",false);
                homeFiltersreset();
                rentalFiltersreset();
                lotsFiltersreset();
                $(this). prop("checked",true);
            }
            wishlist_filtertype_id=$("input[name='Property']:checked").val();
            $(".bedroombtngroup>a").attr("class", 'btn btn-default');
            $(".bathbtngroup>a").attr("class", 'btn btn-default');
            $(".masterbedroombtngroup>a").attr("class", 'btn btn-default');3
            getMyBasicNeeds(wishlist_filtertype_id);
        }
        else if($(this). prop("checked") == false){
            homeFiltersreset();
            rentalFiltersreset();
            lotsFiltersreset();
            //backto_PreviousLoad();
        }
    });
    function getMyBasicNeeds(basic_filtertype_id)
    {
        $.ajax({
            url: "/Customer/MyBasicNeeds/GetBasicNeeds",
            type: "GET",
            dataType: "json",
            data: { type: 0 },
            success: function (data) {

                if(data.length>0)
                    bindMyBasicNeedsData(data);
                else
                {
                    $("#heading").text("Warning");
                    $("#content_text").text("Sorry, you have not yet saved any basic needs.");
                    $("#AlertPopup").modal("show");
                    $("#mybasicneeds_apply"). prop("checked",false);
                }
            },
            error: function () {
            }
        });
    }
    function bindMyBasicNeedsData(data)
    {
        $("input[name=Property][value=" + data[0].Filter_TypeID + "]").attr('checked', true);
        var filterobject=[],pri;
        pri=data[0].From_Price+"-"+ data[0].To_Price;
        if(data[0].Filter_TypeID=="1")
        {
            $("#PropSelected").html("Homes");
            $('input[name="lotclass"]').prop("checked",false);
            $('#storiesany').prop('checked', false);
            $(".bedroombtngroup>a").attr("class", 'btn btn-default');
            $(".bathbtngroup>a").attr("class", 'btn btn-default');
            $(".masterbedroombtngroup>a").attr("class", 'btn btn-default');
            control="/Customer/SavedSearch/SearchFilterProperties/";
            filterobject = ["1", data[0].Filter_TypeID, data[0].Distance_Minutes,data[0].Distance_Location, data[0].Property_Type,
                pri,data[0].Bathrooms,data[0].Bedrooms, "0-7000", schools_ele, hgrgtype, data[0].Master_Bedroom,
             "0-50", "Any", $("#inputSubDivision").val(), hgrgcapacity, hagetype,
         hlotfeatures, happliances, hfoundatation, "", hexteriorfeatures,
         hlaundry, "", hfire, hfloor, "", hheatsys, hwatertype,
         hwaterheater, hsewer, "","","","",countprop,sortbyid,schools_middle,schools_high,polypath.join(','),bondarypath,zoomlevel];
            //Object Values
            hproperty = data[0].Property_Type;
            $("#price").text(pri);
            hbathrooms =data[0].Bathrooms;
            hbedrooms = data[0].Bedrooms;
            hmasterbedrooms = data[0].Master_Bedroom;

            //Summary Text VAlues
            pricetext=data[0].From_Price+"-"+data[0].To_Price;
            $("#homes_formatted_from_price").html(getFormattedPrice(data[0].From_Price));
            $("#homes_formatted_to_price").html(getFormattedPrice(data[0].To_Price));

            $("#slider-range").slider('values', 0, getIndexValue(data[0].From_Price)); // sets first handle (index 0) to 50
            $("#slider-range").slider('values', 1, getIndexValue(data[0].To_Price));
            bathroomstext = data[0].Bathrooms;
            bedroomstext = data[0].Bedrooms;
            masterbedroomtext = data[0].Master_Bedroom;
            minutestext = data[0].Distance_Minutes;
            addresstext = data[0].Distance_Location;
            propertytext = data[0].Property_Type;

            //Binding Values to Controls
            $('#inputMinutes').val(data[0].Distance_Minutes);
            $('#inputAddress').val(data[0].Distance_Location);
            $("#" + $(".bathbtngroup>a").filter("[data-index='" + data[0].Bathrooms + "']").prop('id') + "").addClass('mybtncls');
            $("#" + $(".bedroombtngroup>a").filter("[data-index='" + data[0].Bedrooms + "']").prop('id') + "").addClass('mybtncls');
            $("#" + $(".masterbedroombtngroup>a").filter("[data-index='" + data[0].Master_Bedroom + "']").prop('id') + "").addClass('mybtncls');
            //Binding property Type
            if(p=="Any")
            {
                $("#propertytype").multiselect('selectAll', false);
                // $("#propertytype").multiselect('updateButtonText');
            }
            else{
                var p = data[0].Property_Type;
                if (p.indexOf(',') != -1) {
                    var dataarray = p.split(",");
                    $("#propertytype").multiselect("select", dataarray);
                }
                else {
                    $("#propertytype").multiselect("select", p);
                }
            }
            HomeSummeryNew();
        }
        else if(data[0].Filter_TypeID=="2")
        {
            $("#PropSelected").html("Rentals");
            $('#PropLotsLands').hide();
            $('#PropHomes').hide();
            $('input[name="homeclass"]').prop("checked",false);
            $('input[name="lotclass"]').prop("checked",false);
            control="/Customer/SavedSearch/SearchRentalFilterProperties/";
            $(".rentalbedroombtngroup>a").attr("class", 'btn btn-default');
            $(".rentalbathbtngroup>a").attr("class", 'btn btn-default');
            filterobject = ["2","0",data[0].Distance_Minutes,data[0].Distance_Location,data[0].Property_Type,pri,
                data[0].Bathrooms,data[0].Bedrooms,"0-7000","",
                            "Any","Any","Any","","","","","",sortbyid,schools_middle,schools_high,polypath.join(','),bondarypath,zoomlevel];
            //Object Values
            rproperty = data[0].Property_Type;
            $("#rentalprice").text(pri);
            rbathrooms =data[0].Bathrooms;
            rbedrooms = data[0].Bedrooms;
            //Summary Text VAlues
            rpricetext=$("#rentalprice").text();
            rpricetext=data[0].From_Price+"-"+data[0].To_Price;
            $("#rental_formatted_from_price").html(getFormattedPrice_Rental(data[0].From_Price));
            $("#rental_formatted_to_price").html(getFormattedPrice_Rental(data[0].To_Price));
            $("#rentalslider-range").slider('values', 0, getRentalPriceIndexValue(data[0].From_Price)); // sets first handle (index 0) to 50
            $("#rentalslider-range").slider('values', 1, getRentalPriceIndexValue(data[0].To_Price));
            // knowwidth();
            rbathroomstext = data[0].Bathrooms;
            rbedroomstext = data[0].Bedrooms;
            rminutestext = data[0].Distance_Minutes;
            raddresstext = data[0].Distance_Location;
            rpropertytext = data[0].Property_Type;
            //Binding values to controls
            $('#rentalinputMinutes').val(data[0].Distance_Minutes);
            $('#rentalinputAddress').val(data[0].Distance_Location);
            $("#" + $(".rentalbathbtngroup>a").filter("[data-index='" + data[0].Bathrooms + "']").prop('id') + "").addClass('mybtncls');
            $("#" + $(".rentalbedroombtngroup>a").filter("[data-index='" + data[0].Bedrooms + "']").prop('id') + "").addClass('mybtncls');
            var p = data[0].Property_Type;
            if (p.indexOf(',') != -1) {
                var dataarray = p.split(",");
                $("#rentalpropertytype").multiselect("select", dataarray);
            }
            else {
                $("#rentalpropertytype").multiselect("select", p);
            }
            RentalSummerNew();
        }
        else{
            $('#PropHomes').hide();
            $('#PropLotsLands').show();
            $('input[name="homeclass"]').prop("checked",false);
            $("#PropSelected").html("Lot/Lands");
            control="/Customer/SavedSearch/SearchLotsFilterProperties/";
            var lotacr=data[0].From_LotAcreage+"-"+data[0].To_LotAcreage

            filterobject = ["3", "1", data[0].Distance_Minutes, data[0].Distance_Location, data[0].Property_Type,pri,
        lotacr, schools_ele, $("#lotsinputSubDivision").val(), "Any", lwater, lsewer,
        searchname,"","","","",sortbyid,schools_middle,schools_high,polypath.join(','),bondarypath,zoomlevel];

            //Object Values
            lproperty = data[0].Property_Type;
            $("#lotsprice").text(pri);
            $("#lotslotacreage").text(lotacr);

            //Summary Text VAlues
            lpricetext=$("#rentalprice").text();
            lpricetext=data[0].From_Price+"-"+data[0].To_Price;
            $("#lots_formatted_from_price").html(getFormattedPrice(data[0].From_Price));
            $("#lots_formatted_to_price").html(getFormattedPrice(data[0].To_Price));
            $("#lotsslider-range").slider('values', 0, getIndexValue(data[0].From_Price)); // sets first handle (index 0) to 50
            $("#lotsslider-range").slider('values', 1, getIndexValue(data[0].To_Price));
            llotacreagetext=data[0].From_LotAcreage+"-" +data[0].To_LotAcreage;
            $("#lots_formatted_from_lotsacrg").html(data[0].From_LotAcreage + " acres");
            $("#lots_formatted_to_lotsacrg").html(data[0].To_LotAcreage + " acres");

            $("#lotsslider-range2").slider('values', 0, getLotAcrgIndexValue(data[0].From_LotAcreage)); // sets first handle (index 0) to 50
            $("#lotsslider-range2").slider('values', 1, getLotAcrgIndexValue(data[0].To_LotAcreage));
            // knowwidth();
            lminutetext = data[0].Distance_Minutes;
            laddresstext = data[0].Distance_Location;
            lpropertytext = data[0].Property_Type;
            $('#lotsinputMinutes').val(data[0].Distance_Minutes);
            $('#lotsinputAddress').val(data[0].Distance_Location);
            var p = data[0].Property_Type;
            if (p.indexOf(',') != -1) {
                var dataarray = p.split(",");
                $("#lotspropertytype").multiselect("select", dataarray);
            }
            else {
                $("#lotspropertytype").multiselect("select", p);
            }
            LotSummerNew();
        }
        load_MyBasineed_MywishlistProperties(filterobject,control);
    }
    $("input[name='Property']").change(function()
    {
        if($("#mywishlist_apply"). prop("checked") == true || $("#mybasicneeds_apply"). prop("checked") == true)
        {
            $("#mybasicneeds_apply"). prop("checked",false);
            $("#mywishlist_apply"). prop("checked",false);
            homeFiltersreset();
            rentalFiltersreset();
            lotsFiltersreset();
            backto_PreviousLoad();
        }
    });
</script>
@*Script For Applying Saved search(Shared from Saved Search) *@
<script>
    var SS_polypath=[],dbMapPoints=[],SS_poly="",SS_polygonpath="",SS_boundarypath='',SS_zoomlevel='';
    function getSeavedSearchFiltersBySSID(ssid){
        $.ajax({
            url: "/Customer/SavedSearch/GetFilterDetails",
            type: "POST",
            dataType: "json",
            data: {searchID : ssid},
            success: function (data) {
                if(data.length>0){


                    $("input[name=Property][value=" + data[0].Filter_Type + "]").attr('checked', true);
                    var SS_poly="";
                    var SS_polygonpath=data[0].PolygonPath,SS_boundarypath=data[0].MapBounds,SS_zoomlevel=data[0].ZoomLevel;
                    if(data[0].PolygonPath!="" && data[0].PolygonPath!=null)
                    {
                        SS_polypath=[],dbMapPoints=[];
                        SS_polypath=data[0].PolygonPath.split(',');
                        for(var p=0;p<SS_polypath.length;p++)
                        {
                            //alert("Polypath :"+polypath);
                            //alert("Poly poi9nt at 0 position "+polypath[0]+"-latitude-"+polypath[0].split(' ')[1]+"--longitude-"+polypath[0].split(' ')[0])
                            dbMapPoints.push
                             ({lat: parseFloat(SS_polypath[p].split(' ')[1]), lng:parseFloat(SS_polypath[p].split(' ')[0])});
                        }
                        SS_poly = new google.maps.Polygon({
                            map:map,
                            paths: dbMapPoints,
                            fillColor: "#FF0000", fillOpacity: 0.15, strokeColor: "red", strokeWeight: 1,
                        });
                    }
                    //else{
                    //    var SS_boundary=data[0].MapBounds.split(',');
                    //    for(var p=0;p<SS_boundary.length;p++)
                    //    {
                    //        dbMapPoints.push
                    //         ({lat: parseFloat(SS_boundary[p].split(' ')[1]), lng:parseFloat(SS_boundary[p].split(' ')[0])});
                    //    }
                    //    poly = new google.maps.Polygon({
                    //        paths: dbMapPoints,
                    //        fillColor: "#FF0000", fillOpacity: 0.15, strokeColor: "red", strokeWeight: 1,
                    //    });
                    //}
                    var filterobject=[],pri;
                    pri=data[0].Price_From+"-"+ data[0].Price_To;
                    if (data[0].Filter_Type == "1") {
                        $("#PropSelected").html("Homes");
                        $('input[name="lotclass"]').prop("checked",false);
                        $(".bedroombtngroup>a").attr("class", 'btn btn-default');
                        $(".bathbtngroup>a").attr("class", 'btn btn-default');
                        $(".masterbedroombtngroup>a").attr("class", 'btn btn-default');
                        $(".grgcapbtngroup>a").attr("class", 'btn btn-default');
                        $(".grgtypebtngroup>a").attr("class", 'btn btn-default');
                        $(".ftypebtngroup>a").attr("class", 'btn btn-default');
                        $(".floorbtngroup>a").attr("class", 'btn btn-default');
                        $(".lroombtngroup>a").attr("class", 'btn btn-default');
                        $(".fplacebtngroup>a").attr("class", 'btn btn-default');
                        $(".heatsystembtngroup>a").attr("class", 'btn btn-default');
                        $(".waterheaterbtngroup>a").attr("class", 'btn btn-default');
                        $(".watertypebtngroup>a").attr("class", 'btn btn-default');
                        $(".swerbtngroup>a").attr("class", 'btn btn-default');
                        control="/Customer/SavedSearch/SearchFilterProperties/";
                        //Object Values Assinging
                        filtertype=1;
                        classtype="1";
                        hproperty=data[0].Property_Type;
                        $("#price").text(pri);
                        hbathrooms=data[0].Bathrooms;
                        hbedrooms=data[0].Bedrooms;
                        $("#sqft").text(data[0].Sqft_From+"-"+data[0].Sqft_To)
                        schools_ele="";
                        hgrgtype=data[0].Garage_Type;
                        hmasterbedrooms= data[0].MasterBedroom;
                        $("#lotacreage").text(data[0].Lot_Acreage_From+"-" +data[0].Lot_Acreage_To)
                        hnoofstories=data[0].Stories;
                        hgrgcapacity=data[0].Garage_Capacity;
                        hagetype=data[0].Age;
                        happliances= data[0].Appliances;
                        hfoundatation=data[0].Foundation_Type;
                        hmasterfeatures=data[0].Master_Features;
                        hlotfeatures=data[0].Lot_Features;
                        hexteriorfeatures=data[0].Exterior_Features;
                        hlaundry=data[0].Laundry_Room;
                        hinteriorfeatures=data[0].Interior_Features;
                        hfire=data[0].FirePlace;
                        hfloor=data[0].Flooring_Type;
                        hcommunity= data[0].Community_Amenities;
                        hheatsys= data[0].Heating_System;
                        hwatertype= data[0].Water_Type;
                        hwaterheater= data[0].Water_Heater;
                        hsewer= data[0].Sewer_Type;
                        searchname="";
                        citynameslists="";
                        sortby="0";
                        schools_middle="";
                        schools_high="";

                        filterobject = [filtertype,classtype,$("#inputMinutes").val(),$("#inputAddress").val(),hproperty,$("#price").text(),hbathrooms,
                                        hbedrooms,$("#sqft").text(),schools_ele,hgrgtype,hmasterbedrooms,$("#lotacreage").text(),hnoofstories,$("#inputSubDivision").val(),
                                        hgrgcapacity,hagetype,hlotfeatures,happliances,hfoundatation,hmasterfeatures,hexteriorfeatures,hlaundry,hinteriorfeatures,hfire,hfloor,
                                        hcommunity,hheatsys,hwatertype,hwaterheater,hsewer,searchname,citynameslists,countprop,citynameslists,countprop,sortby,schools_middle,schools_high
                                        ,SS_polygonpath,SS_boundarypath,SS_zoomlevel];

                        //Binding to Controls and Summary
                        $('#inputMinutes').val(data[0].DrivingDistMinutes);
                        $('#inputAddress').val(data[0].DrivingDistLocation);
                        pricetext=data[0].Price_From+"-"+data[0].Price_To;
                        sqfttext=data[0].Sqft_From+"-"+data[0].Sqft_To;
                        lotacreagetext=data[0].Lot_Acreage_From+"-" +data[0].Lot_Acreage_To;
                        $("#homes_formatted_from_price").html(getFormattedPrice(data[0].Price_From));
                        $("#homes_formatted_to_price").html(getFormattedPrice(data[0].Price_To));
                        $("#slider-range").slider('values', 0, getIndexValue(data[0].From_PricePrice_From)); // sets first handle (index 0) to 50
                        $("#slider-range").slider('values', 1, getIndexValue(data[0].Price_To));
                        $("#price").text(data[0].Price_From + "-" + data[0].Price_To);
                        //pricetext = $("#price").text();
                        $("#homes_formatted_from_sqft").html((data[0].Sqft_From == "0" ? "No Min" : data[0].Sqft_From + "sqft"));
                        $("#homes_formatted_to_sqft").html((data[0].Sqft_To == "7000" ? "No Max" : data[0].Sqft_To + "sqft"));
                        $("#slider-range2").slider('values', 0, getSqftIndexValue(data[0].Sqft_From)); // sets first handle (index 0) to 50
                        $("#slider-range2").slider('values', 1, getSqftIndexValue(data[0].Sqft_To));
                        $("#sqft").text(data[0].Sqft_From + "-" + data[0].Sqft_To);
                        //sqfttext =$("#sqft").text();
                        $("#homes_formatted_from_lotacrg").html((data[0].Lot_Acreage_From == "0" ? "No Min" : data[0].Lot_Acreage_From + " acres"));
                        $("#homes_formatted_to_lotacrg").html((data[0].Lot_Acreage_To == "50" ? "No Max" : data[0].Lot_Acreage_To + " acres"));
                        $("#slider-range3").slider('values', 0, getLotAcrgIndexValue(data[0].Lot_Acreage_From)); // sets first handle (index 0) to 50
                        $("#slider-range3").slider('values', 1, getLotAcrgIndexValue(data[0].Lot_Acreage_To));
                        $("#lotacreage").text(data[0].Lot_Acreage_From + "-" + data[0].Lot_Acreage_To);
                        //lotacreagetext =  $("#lotacreage").text();
                        //knowwidth();
                        minutestext = data[0].DrivingDistMinutes;
                        addresstext = data[0].DrivingDistLocation
                        propertytext = data[0].Property_Type;
                        bathroomstext = data[0].Bathrooms;
                        bedroomstext = data[0].Bedrooms;
                        masterbedroomtext = data[0].Master_Bedroom;
                        garagecaptext = data[0].Garage_Capacity;
                        garagetext = data[0].Garage_Type;
                        foundationtypetext = data[0].Foundation_Type;
                        flooringtext = data[0].Flooring_Type;
                        laundrytext = data[0].Laundry_Room;
                        fireplacetext = data[0].Fireplace;
                        heatsystemtext = data[0].Heating_System;
                        heatertypetext = data[0].Water_Heater;
                        watertext = data[0].Water_Type;
                        sewertext = data[0].Sewer_Type;
                        $("#" + $(".bathbtngroup>a").filter("[data-index='" + bathroomstext + "']").prop('id') + "").addClass('mybtncls');
                        $("#" + $(".bedroombtngroup>a").filter("[data-index='" + bedroomstext + "']").prop('id') + "").addClass('mybtncls');
                        $("#" + $(".masterbedroombtngroup>a").filter("[data-index='" + masterbedroomtext + "']").prop('id') + "").addClass('mybtncls');
                        $("#" + $(".grgcapbtngroup>a").filter("[data-index='" + garagecaptext + "']").prop('id') + "").addClass('mybtncls');
                        $("#" + $(".grgtypebtngroup>a").filter("[data-index='" + garagetext + "']").prop('id') + "").addClass('mybtncls');
                        $("#" + $(".ftypebtngroup>a").filter("[data-index='" + foundationtypetext + "']").prop('id') + "").addClass('mybtncls');
                        $("#" + $(".floorbtngroup>a").filter("[data-index='" + flooringtext + "']").prop('id') + "").addClass('mybtncls');
                        $("#" + $(".lroombtngroup>a").filter("[data-index='" + laundrytext + "']").prop('id') + "").addClass('mybtncls');
                        $("#" + $(".fplacebtngroup>a").filter("[data-index='" + fireplacetext + "']").prop('id') + "").addClass('mybtncls');
                        $("#" + $(".heatsystembtngroup>a").filter("[data-index='" + heatsystemtext + "']").prop('id') + "").addClass('mybtncls');
                        $("#" + $(".waterheaterbtngroup>a").filter("[data-index='" + heatertypetext + "']").prop('id') + "").addClass('mybtncls');
                        $("#" + $(".watertypebtngroup>a").filter("[data-index='" + watertext + "']").prop('id') + "").addClass('mybtncls');
                        $("#" + $(".swerbtngroup>a").filter("[data-index='" + sewertext + "']").prop('id') + "").addClass('mybtncls');
                        // Multi check box binding
                        var s = data[0].Stories;
                        storiestext = s;
                        hnoofstories = s;
                        var st = s.split(',');
                        for (var i = 0; i < st.length; i++) {
                            $.each($("input[name='noofstories']"), function () {
                                if (st[i] == $(this).data("index")) {
                                    $(this).prop("checked", true);
                                }
                            });
                        }
                        var m = data[0].Master_Features ;
                        masterfeaturetext = m;
                        hmasterfeatures = m;
                        var msf = m.split(',');
                        for (var i = 0; i < msf.length; i++) {
                            $.each($("input[name='masterfeatures']"), function () {
                                if (msf[i] == $(this).data("index")) {
                                    $(this).prop("checked", true);
                                }
                            });
                        }
                        var c = data[0].Community_Amenities;
                        communitytext = c;
                        hcommunity = c;
                        var com = c.split(',');
                        for (var i = 0; i < com.length; i++) {
                            $.each($("input[name='community']"), function () {
                                if (com[i] == $(this).data("index")) {
                                    $(this).prop("checked", true);
                                }
                            });
                        }
                        // Multi dropdown Binding
                        var sp = data[0].Property_Type;
                        hproperty = sp;
                        propertytext = sp;
                        if (sp.indexOf(',') != -1) {
                            var dataarray = sp.split(",");
                            $("#propertytype").multiselect("select", dataarray);
                        }
                        else {
                            $("#propertytype").multiselect("select", sp);
                        }
                        var a = data[0].Age;
                        agetext = a;
                        if (a.indexOf(',') != -1) {
                            var dataarray = a.split(",");
                            $("#agetype").multiselect("select", dataarray);
                        }
                        else {
                            $("#agetype").multiselect("select", a);
                        }
                        var lf = data[0].Lot_Features;
                        lotfeaturestext = lf;
                        if (lf.indexOf(',') != -1) {
                            var dataarray = lf.split(",");
                            $("#lotfeatures").multiselect("select", dataarray);
                        }
                        else {
                            $("#lotfeatures").multiselect("select", lf);
                        }
                        var ef = data[0].Exterior_Features;
                        extfeaturestext = ef;
                        if (ef.indexOf(',') != -1) {
                            var dataarray = ef.split(",");
                            $("#exteriorfeatures").multiselect("select", dataarray);
                        }
                        else {
                            $("#exteriorfeatures").multiselect("select", ef);
                        }
                        var inf = data[0].Interior_Features;
                        intfeaturestext = inf;
                        if (inf.indexOf(',') != -1) {
                            var dataarray = inf.split(",");
                            $("#interiorfeatures").multiselect("select", dataarray);
                        }
                        else {
                            $("#interiorfeatures").multiselect("select", inf);
                        }
                        var ap = data[0].Appliances;
                        appliancestext = ap;
                        if (ap.indexOf(',') != -1) {
                            var dataarray = ap.split(",");
                            $("#appliances").multiselect("select", dataarray);
                        }
                        else {
                            $("#appliances").multiselect("select", ap);
                        }
                        HomeSummeryNew();
                    }//For Sale
                    else if(data[0].Filter_Type=="2"){
                        $("#PropSelected").html("Rentals");
                        $('#PropLotsLands').hide();
                        $('#PropHomes').hide();
                        $('input[name="homeclass"]').prop("checked",false);
                        $('input[name="lotclass"]').prop("checked",false);
                        $(".rentalbathbtngroup>a").attr("class", 'btn btn-default');
                        $(".rentalbedroombtngroup>a").attr("class", 'btn btn-default');
                        $(".rentalgrgcapbtngroup>a").attr("class", 'btn btn-default');
                        $(".rentalparkingbtngroup>a").attr("class", 'btn btn-default');
                        control="/Customer/SavedSearch/SearchRentalFilterProperties/";
                        //Object Values Assinging
                        filtertype=2;
                        classtype="0";
                        rproperty=data[0].Property_Type;
                        $("#rentalprice").text(pri);
                        rbathrooms=data[0].Bathrooms;
                        rbedrooms=data[0].Bedrooms;
                        $("#rentalsqft").text(data[0].Sqft_From+"-"+data[0].Sqft_To);
                        rparking=data[0].Parking_Type;
                        rgaragecap=data[0].Garage_Capacity;
                        rage=data[0].Age;
                        schools_ele ="";

                        //Binding to Controls and Summary
                        $('#rentalinputMinutes').val(data[0].DrivingDistMinutes);
                        $('#rentalinputAddress').val(data[0].DrivingDistLocation);
                        rpricetext=data[0].Price_From+"-"+data[0].Price_To;
                        rsqfttext=data[0].Sqft_From+"-"+data[0].Sqft_To;
                        $("#rental_formatted_from_price").html(getFormattedPrice_Rental(data[0].Price_From));
                        $("#rental_formatted_to_price").html(getFormattedPrice_Rental(data[0].Price_To));
                        $("#rentalslider-range").slider('values', 0, getRentalPriceIndexValue(data[0].Price_From)); // sets first handle (index 0) to 50
                        $("#rentalslider-range").slider('values', 1, getRentalPriceIndexValue(data[0].Price_To));
                        $("#rentalprice").text(data[0].Price_From+ "-" +data[0].Price_To);
                       // rpricetext =  $("#rentalprice").text();
                        $("#rental_formatted_from_sqft").html((data[0].Sqft_From == "0" ? "No Min" : data[0].Sqft_From + "sqft"));
                        $("#rental_formatted_to_sqft").html((data[0].Sqft_To == "7000" ? "No Max" : data[0].Sqft_To + "sqft"));
                        $("#rentalslider-range2").slider('values', 0, getSqftIndexValue(data[0].Sqft_From)); // sets first handle (index 0) to 50
                        $("#rentalslider-range2").slider('values', 1, getSqftIndexValue(data[0].Sqft_To));
                        $("#rentalsqft").text(data[0].Sqft_From + "-" + data[0].Sqft_To);
                       // rsqfttext = $("#rentalsqft").text();
                        //knowwidth();
                        rminutestext = data[0].DrivingDistMinutes;
                        raddresstext = data[0].DrivingDistLocation
                        rpropertytext = data[0].Property_Type;
                        rbathroomstext = data[0].Bathrooms;
                        rbedroomstext = data[0].Bedrooms;
                        rgaragecaptext=data[0].Garage_Capacity;
                        ragetext = data[0].Age;
                        rparkingtext = data[0].Parking_Type;

                        $("#" + $(".rentalbathbtngroup>a").filter("[data-index='" + rbathroomstext + "']").prop('id') + "").addClass('mybtncls');
                        $("#" + $(".rentalbedroombtngroup>a").filter("[data-index='" + rbathroomstext + "']").prop('id') + "").addClass('mybtncls');
                        $("#" + $(".rentalgrgcapbtngroup>a").filter("[data-index='" + rgaragecaptext + "']").prop('id') + "").addClass('mybtncls');
                        $("#" + $(".rentalparkingbtngroup>a").filter("[data-index='" + rparkingtext + "']").prop('id') + "").addClass('mybtncls');

                        filterobject = [filtertype, classtype, $("#rentalinputMinutes").val(), $("#rentalinputAddress").val(), rproperty, $("#rentalprice").text(),
                                       rbathrooms, rbedrooms, $("#rentalsqft").text(), schools_ele, rparking, rgaragecap, rage, searchname,"","",citynameslists,countprop,
                                        sortbyid,schools_middle,schools_high,SS_polygonpath,SS_boundarypath,SS_zoomlevel];

                        // Multi dropdown Binding
                        var sp = data[0].Property_Type;
                        if (sp.indexOf(',') != -1) {
                            var dataarray = sp.split(",");
                            $("#rentalpropertytype").multiselect("select", dataarray);
                        }
                        else {
                            $("#rentalpropertytype").multiselect("select", sp);
                        }
                        var a = data[0].Age;
                        if (a.indexOf(',') != -1) {
                            var dataarray = a.split(",");
                            $("#rentalagetype").multiselect("select", dataarray);
                        }
                        else {
                            $("#rentalagetype").multiselect("select", a);
                        }
                        RentalSummerNew();
                    }// Rental
                    else{
                        $('#PropHomes').hide();
                        $('#PropLotsLands').show();
                        $('input[name="homeclass"]').prop("checked",false);
                        $("#PropSelected").html("Lot/Lands");
                        control="/Customer/SavedSearch/SearchLotsFilterProperties/";
                        $(".lotswatertypebtngroup>a").attr("class", 'btn btn-default');
                        $(".lotsswerbtngroup>a").attr("class", 'btn btn-default');
                        //Object Values Assinging
                        filtertype=3;
                        classtype="1";
                        lproperty=data[0].Property_Type;
                        $("#lotsprice").text(pri);
                        $("#lotslotacreage").text(data[0].Lot_Acreage_From+"-" +data[0].Lot_Acreage_To);
                        llotfeatures=data[0].Lot_Features;
                        schools_ele ="";
                        lwater= data[0].Water_Type;
                        lsewer= data[0].Sewer_Type;
                        //Binding to Controls and Summary
                        $('#lotsinputMinutes').val(data[0].DrivingDistMinutes);
                        $('#lotsinputAddress').val(data[0].DrivingDistLocation);
                        lminutetext = data[0].DrivingDistMinutes;
                        laddresstext = data[0].DrivingDistLocation
                        lpropertytext = data[0].Property_Type;
                        lpricetext=data[0].Price_From+"-"+data[0].Price_To;
                        llotacreagetext=data[0].Lot_Acreage_From+"-" +data[0].Lot_Acreage_To;
                       // knowwidth();
                        $("#lots_formatted_from_price").html(getFormattedPrice(data[0].Price_From));
                        $("#lots_formatted_to_price").html(getFormattedPrice(data[0].Price_To));
                        $("#lotsslider-range").slider('values', 0, getIndexValue(data[0].Price_From)); // sets first handle (index 0) to 50
                        $("#lotsslider-range").slider('values', 1, getIndexValue(data[0].Price_To));
                        $("#lotsprice").text(getRealValue(data[0].Price_From) + "-" +getRealValue(data[0].Price_To));
                        //lpricetext =  $("#lotsprice").text();
                        $("#lots_formatted_from_lotsacrg").html((data[0].Lot_Acreage_From == "0" ? "No Min" : data[0].Lot_Acreage_From + " acres"));
                        $("#lots_formatted_to_lotsacrg").html((data[0].Lot_Acreage_To == "50" ? "No Max" : data[0].Lot_Acreage_To + " acres"));
                        $("#lotsslider-range2").slider('values', 0, getLotAcrgIndexValue(data[0].Lot_Acreage_From)); // sets first handle (index 0) to 50
                        $("#lotsslider-range2").slider('values', 1, getLotAcrgIndexValue(data[0].Lot_Acreage_To));
                        $("#lotslotacreage").text(data[0].Lot_Acreage_From + "-" +data[0].Lot_Acreage_To);
                       // llotacreagetext = $("#lotslotacreage").text();
                        llotfeaturestext=data[0].Lot_Features;
                        lwatertext= data[0].Water_Type;
                        lsewerText= data[0].Sewer_Type;
                        $("#" + $(".lotswatertypebtngroup>a").filter("[data-index='" + lwatertext + "']").prop('id') + "").addClass('mybtncls');
                        $("#" + $(".lotsswerbtngroup>a").filter("[data-index='" + lsewerText + "']").prop('id') + "").addClass('mybtncls');


                        filterobject = [filtertype, classtype, $("#lotsinputMinutes").val(), $("#lotsinputAddress").val(), lproperty, $("#lotsprice").text(),
                                      $("#lotslotacreage").text(), schools_ele, $("#lotsinputSubDivision").val(), llotfeatures, lwater, lsewer,
                                      searchname,"","",citynameslists,countprop,sortbyid,schools_middle,schools_high,SS_polygonpath,SS_boundarypath,SS_zoomlevel];

                        // Multi dropdown Binding
                        var sp = data[0].Property_Type;
                        if (sp.indexOf(',') != -1) {
                            var dataarray = sp.split(",");
                            $("#lotspropertytype").multiselect("select", dataarray);
                        }
                        else {
                            $("#lotspropertytype").multiselect("select", sp);
                        }
                        var a = data[0].Lot_Features;
                        if (a.indexOf(',') != -1) {
                            var dataarray = a.split(",");
                            $("#lotslotfeatures").multiselect("select", dataarray);
                        }
                        else {
                            $("#lotslotfeatures").multiselect("select", a);
                        }
                        LotSummerNew();
                    } //Lot/Lands
                    load_MyBasineed_MywishlistProperties(filterobject,control);
                }
                else{
                    $("#heading").text("Properties Not Available");
                    $("#content_text").text("Quitchet was unable to get property data for your saved filters");
                    $("#AlertPopup").modal("show");
                }
            }
        });
    }
</script>
@*Prp- searech filters Code - Optimizing*@
<script>
    var prp_searchname='',prp_citylist='',prp_resultcount='';
    var prp_filtertype='1',prp_classtype='1',prp_drivinigdistance='',prp_drivingminutes='',prp_propertytype='Any';
    var prp_fromprice='0',prp_toprice='10000000',prp_bedrooms='Any',prp_bathrooms='Any',prp_sqftfrom='0',prp_sqftto='7000';
    var prp_masterbedrooms='Any',prp_stories='Any',prp_garagecapacity='Any',prp_garagetype='Any',prp_lotacrgfrom='0',prp_lotcregto='50';
    var prp_subdivisions='',prp_age='Any',prp_lotfeatures='Any',prp_foundationtype='Any',prp_extfeatures='Any',prp_intfeatures='Any';
    var prp_floortype='Any',prp_appliances='Any',prp_masterfeatures='Any',prp_laundryroom='Any',prp_fireplace='Any',prp_community='Any';
    var rp_heatingsystem='Any',prp_waterheater='Any',prp_watertype='Any',prp_sewertype='Any',prp_elementary='',prp_middle='',prp_high='';
    var prp_parkingtype='Any',prp_sortby='1',prp_polypath='',prp_mapbounds,prp_zoomlevel='12';

    var prp_filter_object=[];
    function madeFilterObj(){
        prp_sortby=sortbyid;prp_searchname=searchname;prp_citylist=$('#citieslist').text();prp_resultcount=countprop;
        prp_mapbounds=bondarypath;prp_polypath=polypath.join(',');prp_zoomlevel=zoomlevel;
        prp_filter_object=[prp_filtertype,prp_classtype,prp_drivinigdistance,prp_drivingminutes,prp_propertytype,
                           prp_fromprice,prp_toprice,prp_bedrooms,prp_bathrooms,prp_sqftfrom,prp_sqftto,
                           prp_masterbedrooms,prp_stories,prp_garagecapacity,prp_garagetype,prp_lotacrgfrom,prp_lotcregto,
                           prp_subdivisions,prp_age,prp_lotfeatures,prp_foundationtype,prp_extfeatures,prp_intfeatures,
                           prp_floortype,prp_appliances,prp_masterfeatures,prp_laundryroom,prp_fireplace,prp_community,
                           rp_heatingsystem,prp_waterheater,prp_watertype,prp_sewertype,prp_elementary,prp_middle,prp_high,
                           prp_parkingtype,prp_sortby,prp_polypath,bondarypath,prp_zoomlevel,prp_searchname,prp_citylist,prp_resultcount]
    }
    function applyFilters(){
        madeFilterObj();
        $.ajax({
            url: "@Url.Action("GetListingsbyFilters", "SearchFilter")",
            type: "POST",
            dataType: "json",
            contentType: "application/json; charset=utf-8",
            data: JSON.stringify(prp_filter_object),
            success: function (res) {
                $("#spinner").css("display", "none");
                if (res.length>0) {
                    countprop=res.length;
                    initialize(res);
                    RightSideListView(res);
                    $("#listcount").text(res.length);
                    $("#Totallistcount").text(res[0].NoOfListings);
                }
                else {
                    $("#heading").text("Properties Not Available");
                    $("#content_text").text("Quitchet was unable to get property data for your filters");
                    $("#AlertPopup").modal("show");
                    $('#HomeModalFilters,#RentalsModalFilters,#LotLandsModalFilters').modal('hide');
                }
            },
            complete : function(){
                //zoomchanged(10);
            },
            error :function(){
                $("#spinner").css("display", "none");
                $("#heading").text("Alert");
                $("#content_text").text("No Data Found");
                $("#AlertPopup").modal("show")
                $('#HomeModalFilters,#RentalsModalFilters,#LotLandsModalFilters').modal('hide');
            },
        });
    }
    function saveFilters(){
        madeFilterObj();
        $.ajax({
            url: "@Url.Action("SaveFilters", "SearchFilter")",
            type: "POST",
        dataType: "json",
        contentType: "application/json; charset=utf-8",
        data: JSON.stringify(prp_filter_object),
        success: function (res) {
            $("#spinner").css("display", "none");
            if (res.length>0) {

            }
            else {

            }
        },
        complete : function(){
            //zoomchanged(10);
        },
        error :function(){

        },
        });
    }
</script>