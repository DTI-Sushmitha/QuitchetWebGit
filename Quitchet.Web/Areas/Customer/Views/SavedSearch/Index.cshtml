@*Save Search Index *@
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout_Customer.cshtml";
    var UserFirstName = "";
    var UserLastName = "";
    var PkeyUserId = "0";
    var UserEmail = "";
    var UserPassword = "";
    var remember = "2";
    if (Request.Cookies["UseridCookie"] != null)
    {
        if (Request.Cookies["UseridCookie"].Value != null)
        {
            PkeyUserId = Request.Cookies["UseridCookie"].Value;
            if (Request.Cookies["UserFirstNameCookie"].Value != "")
            {
                UserFirstName = Request.Cookies["UserFirstNameCookie"].Value;
            }
            else
            {
                UserFirstName = "No";
            }
            if (Request.Cookies["UserLastNameCookie"].Value != "")
            {
                UserLastName = Request.Cookies["UserLastNameCookie"].Value;
            }
            else
            {
                UserLastName = "Name";
            }
        }
    }
    if (Request.Cookies["RememberMyDeviceCookie"] != null)
    {
        if (Request.Cookies["RememberMyDeviceCookie"].Value == "1")
        {
            UserEmail = Request.Cookies["UserEmailCookie"].Value;
            UserPassword = Request.Cookies["UserPasswordCookie"].Value;
            remember = Request.Cookies["RememberMyDeviceCookie"].Value;
        }
    }
    var SaveSearchId = "";
    var SSNames = "";

    if (Session["SaveSearchID"].ToString() != "0")
    {
        SSNames = Session["SaveSearchName"].ToString();
        SaveSearchId = Session["SaveSearchID"].ToString();
    }
    else
    {
        SSNames = "0";
        SaveSearchId = "0";
    }
}
<link href="~/Content/searcfilterpopups.css" rel="stylesheet" />
<link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
<link href="~/Content/savedsearch_styles.css" rel="stylesheet" />
<style>
    .btn-group {
        width: 100%;
    }

        .btn-group > multiselect {
            text-align: left;
            width: 100% !important;
            border-radius: 5px !important;
        }
    
    leftoutput {
        padding-top: 1px !important;
        position: absolute;
        background-image: linear-gradient(top, #444444, #999999);
        width: 45px;
        height: 15px;
        text-align: center;
        color: #808080;
        background-color: #ffffff;
        border-radius: 15px;
        border: solid 0px #808080;
        display: block;
        font-size: xx-small;
        bottom: 100%;
        box-shadow: #999999 1px 1px 2px 2px;
        margin-left: -12px;
    }

    rightoutput {
        padding-top: 1px !important;
        position: absolute;
        background-image: linear-gradient(top, #444444, #999999);
        width: 45px;
        height: 15px;
        text-align: center;
        color: #808080;
        background-color: #ffffff;
        border-radius: 15px;
        border: solid 0px #808080;
        display: block;
        font-size: xx-small;
        bottom: 100%;
        box-shadow: #999999 1px 1px 2px 2px;
        margin-left: -35px;
    }

    leftoutput:after {
        content: "";
        position: absolute;
        border-top: 10px solid #ffffff;
        border-left: 5px solid transparent;
        border-right: 5px solid transparent;
        top: 14px;
        left: 12%;
    }

    .btn-group-justified {
        display: table;
        width: 100%;
        table-layout: initial;
        border-collapse: separate;
    }

    .dropdown-menu {
        width: 100%;
    }

    .multiselect-selected-text {
        float: left;
    }

    .multiselect .caret {
        float: right;
        margin-top: 8px;
    }

    .btn-group button {
        width: 100%;
    }

    rightoutput:after {
        content: "";
        position: absolute;
        border-top: 10px solid #ffffff;
        border-left: 5px solid transparent;
        border-right: 5px solid transparent;
        top: 14px;
        right: 13%;
    }
    /*stop Remove Min-Height Border input Modal Popup*/
    .modal-header {
        border-bottom: 0px solid #e5e5e5;
    }

    .nav-tabs.nav-tabs-v1 a {
        color: #ff5d26;
        font-weight: 200;
        font-size: 15px;
    }
    /*//to address border input datalist view*/
    .RightJqueryList {
        border: 1px #ff5d26 solid !important;
        border-radius: 5px !important;
        border-collapse: inherit !important;
    }
    /*Scroll CSS*/
    #scrolldiv::-webkit-scrollbar-track {
        -webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0.3);
        border-radius: 10px;
        background-color: #ffffff;
    }

    #scrolldiv::-webkit-scrollbar {
        width: 0.5%;
        background-color: #F5F5F5;
    }

    #scrolldiv::-webkit-scrollbar-thumb {
        border-radius: 10px;
        -webkit-box-shadow: inset 0 0 6px rgba(0,0,0,.3);
        background-color: #FF5D26;
    }


    /*Saved Search Dropdown UI*/
    .dropbtn {
        background-color: #ff6937;
        color: white;
        font-size: 13px;
        border: none;
        cursor: pointer;
        height: 32px;
        padding: 0px 0px 0px 0px;
        min-width: 180px;
        max-width: 180px;
    }

        .dropbtn:hover, .dropbtn:focus {
            background-color: #ff6937 !important;
            color: #ffffff;
        }

    .rj-dropdown {
        position: relative;
        display: inline-block;
    }

    .rj-dropdown-content {
        display: none;
        position: absolute;
        background-color: #ffffff;
        color: #ff6a00;
        min-width: 160px;
        box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
        z-index: 1048;
        max-height: 300px;
        overflow-y: auto;
        font-size: 13px;
        border-radius: 5px;
        min-width: 180px;
    }

        .rj-dropdown-content li {
            color: #ff5d26;
            padding: 5px 12px;
            text-decoration: none;
            display: block;
            /*border-bottom:solid 1px;*/
        }

            .rj-dropdown-content li:hover {
                background-color: #ff5d26;
                color: #ffffff;
            }

    .rj-dropdown:hover .dropbtn {
        background-color: #ff5d26;
    }

    #ddcontent::-webkit-scrollbar-track {
        -webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0.3);
        border-radius: 10px;
        background-color: #ffffff;
    }

    #ddcontent::-webkit-scrollbar {
        width: 2.5%;
        background-color: #ff6a00;
    }

    #ddcontent::-webkit-scrollbar-thumb {
        border-radius: 10px;
        -webkit-box-shadow: inset 0 0 6px rgba(0,0,0,.3);
        background-color: #ff6a00;
    }

    .ui-autocomplete {
        position: absolute;
        z-index: 1050 !important;
    }

    .ui-menu .ui-menu-item {
        BACKGROUND-COLOR: WHITE;
    }
    .multiselect-container > li > a > label {
        font-size: 12px !important;
    }
    .multiselect {
        border-radius:5px !important;
    }

     input[name="noofstories"] {
            margin-left:-14px !important;
    }

</style>
<!-- Landing tool BAr-->
<div style="height:44px;background-color:gray;margin-top: -4px;">
    <div class="col-sm-10" style="margin-top: 4px;">
        @Html.Hidden("searchname", "")
        @Html.Hidden("savesearchdname", "")
        <div class="col-md-2 col-sm-2 saved-slectoption" style="font-size:13px;padding-left:7px">
            <div class="dropdown">
                <button class="dropbtn" id="ddselect"><span id="ddtext" style="max-width:100px">Select One</span><span class="glyphicon glyphicon-menu-down" id="ddangle" style="padding-left:10px;padding-right:10px;float:right;"></span></button>
                <div class="rj-dropdown-content" id="ddcontent" style="padding-left: 0;">
                </div>
            </div>
        </div>
        <div class="col-md-2 col-sm-2 saved-filter">
            <button type="button" class="form-control" id="searchfilters" style="margin-top: 3px;font-size:13px;padding-top:6px;">
                <img src="~/img/Filter.png" alt="" style="top: 0px !important; left: 0px; height: 15px; width: 17px; margin-bottom: 1px;margin-right:5px" />
                Edit Filters
                <span class="caret" style="height: 8px;padding-left: 0px;"></span>
            </button>
        </div>
        <div class="col-md-1 col-sm-1 saved-form">
            <button type="button" class="form-control" data-toggle="modal" data-target="#SharePopup" id="sharesearchpopupbtn" style="height: 28px;padding-top: 1px;margin-top: 3px;font-size:13px;padding-top:4px;">
                <img src="~/img/sharicon01.png" alt="" style="top: 2px !important; left: 0px; height: 21px; margin-bottom: 1px" />
                Share
            </button>
        </div>
        <div class="col-md-1 col-sm-1 saved-delete">
            <button type="button" class="form-control" data-toggle="modal" data-target="#DeleteSavedSearch" id="deletefilters" style="background-color: #ff6937;border:none;margin-top: 3px;font-size:13px;padding-top:5px;color:#fff">
                Delete
            </button>
        </div>
        <div class="col-md-2 col-sm-2">
        </div>
    </div>
    <div class="col-sm-2" style="margin-top:10px!important;text-align:center;">
        <div class="dropdown btnmargintop" style="">
            <button class="btn btn-warning dropdown-toggle sortbtnsli7" type="button" data-toggle="dropdown" style="background-color:#ff5d26;color:#ffffff;border:none;border-radius:4px!important;" id="btnSaveSearchSortby">
                <span id="spanSaveSearchSortby1">Sort By</span>
                <span class="glyphicon glyphicon-menu-down" style="margin-left:5px"></span>
            </button>
            <ul class="dropdown-menu dropdownlowprice" style="right:0!important;">
                <li> <a href="#" class="list-group-item sub-item sortbyactive" style="font-size: 11px; padding-left: 5px; padding-right: 10px; padding-top: 7px; padding-bottom: 7px;" onclick="GetSavedSearchSortBy('1',this)">Lowest Price</a></li>
                <li><a href="#" class="list-group-item sub-item" style="font-size: 11px; padding-left: 5px; padding-right: 10px; padding-top: 7px; padding-bottom: 7px;" onclick="GetSavedSearchSortBy('2',this)">Highest Price</a></li>
                <li> <a href="#" class="list-group-item sub-item" style="font-size: 11px; padding-left: 5px; padding-right: 10px; padding-top: 7px; padding-bottom: 7px" onclick="GetSavedSearchSortBy('3',this)">Newest</a></li>
                <li><a href="#" class="list-group-item sub-item" style="font-size: 11px; padding-left: 5px; padding-right: 10px; padding-top: 7px; padding-bottom: 7px;" onclick="GetSavedSearchSortBy('4',this)">Oldest</a></li>
                <li><a href="#" class="list-group-item sub-item" style="font-size: 11px; padding-left: 5px; padding-right: 10px; padding-top: 7px; padding-bottom: 7px;" onclick="GetSavedSearchSortBy('5',this)">Lot Size</a></li>
                <li><a href="#" class="list-group-item sub-item" style="font-size: 11px; padding-left: 5px; padding-right: 10px; padding-top: 7px; padding-bottom: 7px;" onclick="GetSavedSearchSortBy('6',this)">Square Feet</a></li>
            </ul>
        </div>
    </div>
</div>
@*Propert Info Icons*@
<div class="col-sm-4" style="background-color: #fff;border-bottom-left-radius: 5px;border-bottom-right-radius: 5px;height: 23px;font-size: 11px;color:gray;z-index:100;margin-left: 1%;width: 340px;">
    <div style="padding-top:4px; padding-left:1%;">
        <img src="~/img/green_legend_Menu.png" style="height:10px; width:10px; border-radius:50%; margin-bottom:2px">
        <label style="margin-left: -2px;">For Sale</label> &nbsp;
        <img src="~/img/yellow_legendMenu.png" style="height:10px; width:10px; border-radius:50%; margin-bottom:2px">
        <label style="margin-left: -2px;">Under Contract</label>&nbsp;
        <img src="~/img/red_legendMenu.png" style="height:10px; width:10px; border-radius:50%; margin-bottom:2px">
        <label style="margin-left: -2px;">Sold</label>&nbsp;
        <img src="~/img/gray_legendMenu.png" style="height:10px; width:10px; border-radius:50%; margin-bottom:2px">
        <label style="margin-left: -2px;">Rental</label>&nbsp;
        <img src="~/img/viewedicon.png" style="height:10px; width:10px; border-radius:50%; margin-bottom:2px">
        <label style="margin-left: -2px;">Viewed</label>
    </div>
</div>
@*Google Map Div Element*@
<div id="googlemaps" style="width:85%; height:86.2vh !important; position:absolute;"></div>
<!-- Right Side List View DIv-->
<div id="rightdiv">
    <div class="col-sm-2" id="RightListView" style="float: right;background-color: white;overflow-y: auto;overflow-x: hidden;height:86.2vh;width: 225px;margin-top: 5px;top: -5px;padding-left:0.5px;">
    </div>
</div>
@*Icons on Map*@
<div class="iconsdiv btn-group" id="over_map" data-toggle="buttons" style="margin-right: 0!important;margin-top:12.2%;width:3%!important">
    <img src="~/img/Zoom_In_Normal.png" id="zoomInButton" style="margin-left: -2px;height: 33px;margin-top:6px;">
    <img src="~/img/ZoomOut_Normal.png" id="zoomOutButton" style="margin-top: -4px;margin-left: -2px;height: 33px;">
    <hr style="margin-top: 8% !important;" />
    <label id="drawpoly2" disabled="disabled" class="btn btn-sm" style="padding-left: 2px; border: none; margin-top:-14px">
        <img src="~/img/DrawTool_Normal-1.png" style="height: 30px !important;width: 29px !important;">
    </label>
    <label id="mylocation" class="btn btn-sm" style="padding-left: 4px;border: none;">
        <input type="radio" id="myloc">
        <img src="~/img/MapTool_Normal-1.png" class="Img_Map_Over" style="height: 30px !important;width: 29px !important;">
    </label>
    <hr style="margin-top:88px;margin-bottom: 4px;" />
    <div class="header-menu-list">
        <div class="btn-expand">
            <img src="/img/MapLayers_Normal-1.png" style="height: 30px !important;width: 29px !important;margin-left: 4px; margin-top: 0px;">
        </div>
        <div class="collapsible">
            <a href="#" id="mapview">
                <img src="~/img/map2.png" id="map" />
            </a>
            <a href="#" id="satview">
                <img src="~/img/sat.png" id="sat" />
            </a>
        </div>
    </div>
</div>
<!-- Expand Icon Div-->
<div class="col-sm-1" id="expanddiv" style="margin-right: -3.0%;float: right;top: 20px;width: 2.5%;height: 30px;padding-right: 6px;background-color: white;margin-top: 0%;border-top-left-radius:5px;border-bottom-left-radius:5px">
    <span class="fa fa-angle-left" id="Expand" aria-hidden="true" style="float: right; width: 23px; font-size: 29px !important;padding-left:8px"></span>
</div>
@*Footer to display Count*@
<div class="col-sm-12" id="footer">
    <div class="col-sm-4">&nbsp;</div>
    <div class="col-sm-4">
        <label style="background:rgba(27, 3, 3, 0.78);color:white;font-size:15px;padding-left: 10px;padding-top: 5px;padding-bottom: 5px;padding-right: 10px;border-radius: 5px;">
            Viewing<span class="countno" id="listcount"></span>
            Of <span class="countno" id="Totallistcount"></span> Listings
        </label>
    </div>
    <div class="col-sm-4">&nbsp;</div>
</div>
@*Hidden button to show the property modal popup*@
<button type="submit" id="btn_Details" data-dismiss="modal" class="btn btn-sm" data-toggle="modal" data-target="#ModelDetails" style="display:none"></button>
@*Share Popup*@
<div class="modal" id="SharePopup" style="padding-left:206px">
    <div class="modal-dialog" role="document" style="padding-top: 8%; width: 25%">
        <div class="modal-content">
            <div class="modal-header" style="text-align: center;background-color:#5d5a5a;color:#fff;height:45px;padding-top:7px;border-top-rightradius:5px; border-top-leftradius:5px;">
                <span>
                    <img src="/img/share2.png" width="24" height="30" alt="" style="margin-top:-2%" />
                </span> Share
            </div>
            <div class="modal-body" style="min-height: 200px;">
                <div class="col-md-12" style="text-align: center;display:none">
                    <a href="#" id="message_from_share">
                        <img src="/img/newmessagge.png" width="83" height="65" alt="" />
                    </a>
                </div>
                <div class="col-sm-12">&nbsp;</div>
                <div class="col-md-2">&nbsp;</div>
                <div class="col-md-2" style="text-align: center;padding-left:0px">

                    @*<a href="#" class="fb-share">Share on Facebook</a>*@
                    <div id="fb-root"></div>
                    <a href="javascript:fbShare('', 'Fb Share', 'Facebook share popup', 'http://googl.com', 520, 350)">
                        <img class="shareiconpads" src="/img/facebook.png" />
                    </a>
                </div>

                <div class="col-md-2 twocolumrem" style="padding-left:5px">
                    <a href="javascript:fbSharetwitter('', 'Twitter Share', 'Twitter share popup', 'http://googl.com', 520, 350)">
                        <img class="shareiconpads" src="/img/twitter.png" width="36" height="36" alt="" />
                    </a>
                </div>
                <div class="col-md-2 twocolumrem" style="padding-left:10px">
                    <a href="javascript:fbSharegoogle('', 'Google Share', 'Google share popup', 'http://googl.com', 520, 350)">
                        <img class="shareiconpads" src="/img/gplus.png" width="36" height="36" alt="" />
                    </a>
                </div>
                @*<div class="col-md-2 twocolumrem">
                        <a href="http://www.linkedin.com" target="_blank">
                            <img class="shareiconpads" src="/img/linkedin.png" width="36" height="36" alt="" />
                        </a>
                    </div>*@
                <div class="col-md-2 twocolumrem">
                    <a href="javascript:fbSharelinkedin('', 'linkedin Share', 'linkedin share popup', 'http://googl.com', 520, 350)">
                        <img class="shareiconpads" src="/img/linkedin.png" width="36" height="36" alt="" />
                    </a>
                </div>
                <div class="col-md-2">&nbsp;</div>
                <div class="col-sm-12" style="text-align: center;color:#808080;padding-top: 15px;padding-bottom: 15px;font-size:12px">OR</div>
                <div class="col-md-12" style="text-align: center">
                    <a href="#" id="copylink" class="mycopy" data-clipboard-action="copy" data-clipboard-target="#link">
                        <img src="/img/copybtn.png" width="245" height="31" alt="" />
                    </a>
                </div>
                <div class="row btnsrowmargin">
                    <div class="col-md-12" style="text-align:center;word-wrap: break-word;margin-top:10px">
                        <label id="link" style="font-size:12px !important"></label>
                    </div>
                </div>
                <div class="col-sm-12">&nbsp;</div>
                <div class="modal-footer">
                    <div class="col-md-12" style="text-align: center">
                        <a href="#" class="btn" id="cancelsharebtn" data-dismiss="modal" style="width: 120px; border-radius: 5px !important; background-color: gray; color: white; font-weight: 500; font-size: 17px;">Cancel</a>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
@*Delete Saved Search Popup*@
<div class="modal fade" id="DeleteSavedSearch" tabindex="-1" role="dialog" aria-labelledby="MessageLabel" aria-hidden="true" style="padding-left: 206px">
    <div class="modal-dialog" role="document" style="padding-top: 8%; width: 25%">
        <div class="modal-content">
            <div class="modal-header" style="text-align: center;color:#ff6937;height:45px;padding-top:13px;">
                <img src="/img/savedsearches_folder.png" width="30" height="25" alt="" style="margin-bottom:5px!important" />
                <label>
                </label> Remove Saved Search
                <hr style="width:90%;color:#ff6937;border: 1.5px solid;margin-top:7px;" />
            </div>
            <div class="col-sm-12">&nbsp;</div>
            <div class="modal-body">
                <div class="col-md-12" style="text-align: center">
                    Are you sure want to remove this saved search?
                </div>
                <div class="col-sm-12">&nbsp;</div>
                <div class="modal-footer">
                    <div class="col-md-12" style="text-align: center">
                        <div class="btn-group" style="width:auto">
                            <button type="button" data-dismiss="modal" class="btn btn-primary" style="width: 120px;border-radius: 5px 0px 0px 5px  !important;  background-color: gray!important; color: white; font-weight: 500; font-size: 17px;">No</button>
                            <button type="button" id="removeSearchBtn" class="btn btn-primary" style="width: 120px;border-radius: 0px 5px 5px 0px  !important; background-color: #ff6937!important; color: white; font-weight: 500; font-size: 17px;">Yes</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
@*HomeModalFilters modal popup*@
<div class="modal fade" id="HomeModalFilters" tabindex="-1" role="dialog" aria-labelledby="MessageLabel" aria-hidden="true" style="padding-left: 206px">
    <div class="modal-dialog" role="document" style="padding-top: 2%; width: 50%;">
        <div class="modal-content">
            <div class="modal-header" style="border-bottom:solid 2px #ff5d26!important">
                <section class="filterheder">
                    <div class="col-md-6">
                        <label class="control-label" for="exampleInputEmail1">Name</label>
                        <input type="text" class="form-control" id="inputsearchname" placeholder="Eastside Search">
                    </div>
                    <div class="col-md-6">
                        <label class="control-label" for="exampleInputEmail1">Notification Frequency </label>
                        <br>
                        <div class="notebtngroup  btn-group btn-group-justified gaptop">
                            <a href="#" data-index="Never" id="firstnote" name="notification" class="btn btn-default" data-btn-class="btn mybtncls" style="border-radius: 6px 0px 0px 6px !important;">Never</a>
                            <a href="#" data-index="Instantly" id="secondnote" name="notification" class="btn btn-default" data-btn-class="btn mybtncls" style="padding-left:6px">Instantly</a>
                            <a href="#" data-index="Daily" id="thirdnote" name="notification" class="btn btn-default" data-btn-class="btn mybtncls">Daily</a>
                            <a href="#" data-index="Weeekly" id="fourthnote" name="notification" class="btn btn-default " data-btn-class="btn mybtncls" style="padding-left:6px">Weeekly</a>
                            <a href="#" data-index="Monthly" id="fifthnote" name="notification" class="btn btn-default" data-btn-class="btn mybtncls" style="padding-left:6px;border-radius: 0px 6px 6px 0px !important;">Monthly</a>
                        </div>
                    </div>
                </section>
            </div>
            <div class="modal-body" style="min-height: 224px;" id="export-content">

                <div class="col-md-12" style="margin-top:-15px;">&nbsp;</div>
                <!--Nav Tab -->
                <ul id="tabs-demo2" class="nav nav-tabs nav-tabs-v1" role="tablist" style="border-bottom:solid 3px #f56331!important;padding-left:15px;padding-right:15px">
                    <li role="presentation" class="active" style="width:33.3%;">
                        <a href="#tabs-demo2-area1" id="tabs-demo2-1" role="tab" aria-controls="tabs-demo2-area1" data-toggle="tab" style="border-top-left-radius:10px;border-top-right-radius:10px;font-weight:bold;font-size:13px;text-align: center;"><span class="steptabsround">1</span>Basic Filters</a>
                    </li>
                    <li role="presentation" style="width:33.3%">
                        <a href="#tabs-demo2-area2" id="tabs-demo2-2" role="tab" aria-controls="tabs-demo2-area2" data-toggle="tab" style="border-top-left-radius:10px;border-top-right-radius:10px;font-weight:bold;font-size:13px;text-align: center;"><span class="steptabsround">2</span>Advanced Filters</a>
                    </li>
                    <li role="presentation" style="width:33.3%">
                        <a href="#tabs-demo2-area3" id="tabs-demo2-3" role="tab" aria-controls="tabs-demo2-area3" data-toggle="tab" style="border-top-left-radius:10px;border-top-right-radius:10px;font-weight:bold;font-size:13px;text-align: center;"><span class="steptabsround">3</span>Utilities Filters</a>
                    </li>
                </ul>
                <!--Tab Panes-->
                <div id="tabsDemo2Content" class="tab-content tab-content-v1 col-md-12">
                    <div role="tabpanel" class="tab-pane fade active in tabcontent1" id="tabs-demo2-area1">
                        <div class="col-md-12 row" style="padding-left: 3px;padding-top:10px;font-size:12px">
                            <label style="font-weight:bold;padding-left:12px">Driving Distance</label>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <form class="form-horizontal" role="form">
                                    <div class="form-group">
                                        <div class="col-sm-4" style="padding-right:0px">
                                            @Html.TextBox("inputMinutes", "", new
                                       {
                                           @style = "height: 35px",
                                           @class = "form-control ",
                                           @placeholder = " Minutes",
                                           @id = "inputMinutes", @*@MaxLength = "2",*@ @autocomplete = false
                                       })
                                        </div>
                                        <div class="col-sm-1" style="padding-left:5px">
                                            <label for="inputEmail3" class="control-label">From</label>
                                        </div>
                                        <div class="col-sm-7">
                                            @Html.TextBox("inputAddress", "", new { @class = "form-control ", @placeholder = " Address / Location…" })
                                        </div>
                                    </div>
                                </form>
                            </div>
                            <div class="col-md-6" style="padding-left:0px;padding-right:0px">
                                <div class="form-group col-sm-12">
                                    <div class="col-sm-4" style="text-align: left; padding-right: 0; padding-left: 0; font-size: xx-small;width:30%">
                                        <label for="inputEmail3" class="control-label" style="width: 100%;padding-top:6px!important">Property Type</label>
                                    </div>
                                    <div class="col-sm-8" style="padding-left: 0; padding-bottom: 3%;padding-right:0px;width:70%">
                                        @Html.DropDownList("propertytype", new List<SelectListItem>
                                            {
                                                  //new SelectListItem{ Text="Any", Value = "Any"},
                                                new SelectListItem{ Text="Single Family-Detached", Value = "Single Family-Detached" },
                                                new SelectListItem{ Text="Condo/TownHouse", Value = "Condo/Townhouse-Attached" },
                                                new SelectListItem{ Text="Mobile Home", Value = "Mobile Home" },
                                                new SelectListItem{ Text="Modular", Value = "Modular" },
                                                new SelectListItem{ Text="Other", Value = "Other" },
                                             }
                                             , new { @class = "form-control", multiple = "multiple", @style = "border-radius:5px!important;" })
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <label class="control-label spanssliderpadding" for="exampleInputEmail1" style="padding-bottom:0;">Price</label>
                                <label class="control-label" id="price" style="height: 15px!important; border: 0; color: #f6931f; font-weight: bold;" hidden="hidden"></label>
                                <br /> <span class="control-label" id="homes_formatted_from_price" style="height: 15px!important; border: 0; color: #f6931f; font-weight: bold;"></span>
                                <span class="control-label" id="homes_formatted_to_price" style="float:right; height: 15px!important; border: 0; color: #f6931f; font-weight: bold;"></span>
                                <div id="slider-range" name="range-slider" style="margin-left:15px;margin-right:15px">
                                    @*<leftoutput for="range-slider" id="stat" style="z-index:10!important;bottom:15px;left:0%"></leftoutput>
                                        <rightoutput for="range-slider" id="end" style="z-index:10!important;bottom:15px;left:100%"></rightoutput>*@
                                </div>
                            </div>
                            <div class="col-md-6">
                                <label class="control-label" for="exampleInputEmail1" style="padding-top:17px">Bathrooms </label>
                                <br>
                                <div class="bathbtngroup btn-group btn-group-justified" style="height: 35px" id="btns">
                                    <a href="#" data-index="Any" id="bathany" name="bathrooms" class="btn btn-default" data-btn-class="btn mybtncls" style="border-radius: 6px 0px 0px 6px !important;">Any</a>
                                    <a href="#" data-index="1" id="bath2" name="bathrooms" class="btn btn-default" data-btn-class="btn mybtncls">1+</a>
                                    <a href="#" data-index="2" id="bath3" name="bathrooms" class="btn btn-default" data-btn-class="btn mybtncls">2+</a>
                                    <a href="#" data-index="3" id="bath4" name="bathrooms" class="btn btn-default" data-btn-class="btn mybtncls">3+</a>
                                    <a href="#" data-index="4" id="bath5" name="bathrooms" class="btn btn-default" data-btn-class="btn mybtncls">4+</a>
                                    <a href="#" data-index="5" id="bath6" name="bathrooms" class="btn btn-default" data-btn-class="btn mybtncls" style="border-radius: 0px 6px 6px 0px !important;">5+</a>
                                </div>
                            </div>
                        </div>
                        <div class="row" style="margin-top:15px">
                            <div class="col-md-6" style="margin-top:10px">
                                <label class="control-label" for="exampleInputEmail1">Bedrooms</label>
                                <br>
                                <div class="bedroombtngroup btn-group btn-group-justified" style="height: 35px;">
                                    <a href="#" id="bedroomany" data-index="Any" name="bedrooms" class="btn  btn-default" data-btn-class="btn mybtncls" style="border-radius: 6px 0px 1px 6px !important;">Any</a>
                                    <a href="#" id="bedroom2" data-index="1" name="bedrooms" class="btn btn-default" data-btn-class="btn mybtncls">1+</a>
                                    <a href="#" id="bedroom3" data-index="2" name="bedrooms" class="btn btn-default" data-btn-class="btn mybtncls">2+</a>
                                    <a href="#" id="bedroom4" data-index="3" name="bedrooms" class="btn btn-default" data-btn-class="btn mybtncls">3+</a>
                                    <a href="#" id="bedroom5" data-index="4" name="bedrooms" class="btn btn-default" data-btn-class="btn mybtncls">4+</a>
                                    <a href="#" id="bedroom6" data-index="5" name="bedrooms" class="btn btn-default" data-btn-class="btn mybtncls" style="border-radius: 0px 6px 6px 0px !important;">5+</a>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <label class="control-label spanssliderpadding" for="exampleInputEmail1" style="">Sqft</label>
                                <label class="control-label" id="sqft" style="height: 15px!important; border: 0; color: #f6931f; font-weight: bold;" hidden="hidden"></label>
                                <br /> <span class="control-label" id="homes_formatted_from_sqft" style="height: 15px!important; border: 0; color: #f6931f; font-weight: bold;"></span>
                                <span class="control-label" id="homes_formatted_to_sqft" style="float:right;height: 15px!important; border: 0; color: #f6931f; font-weight: bold;"></span>
                                <div id="slider-range2" name="range-slider2" style="margin-left:15px;margin-right:15px">
                                    @*<leftoutput for="range-slider2" id="stat2" style="z-index:10!important;bottom:15px;left:0%"></leftoutput>
                                        <rightoutput for="range-slider2" id="end2" style="z-index:10!important;bottom:15px;left:100%"></rightoutput>*@
                                </div>
                            </div>
                        </div>
                        <hr class="hr2" />
                        <div class="row">
                            <div class="col-md-6">
                                <form role="form">
                                    <div class="form-group">
                                        <label class="control-label" for="exampleInputEmail1">Schools</label>
                                        @Html.TextBox("inputSchool", "", new { @class = "form-control ", @placeholder = "Search for Schools…", @type = "text", @autocomplete = false })
                                        <span class="glyphicon glyphicon-search glif" style="color: lightgrey !important; margin-left: 92%; top: -20px; width: 5px;"></span>
                                        <div id="SchoolSearchPopup" class="col-sm-3 rj-dropdown-content" style="display:none;overflow:hidden;margin-bottom: 20px;min-height:280px;max-height:420px;width:324px;padding-left:0!important;padding-right:0!important">
                                            <div class="modal-header" style="text-align: left;height:45px;padding-top:13px;padding-left:10px!important;padding-right:10px!important">
                                                <div class="col-md-12" style="text-align: center;padding-left:0!important;padding-right:0!important">
                                                    <div class="col-md-3" style="padding-left:0!important;padding-right:0!important">
                                                        <button type="button" id="cancel_ele_schools" class="SearchPopupButton">Cancel</button>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <label id="" style="font-weight:bold;padding-top:5px!important;font-size:15px;color:black">
                                                            Select Schools
                                                        </label>
                                                    </div>
                                                    <div class="col-md-3" style="padding-left:0!important;padding-right:0!important">
                                                        <button type="button" id="apply_ele_schools" class="SearchPopupButton">Apply</button>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-sm-12">&nbsp;</div>
                                            <div class="modal-body">
                                                <div class="row">
                                                    <div class="col-sm-12" style="padding:0px;">
                                                        <button type="button" id="elementarybtn" class="btn btn-default" style="width:100%;border-radius:5px !important; text-align:left;">
                                                            Elementary Schools
                                                            <span class="glyphicon glyphicon-triangle-bottom" id="eleicon" style="float: right;top:2px;"></span>
                                                        </button>
                                                    </div>
                                                    <div class="col-sm-12" id="elementaryschoolsdiv" style="margin-top:10px;border:1px inset rgba(0,0,0,0.3);min-height:125px!important">
                                                        <div id="elementaryschoolscheck" class="rj-dropdown-content" style="padding-left:0!important;padding-right:0!important;max-height:125px!important;overflow-y:auto;display:block;position:relative;box-shadow:0px 0px 0px 0px!important;margin-top:6px!important">

                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row">&nbsp;</div>
                                                <div class="row">
                                                    <div class="col-sm-12" style="padding:0px;">
                                                        <button type="button" id="middlebtn" class="btn btn-default" style="width:100%;border-radius:5px !important; text-align:left;">
                                                            Middle Schools
                                                            <span class="glyphicon glyphicon-triangle-bottom" id="middleicon" style="float: right;top:2px;"></span>
                                                        </button>
                                                    </div>
                                                    <div class="col-sm-12" id="middleschoolsdiv" style="margin-top:10px;border:1px inset rgba(0,0,0,0.3);min-height:125px!important">
                                                        <div id="middleschoolscheck" class="rj-dropdown-content" style="padding-left:0!important;padding-right:0!important;max-height:125px!important;overflow-y:auto;display:block;position:relative;box-shadow:0px 0px 0px 0px!important;margin-top:6px!important">

                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row">&nbsp;</div>
                                                <div class="row">
                                                    <div class="col-sm-12" style="padding:0px;">
                                                        <button type="button" id="highbtn" class="btn btn-default" style="width:100%;border-radius:5px !important; text-align:left;">
                                                            High Schools
                                                            <span class="glyphicon glyphicon-triangle-bottom" id="highicon" style="float: right;top:2px;"></span>
                                                        </button>
                                                    </div>
                                                    <div class="col-sm-12" id="highschoolsdiv" style="margin-top:10px;border:1px inset rgba(0,0,0,0.3);min-height:125px!important">
                                                        <div id="highschoolsChecks" class="rj-dropdown-content" style="padding-left:0!important;padding-right:0!important;max-height:125px!important;overflow-y:auto;display:block;position:relative;box-shadow:0px 0px 0px 0px!important;margin-top:6px!important">

                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="modal-footer" style="text-align:center;padding:8px;">
                                                <div class="alert alert-dismissable alert-success" id="" style="padding:5px;">
                                                    <label id="" class="control-label" style="font-size:10px !important">
                                                        Schools listed are based on current Map view area and Filtered Listings
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </form>
                            </div>
                            <div class="col-md-6">
                                <label class="control-label" for="exampleInputEmail1">Garage Type</label>
                                <br>
                                <div class="grgtypebtngroup btn-group btn-group-justified" style="height: 35px">
                                    <a href="#" id="grgany" data-index="Any" name="garagetype" class="btn  btn-default" data-btn-class="btn mybtncls" style="border-radius: 6px 0px 0px 6px !important;">Any</a>
                                    <a href="#" id="grg2" data-index="Carport" name="garagetype" class="btn btn-default" data-btn-class="btn mybtncls">Carport</a>
                                    <a href="#" id="grg3" data-index="Garage" name="garagetype" class="btn btn-default" data-btn-class="btn mybtncls" style="border-radius: 0px 6px 6px 0px !important;">Garage</a>
                                </div>
                            </div>
                        </div>
                        <div class="row" style="margin-top:15px">
                            <div class="col-md-6" style="margin-top:10px">
                                <label class="control-label" for="exampleInputEmail1">Master Bedrooms</label>
                                <br>
                                <div class="masterbedroombtngroup btn-group btn-group-justified" style="height: 35px;">
                                    <a href="#" id="mbedany" data-index="Any" name="masterbedrooms" class="btn  btn-default" data-btn-class="btn mybtncls" style="border-radius: 6px 0px 0px 6px !important;">Any</a>
                                    <a href="#" id="mbed2" data-index="Main Floor" name="masterbedrooms" class="btn btn-default" data-btn-class="btn mybtncls">Main Floor</a>
                                    <a href="#" id="mbed3" data-index="Second Floor" name="masterbedrooms" class="btn btn-default" data-btn-class="btn mybtncls" style="border-radius: 0px 6px 6px 0px !important;padding-left:6px">Second Floor</a>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <label class="control-label spanssliderpadding" for="exampleInputEmail1" style="">Lot Acreage</label>
                                <label class="control-label" id="lotacreage" style="height: 15px!important; border: 0; color: #f6931f; font-weight: bold;" hidden="hidden"></label>
                                <br /> <span class="control-label" id="homes_formatted_from_lotacrg" style="height: 15px!important; border: 0; color: #f6931f; font-weight: bold;"></span>
                                <span class="control-label" id="homes_formatted_to_lotacrg" style="float:right;height: 15px!important; border: 0; color: #f6931f; font-weight: bold;"></span>
                                <div id="slider-range3" name="range-slider3" style="margin-left:15px;margin-right:15px">
                                    @*<leftoutput for="range-slider3" id="stat3" style="z-index:10!important;bottom:15px;left:0%"></leftoutput>
                                        <rightoutput for="range-slider3" id="end3" style="z-index:10!important;bottom:15px;left:100%"></rightoutput>*@
                                </div>
                            </div>
                        </div>
                        <div class="row" style="margin-top:10px !important">
                            <div class="col-md-6">
                                <label class="control-label" for="exampleInputEmail1">Number of Stories</label>
                                <br>
                                <div class="col-md-12" style="padding-left:20px;padding-right:0">
                                    <label class="checkbox-inline filterlabel" style="padding-left:0px">
                                        <input type="checkbox" data-index="Any" name="noofstories" value="1" id="storiesany" style="margin-top:2px" />
                                        Any
                                    </label>
                                    <label class="checkbox-inline filterlabel" style="padding-left:12px">
                                        <input type="checkbox" data-index="1" name="noofstories" id="stories2" value="2" style="margin-top:2px" />
                                        1
                                    </label>
                                    <label class="checkbox-inline filterlabel" style="padding-left:12px">
                                        <input type="checkbox" data-index="1.5" name="noofstories" id="stories3" value="3" style="margin-top:2px" />
                                        1.5
                                    </label>
                                    <label class="checkbox-inline filterlabel" style="padding-left:12px">
                                        <input type="checkbox" data-index="2" name="noofstories" id="stories4" value="4" style="margin-top:2px" />
                                        2
                                    </label>
                                    <label class="checkbox-inline filterlabel" style="padding-left:10px">
                                        <input type="checkbox" data-index="Tri / Split" name="noofstories" id="stories5" alue="5" style="margin-top:2px" />
                                        Tri / Split
                                    </label>
                                    <label class="checkbox-inline filterlabel" style="padding-left:12px">
                                        <input type="checkbox" data-index="3" name="noofstories" id="stories6" value="6" style="margin-top:2px" />
                                        3+
                                    </label>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <label class="control-label" for="exampleInputEmail1">SubDivision</label>
                                <br>
                                @Html.TextBox("inputSubDivision", "", new { @class = "form-control ", @placeholder = "Search for Subdivisions…", @type = "text", @style = "height: 35px", @autocomplete = false })
                                <span class="glyphicon glyphicon-search glif" style="color: lightgrey !important; margin-left: 92%; top: -20px; width: 5px;"></span>
                                <div class="rj-dropdown-content" style="margin-bottom: 20px;display:none;max-height:400px!important;padding-left:0!important;padding-right:0!important;width:324px;overflow:hidden" id="SubDivSearchPopup">
                                    <div class="modal-header" style="text-align: left;height:45px;padding-top:13px;padding-left:10px!important;padding-right:10px!important">
                                        <div class="col-md-12" style="text-align: center;padding-left:0!important;padding-right:0!important">
                                            <div class="col-md-3" style="padding-left:0!important;padding-right:0!important">
                                                <button type="button" id="cancel_subdiv_dropdown" class="SearchPopupButton">Cancel</button>
                                            </div>
                                            <div class="col-md-6">
                                                <label id="" style="font-weight:bold;padding-top:5px!important;font-size:13px">
                                                    Subdivisions
                                                </label>
                                            </div>
                                            <div class="col-md-3" style="padding-left:0!important;padding-right:0!important">
                                                <button type="button" id="apply_subdiv_dropdown" class="SearchPopupButton">Apply</button>
                                            </div>
                                        </div>
                                        <div class="col-sm-12">

                                            @*@Html.TextBox("inputSchool", "", new { @class = "form-control ", @placeholder = "Search for Schools…", @type = "search" })*@
                                        </div>
                                    </div>
                                    <div class="col-sm-12">&nbsp;</div>
                                    <div class="modal-body">

                                        <div class="col-sm-12" style="border:1px inset rgba(0,0,0,0.3);min-height:250px!important">
                                            <div class="rj-dropdown-content" style="padding-left:0!important;padding-right:0!important;min-height:230px!important;max-height:230px!important;overflow-y:auto;display:block;position:relative;box-shadow:0px 0px 0px 0px!important;margin-top:6px!important" id="subDivisionChecks">

                                            </div>
                                        </div>
                                    </div>
                                    <div class="modal-footer">
                                        <div class="col-sm-12">&nbsp;</div>
                                        <div class="col-md-12" style="text-align: center;padding-left:0px!important;padding-right:0!important">
                                            <div class="alert alert-dismissable alert-success" id="" style="padding:5px;">
                                                <label id="" class="control-label" style="font-size:12px !important">
                                                    Subdivisions listed are based on current Map view area
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <label class="control-label" for="exampleInputEmail1">Garage Capacity</label>
                                <br>
                                <div class="grgcapbtngroup btn-group btn-group-justified" style="height: 35px">
                                    <a href="#" id="grgcapany" data-index="Any" name="garagecapacity" class="btn  btn-default " data-btn-class="btn mybtncls" style="border-radius: 6px 0px 0px 6px !important;">Any</a>
                                    <a href="#" id="grgcap2" data-index="2" name="garagecapacity" class="btn btn-default" data-btn-class="btn mybtncls">2+</a>
                                    <a href="#" id="grgcap3" data-index="3" name="garagecapacity" class="btn btn-default" data-btn-class="btn mybtncls" style="border-radius: 0px 6px 6px 0px !important;">3+</a>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <label class="control-label" for="exampleInputEmail1">Age</label>
                                <br>
                                @Html.DropDownList("agetype", new List<SelectListItem>
                                            {
                                                //new SelectListItem{ Text="Any", Value = "Any" },
                                                new SelectListItem{ Text="To Be Built", Value = "To Be Built" },
                                                new SelectListItem{ Text="Under Construction", Value = "Under Construction" },
                                                new SelectListItem{ Text="New / Never Lived In", Value = "New/Never Lived In" },
                                                new SelectListItem{ Text="1-5", Value = "1-5" },
                                                new SelectListItem{ Text="6-10", Value = "6-10" },
                                                new SelectListItem{ Text="11-20", Value = "11-20" },
                                                new SelectListItem{ Text="21-30", Value = "21-30" },
                                                new SelectListItem{ Text="31-50", Value = "31-50" },
                                                new SelectListItem{ Text="50+", Value = "50" },
                                             }, new { @class = "form-control", multiple = "multiple" })
                            </div>
                        </div>
                        <hr class="hr2" />
                    </div>
                    <div role="tabpanel" class="tab-pane fade tabcontent1" id="tabs-demo2-area2">
                        <div class="row">
                            <div class="col-sm-6">
                                <form class="form-horizontal" role="form">
                                    <div class="form-group">
                                        <label for="inputEmail3" class="control-label">Lot Features</label><br />
                                        @Html.DropDownList("lotfeatures", new List<SelectListItem>
                                            {
                                                //new SelectListItem{ Text="Any", Value = "Any" },
                                                new SelectListItem{ Text="Cul-de-Sac", Value = "Cul-de-Sac" },
                                                new SelectListItem{ Text="Fenced Yard", Value = "Fenced Yard" },
                                                new SelectListItem{ Text="Mountain View", Value = "Mountain Vie" },
                                                 new SelectListItem{ Text="Mountain", Value = "Mountain" },
                                                new SelectListItem{ Text="On Golf Course", Value = "On Golf Course" },
                                                new SelectListItem{ Text="Sidewalk", Value = "Sidewalk" },
                                                new SelectListItem{ Text="Water Access", Value = "Water Access" },
                                                new SelectListItem{ Text="Water Front", Value = "Water Fron" },

                                             }
                                             , new { @class = "form-control", multiple = "multiple" })
                                    </div>
                                </form>
                            </div>
                            <div class="col-sm-6 removedpaddings">
                                <label for="inputEmail3" class="control-label">Appliances</label><br />
                                @Html.DropDownList("appliances", new List<SelectListItem>
                                            {
                                                //new SelectListItem{ Text="Any", Value = "Any" },
                                                new SelectListItem{ Text="Cook Top - Electric", Value = "Cook Top - Electric" },
                                                new SelectListItem{ Text="Cook Top - Smooth", Value = "Cook Top - Smooth" },
                                                new SelectListItem{ Text="Gas", Value = "Gas" },
                                                 new SelectListItem{ Text="Dishwasher", Value = "Dishwasher" },
                                                new SelectListItem{ Text="Disposal", Value = "Disposal" },
                                                new SelectListItem{ Text="Double Oven", Value = "Double Oven" },
                                                new SelectListItem{ Text="Dryer", Value = "Dryer" },
                                                new SelectListItem{ Text="Refrigerator", Value = "Refrigerator" },
                                                new SelectListItem{ Text="Washer", Value = "Washer" },
                                             }
                                             , new { @class = "form-control", multiple = "multiple" })
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6">
                                <form class="form-horizontal" role="form">
                                    <div class="form-group">
                                        <label for="inputEmail3" class="control-label">Foundation Type</label>
                                        <br>
                                        <div class="ftypebtngroup btn-group btn-group-justified" style="height: 35px">
                                            <a href="#" id="ftypeany" name="foundationtype" data-index="Any" class="btn  btn-default" data-btn-class="btn mybtncls" style="border-radius: 6px 0px 0px 6px !important;">Any</a>
                                            <a href="#" id="ftype2" class="btn btn-default" data-index="Basement" name="foundationtype" data-btn-class="btn mybtncls">Basement</a>
                                            <a href="#" id="ftype3" class="btn btn-default" data-index="Crawl Space" name="foundationtype" data-btn-class="btn mybtncls" style="padding-left:3px">Crawl Space</a>
                                            <a href="#" id="ftype4" class="btn btn-default" data-index="Slab" name="foundationtype" data-btn-class="btn mybtncls" style="border-radius: 0px 6px 6px 0px !important;">Slab</a>
                                        </div>
                                    </div>
                                </form>
                            </div>
                            <div class="col-sm-6 removedpaddings">
                                <label for="inputEmail3" class="control-label">Master Features</label>
                                <div class="col-md-12" style="padding-left:4px;padding-right:0px;margin-top:5px">
                                    <label class="checkbox-inline filterlabel" style="padding-left:17px;">
                                        <input type="checkbox" data-index="Double Sink" name="masterfeatures" value="Double Sink" id="masterfeaturesany" style="margin-left:0px;left:0px;margin-top:2px" />
                                        Double Sink
                                    </label>
                                    <label class="checkbox-inline filterlabel" style="padding-left:17px;margin-left:2px">
                                        <input type="checkbox" data-index="Full Bath" name="masterfeatures" id="masterfeatures2" value="Full Bath" style="margin-left:0px;left:0px;margin-top:2px" />
                                        Full Bath
                                    </label>
                                    <label class="checkbox-inline filterlabel" style="padding-left:17px;margin-left:2px">
                                        <input type="checkbox" data-index="Walk-In Closest" name="masterfeatures" id="masterfeatures3" value="Walk-In Closest" style="margin-left:0px;left:0px;margin-top:2px" />
                                        Walk-In Closet
                                    </label>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6">
                                <form class="form-horizontal" role="form">
                                    <div class="form-group">
                                        <label for="inputEmail3" class="control-label">Exterior Features</label>
                                        @*<label for="inputEmail3" class="control-label">Appliances</label>*@<br />
                                        @Html.DropDownList("exteriorfeatures", new List<SelectListItem>
                                            {
                                                //new SelectListItem{ Text="Any", Value = "Any" },
                                                new SelectListItem{ Text="Deck", Value = "Deck" },
                                                new SelectListItem{ Text="Patio", Value = "Patio" },
                                                new SelectListItem{ Text="Handicap Access", Value = "Handicap Access" },
                                                 new SelectListItem{ Text="Outdoor Fireplace", Value = "Outdoor Fireplace" },
                                                new SelectListItem{ Text="Outdoor Kitchen", Value = "Outdoor Kitchen" },
                                                new SelectListItem{ Text="Pool - Above Ground", Value = "Pool - Above Ground" },
                                                new SelectListItem{ Text="Pool - In Ground", Value = "Pool - In Ground" },
                                                new SelectListItem{ Text="Porch - Screened", Value = "Porch - Screened" },
                                                new SelectListItem{ Text="Sprinkler In Ground - Full Yard", Value = "Sprinkler In Ground - Full Yard" },
                                                new SelectListItem{ Text="Sprinkler In Ground - Half Yard", Value = "Sprinkler In Ground - Half Yard" },
                                             }
                                             , new { @class = "form-control", multiple = "multiple" })
                                    </div>
                                </form>
                            </div>
                            <div class="col-sm-6">
                                <label for="inputEmail3" class="control-label">Laundry Room</label>
                                <br>
                                <div class="lroombtngroup btn-group btn-group-justified" style="height: 35px">
                                    <a href="#" id="lroomany" name="laundryroom" data-index="Any" class="btn  btn-default" data-btn-class="btn mybtncls" style="border-radius: 6px 0px 0px 6px !important;">Any</a>
                                    <a href="#" id="lrooman2" class="btn btn-default" name="laundryroom" data-index="Walk-In Only" data-btn-class="btn mybtncls" style="border-radius: 0px 6px 6px 0px !important;">Walk-In Only</a>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6">
                                <form class="form-horizontal" role="form">
                                    <div class="form-group">
                                        <label for="inputEmail3" class="control-label">Interior Features</label><br />
                                        @Html.DropDownList("interiorfeatures", new List<SelectListItem>
                                            {
                                                 //new SelectListItem{ Text="Any", Value = "Any" },
                                                new SelectListItem{ Text="Ceiling - 9ft", Value = "Ceiling - 9ft" },
                                                new SelectListItem{ Text="Ceiling - Cathedral/Vaulted", Value = "Ceiling - Cathedral/Vaulted" },
                                                new SelectListItem{ Text="Open Floor Plan", Value = "Open Floor Plan" },
                                                 new SelectListItem{ Text="Walk-In Closet", Value = "Walk-In Closet" },
                                                new SelectListItem{ Text="Countertops - Granite", Value = "Countertops - Granite" },
                                                new SelectListItem{ Text="Countertops - Solid Surface", Value = "Countertops - Solid Surfac" },
                                                new SelectListItem{ Text="Countertops - Other", Value = "Countertops - Other" },
                                                new SelectListItem{ Text="Wet Bar", Value = "Wet Bar" },
                                                new SelectListItem{ Text="Central Vacuum", Value = "Central Vacuum" },
                                                new SelectListItem{ Text="Handicap Access", Value = "Handicap Acces" },
                                                new SelectListItem{ Text="In-Law Suite", Value = "In-Law Suite" },
                                                new SelectListItem{ Text="Intercom", Value = "Intercom" },
                                             }
                                             , new { @class = "form-control", multiple = "multiple" })
                                    </div>
                                </form>
                            </div>
                            <div class="col-sm-6">
                                <label for="inputEmail3" class="control-label">Fire Place</label>
                                <br>
                                <div class="fplacebtngroup btn-group btn-group-justified" style="height: 35px">
                                    <a href="#" id="fplaceany" name="fireplace" data-index="Any" class="btn  btn-default" data-btn-class="btn mybtncls" style="border-radius: 6px 0px 0px 6px !important;">Any</a>
                                    <a href="#" id="fplace2" name="fireplace" data-index="Gas" class="btn btn-default" data-btn-class="btn mybtncls">Gas</a>
                                    <a href="#" id="fplace3" name="fireplace" data-index="Wood Burning" class="btn btn-default" data-btn-class="btn mybtncls" style="border-radius: 0px 6px 6px 0px !important;padding-left:6px">Wood Burning</a>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-6">
                                <form class="form-horizontal" role="form">
                                    <div class="form-group">
                                        <label for="inputEmail3" class="control-label">Flooring Type</label>
                                        <br>
                                        <div class="floorbtngroup btn-group btn-group-justified" style="height: 35px">
                                            <a href="#" id="floorany" name="floortype" data-index="Any" class="btn  btn-default" data-btn-class="btn mybtncls" style="border-radius: 6px 0px 0px 6px !important;">Any</a>
                                            <a href="#" id="floor2" name="floortype" data-index="Hardwood" class="btn btn-default" data-btn-class="btn mybtncls">Hardwood</a>
                                            <a href="#" id="floor3" name="floortype" data-index="Pine" class="btn btn-default" data-btn-class="btn mybtncls">Pine</a>
                                            <a href="#" id="floor4" name="floortype" data-index="Carpet" class="btn btn-default" data-btn-class="btn mybtncls" style="border-radius: 0px 6px 6px 0px !important;">Carpet</a>
                                        </div>
                                    </div>
                                </form>
                            </div>
                            <div class="col-sm-6">
                                <label for="inputEmail3" class="control-label">Community Amenities</label>
                                <div class="col-md-12" style="padding-left:2px;padding-right:0px;margin-top:5px">
                                    <label class="checkbox-inline filterlabel" style="padding-left:14px;">
                                        <input type="checkbox" data-index="Gated Community" name="community" id="communityany" value="Gated Community" style="margin-left:0px;left:0px;margin-top:2px" />
                                        Gated Community
                                    </label>
                                    <label class="checkbox-inline filterlabel" style="padding-left:14px;margin-left:-1px">
                                        <input type="checkbox" data-index="Pool" name="community" id="community2" value="Pool" style="margin-left:0px;left:0px;margin-top:2px" />
                                        Pool
                                    </label>
                                    <label class="checkbox-inline filterlabel" style="padding-left:13px;margin-left:-1px">
                                        <input type="checkbox" data-index="Lawn Maintenanace" id="community3" name="community" value="Lawn Maintenanace" style="margin-left:0px;left:0px;margin-top:2px" />
                                        Lawn Maintenance
                                    </label>
                                </div>
                            </div>
                        </div>
                        <hr class="hr2" />
                    </div>
                    <div role="tabpanel" class="tab-pane fade tabcontent1" id="tabs-demo2-area3">
                        <div class="row">
                            <div class="col-sm-6">

                                <label for="inputEmail3" class="control-label">Heating System</label>
                                <br>
                                <div class="heatsystembtngroup btn-group btn-group-justified">
                                    <a href="#" id="hsany" name="heatsystem" data-index="Any" class="btn  btn-default" data-btn-class="btn mybtncls" style="border-radius: 6px 0px 0px 6px !important;">Any</a>
                                    <a href="#" id="hs2" name="heatsystem" data-index="Gas" class="btn btn-default" data-btn-class="btn mybtncls">Gas</a>
                                    <a href="#" id="hs3" name="heatsystem" data-index="Electric" class="btn btn-default" data-btn-class="btn mybtncls" style="border-radius: 0px 6px 6px 0px !important;">Electric</a>
                                </div>

                            </div>
                            <div class="col-sm-6 removedpaddings">
                                <label for="inputEmail3" class="control-label">Water Type</label>
                                <br>
                                <div class="watertypebtngroup btn-group btn-group-justified">
                                    <a href="#" id="wtypeany" name="watertype" data-index="Any" class="btn  btn-default" data-btn-class="btn mybtncls" style="border-radius: 6px 0px 0px 6px !important;">Any</a>
                                    <a href="#" id="wtype2" name="watertype" data-index="Public" class="btn btn-default" data-btn-class="btn mybtncls">Public</a>
                                    <a href="#" id="wtype3" name="watertype" data-index="Well" class="btn btn-default" data-btn-class="btn mybtncls" style="border-radius: 0px 6px 6px 0px !important;">Well</a>
                                </div>
                            </div>
                        </div>
                        <div class="row" style="margin-top:10px !important">
                            <div class="col-sm-6">

                                <label for="inputEmail3" class="control-label">Water Heater Type</label>
                                <br>
                                <div class="waterheaterbtngroup btn-group btn-group-justified">
                                    <a href="#" id="wheaterany" name="waterheatertype" data-index="Any" class="btn btn-default" data-btn-class="btn mybtncls" style="border-radius: 6px 0px 0px 6px !important;">Any</a>
                                    <a href="#" id="wheater2" name="waterheatertype" data-index="Tankless" class="btn btn-default" data-btn-class="btn mybtncls">Tankless</a>
                                    <a href="#" id="wheater3" name="waterheatertype" data-index="Gas" class="btn btn-default" data-btn-class="btn mybtncls" style="border-radius: 0px 6px 6px 0px !important;">Gas</a>
                                </div>

                            </div>
                            <div class="col-sm-6">
                                <label for="inputEmail3" class="control-label">Sewer Type</label>
                                <br>
                                <div class="swerbtngroup btn-group btn-group-justified">
                                    <a href="#" id="swerany" name="sewertype" data-index="Any" class="btn  btn-default" data-btn-class="btn mybtncls" style="border-radius: 6px 0px 0px 6px !important;">Any</a>
                                    <a href="#" id="swer2" name="sewertype" data-index="Public" class="btn btn-default" data-btn-class="btn mybtncls">Public</a>
                                    <a href="#" id="swer3" name="sewertype" data-index="Septic" class="btn btn-default" data-btn-class="btn mybtncls" style="border-radius: 0px 6px 6px 0px !important;">Septic</a>
                                </div>
                            </div>
                        </div>
                        <hr class="hr2" />
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <div class="row">
                    <div class="col-md-12">
                        <div class="alert alert-dismissable alert-success" id="summarydiv1" style="text-align: left">
                            <label id="summary1" class="control-label"></label>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-3">
                        <button class="QuitChetOrangePopupButton" id="closebtn3" data-dismiss="modal">Close</button>
                    </div>
                    <div class="col-md-3">&nbsp;</div>
                    <div class="col-md-3" style="text-align:right">
                        <button class="QuitChetGrayPopupButton" id="resetbtn">Reset</button>
                    </div>
                    <div class="col-md-3" style="text-align:right">
                        <button class="QuitChetOrangePopupButton" id="HFiltersApplyBtn">Save Changes</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
@*RentalsModalFilters modal popup*@
<div class="modal fade" id="RentalsModalFilters" tabindex="-1" role="dialog" aria-labelledby="MessageLabel" aria-hidden="true" style="padding-left: 206px">
    <div class="modal-dialog" role="document" style="padding-top: 2%; width: 50%;">
        <div class="modal-content">
            <div class="modal-header" style="border-bottom:solid 2px #ff5d26!important">
                <section class="filterheder">
                    <div class="col-md-6">
                        <label class="control-label" for="exampleInputEmail1">Name</label>
                        <input type="text" class="form-control" id="inputrentalsearchname" placeholder="Eastside Search">

                    </div>
                    <div class="col-md-6">
                        <label class="control-label" for="exampleInputEmail1">Notification Frequency </label>
                        <br>
                        <div class="rentalnotebtngroup  btn-group btn-group-justified gaptop">
                            <a href="#" data-index="Never" id="rfirstnote" name="rnotification" class="btn btn-default" data-btn-class="btn mybtncls">Never</a>
                            <a href="#" data-index="Instantly" id="rsecondnote" name="rnotification" class="btn btn-default" data-btn-class="btn mybtncls" style="padding-left:6px">Instantly</a>
                            <a href="#" data-index="Daily" id="rthirdnote" name="rnotification" class="btn btn-default" data-btn-class="btn mybtncls">Daily</a>
                            <a href="#" data-index="Weeekly" id="rfourthnote" name="rnotification" class="btn btn-default " data-btn-class="btn mybtncls" style="padding-left:6px">Weeekly</a>
                            <a href="#" data-index="Monthly" id="rfifthnote" name="rnotification" class="btn btn-default" data-btn-class="btn mybtncls" style="padding-left:6px">Monthly</a>
                        </div>
                    </div>
                </section>
            </div>
            <div class="modal-body" style="min-height: 322px;" id="rental-content">
                <div id="rentalContent" class="tab-content tab-content-v1 col-md-12">
                    <div role="tabpanel" class="tab-pane fade active in tabcontent1" id="rental-tab">
                        <div class="col-md-12 row" style="">
                            <label>Driving Distance</label>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <form class="form-horizontal" role="form">
                                    <div class="form-group">
                                        <div class="col-sm-4">
                                            @Html.TextBox("rentalinputMinutes", "", new
                                       {
                                           @style = "height: 35px",
                                           @class = "form-control ",
                                           @placeholder = " Minutes",
                                           @id = "rentalinputMinutes", @*@MaxLength = "2",*@ @autocomplete = false
                                       })

                                        </div>
                                        <div class="col-sm-2 removedpaddings">
                                            <label for="inputEmail3" class="control-label">From</label>
                                        </div>
                                        <div class="col-sm-6 removedpaddings">
                                            @Html.TextBox("rentalinputAddress", "", new { @class = "form-control ", @placeholder = " Address / Location…" })

                                        </div>
                                    </div>
                                </form>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group col-sm-12" style="padding: 0px;">
                                    <div class="col-sm-4" style="text-align: left; padding-right: 0; padding-left: 0; font-size: xx-small">
                                        <label for="inputEmail3" class="control-label" style="width: 100%;padding-top:6px!important">Property Type</label>
                                    </div>
                                    <div class="col-sm-8" style="padding:0">
                                        @Html.DropDownList("rentalpropertytype", new List<SelectListItem>
                                            {
                                                 //new SelectListItem{ Text="Any", Value = "Any" },
                                                new SelectListItem{ Text="Single Family-Detached", Value = "Single Family-Detached" },
                                                new SelectListItem{ Text="Condo/TownHouse", Value = "Condo/Townhouse-Attached" },
                                                new SelectListItem{ Text="Mobile Home", Value = "Mobile Home" },
                                                new SelectListItem{ Text="Modular", Value = "Modular" },
                                                new SelectListItem{ Text="Other", Value = "Other" },
                                             }
                                             , new { @class = "form-control", multiple = "multiple" })
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6" style="padding-left:25px;padding-right:25px;">
                                <label class="control-label spanssliderpadding" for="exampleInputEmail1" style="">Price</label>
                                <label class="control-label" id="rentalprice" style="height: 15px!important; border: 0; color: #f6931f; font-weight: bold;" hidden="hidden"></label>
                                <br /> <span class="control-label" id="rental_formatted_from_price" style="height: 15px!important; border: 0; color: #f6931f; font-weight: bold;"></span>
                                <span class="control-label" id="rental_formatted_to_price" style="float:right;height: 15px!important; border: 0; color: #f6931f; font-weight: bold;"></span>
                                <div id="rentalslider-range" name="range-rentalslider" style="margin-top:8px;">
                                    @*<leftoutput for="range-rentalslider" id="rstat" style="z-index:10!important;bottom:15px;left:0%"></leftoutput>
                                        <rightoutput for="range-rentalslider" id="rend" style="z-index:10!important;bottom:15px;left:100%"></rightoutput>*@
                                </div>
                            </div>
                            <div class="col-md-6" style="margin-top:13px">
                                <label class="control-label" for="exampleInputEmail1">Bathrooms </label>
                                <br>
                                <div class="rentalbathbtngroup btn-group btn-group-justified" style="height: 35px" id="rbtns">
                                    <a href="#" data-index="Any" id="rentalbathany" name="rentalbathrooms" class="btn active btn-default" data-btn-class="btn mybtncls" style="border-radius: 6px 0px 0px 6px !important;">Any</a>
                                    <a href="#" data-index="1" id="rentalbath2" name="rentalbathrooms" class="btn btn-default" data-btn-class="btn mybtncls">1+</a>
                                    <a href="#" data-index="2" id="rentalbath3" name="rentalbathrooms" class="btn btn-default" data-btn-class="btn mybtncls">2+</a>
                                    <a href="#" data-index="3" id="rentalbath4" name="rentalbathrooms" class="btn btn-default" data-btn-class="btn mybtncls">3+</a>
                                    <a href="#" data-index="4" id="rentalbath5" name="rentalbathrooms" class="btn btn-default" data-btn-class="btn mybtncls">4+</a>
                                    <a href="#" data-index="5" id="rentalbath6" name="rentalbathrooms" class="btn btn-default" data-btn-class="btn mybtncls" style="border-radius: 0px 6px 6px 0px !important;">5+</a>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6" style="margin-top:13px">
                                <label class="control-label" for="exampleInputEmail1">Bedrooms</label>
                                <br>
                                <div class="rentalbedroombtngroup btn-group btn-group-justified" style="height: 35px">
                                    <a href="#" id="rentalbedroomany" data-index="Any" name="rentalbedrooms" class="btn active btn-default" data-btn-class="btn mybtncls" style="border-radius: 6px 0px 1px 6px !important;">Any</a>
                                    <a href="#" id="rentalbedroom2" data-index="1" name="rentalbedrooms" class="btn btn-default" data-btn-class="btn mybtncls">1+</a>
                                    <a href="#" id="rentalbedroom3" data-index="2" name="rentalbedrooms" class="btn btn-default" data-btn-class="btn mybtncls">2+</a>
                                    <a href="#" id="rentalbedroom4" data-index="3" name="rentalbedrooms" class="btn btn-default" data-btn-class="btn mybtncls">3+</a>
                                    <a href="#" id="rentalbedroom5" data-index="4" name="rentalbedrooms" class="btn btn-default" data-btn-class="btn mybtncls">4+</a>
                                    <a href="#" id="rentalbedroom6" data-index="5" name="rentalbedrooms" class="btn btn-default" data-btn-class="btn mybtncls" style="border-radius: 0px 6px 6px 0px !important;">5+</a>
                                </div>
                            </div>
                            <div class="col-md-6" style="padding-left:25px;padding-right:25px;">
                                <label class="control-label spanssliderpadding" for="exampleInputEmail1" style="">Sqft</label>
                                <label class="control-label" id="rentalsqft" style="height: 15px!important; border: 0; color: #f6931f; font-weight: bold;" hidden="hidden"></label>
                                <br /> <span class="control-label" id="rental_formatted_from_sqft" style="height: 15px!important; border: 0; color: #f6931f; font-weight: bold;"></span>
                                <span class="control-label" id="rental_formatted_to_sqft" style="float:right;height: 15px!important; border: 0; color: #f6931f; font-weight: bold;"></span>
                                <div id="rentalslider-range2" name="range-rentalslider2" style="margin-top:8px;">
                                    @*<leftoutput for="range-rentalslider2" id="rstat2" style="z-index:10!important;bottom:15px;left:0%"></leftoutput>
                                        <rightoutput for="range-rentalslider2" id="rend2" style="z-index:10!important;bottom:15px;left:100%"></rightoutput>*@
                                </div>
                            </div>
                        </div>
                        <hr class="hr2" />
                        <div class="row">
                            <div class="col-md-6">
                                <form role="form">
                                    <div class="form-group">
                                        <label class="control-label" for="exampleInputEmail1">Schools</label>
                                        @Html.TextBox("rentalinputSchool", "", new { @class = "form-control ", @placeholder = "Search for Schools…", @type = "text", @autocomplete = false })
                                        <span class="glyphicon glyphicon-search glif" style="color: lightgrey !important; margin-left: 92%; top: -20px; width: 5px;"></span>
                                        <div id="RentalSchoolSearchPopup" class="col-sm-3 rj-dropdown-content" style="display:none;overflow:hidden;margin-bottom: 20px;min-height:280px;max-height:420px;width:324px;padding-left:0!important;padding-right:0!important">
                                            <div class="modal-header" style="text-align: left;height:45px;padding-top:13px;padding-left:10px!important;padding-right:10px!important">
                                                <div class="col-md-12" style="text-align: center;padding-left:0!important;padding-right:0!important">
                                                    <div class="col-md-3" style="padding-left:0!important;padding-right:0!important">
                                                        <button type="button" id="rental_cancel_ele_schools" class="SearchPopupButton">Cancel</button>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <label id="" style="font-weight:bold;padding-top:5px!important;font-size:15px;color:black">
                                                            Select Schools
                                                        </label>
                                                    </div>
                                                    <div class="col-md-3" style="padding-left:0!important;padding-right:0!important">
                                                        <button type="button" id="rental_apply_ele_schools" class="SearchPopupButton">Apply</button>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-sm-12">&nbsp;</div>
                                            <div class="modal-body">
                                                <div class="row">
                                                    <div class="col-sm-12" style="padding:0px;">
                                                        <button type="button" id="rentalelementarybtn" class="btn btn-default" style="width:100%;border-radius:5px !important; text-align:left;">
                                                            Elementary Schools
                                                            <span class="glyphicon glyphicon-triangle-bottom" id="rentaleleicon" style="float: right;top:2px;"></span>
                                                        </button>
                                                    </div>
                                                    <div class="col-sm-12" id="rentalelementaryschoolsdiv" style="margin-top:10px;border:1px inset rgba(0,0,0,0.3);min-height:125px!important">
                                                        <div id="rentalelementaryschoolscheck" class="rj-dropdown-content" style="padding-left:0!important;padding-right:0!important;max-height:125px!important;overflow-y:auto;display:block;position:relative;box-shadow:0px 0px 0px 0px!important;margin-top:6px!important">

                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row">&nbsp;</div>
                                                <div class="row">
                                                    <div class="col-sm-12" style="padding:0px;">
                                                        <button type="button" id="rentalmiddlebtn" class="btn btn-default" style="width:100%;border-radius:5px !important; text-align:left;">
                                                            Middle Schools
                                                            <span class="glyphicon glyphicon-triangle-bottom" id="rentalmiddleicon" style="float: right;top:2px;"></span>
                                                        </button>
                                                    </div>
                                                    <div class="col-sm-12" id="rentalmiddleschoolsdiv" style="margin-top:10px;border:1px inset rgba(0,0,0,0.3);min-height:125px!important">
                                                        <div id="rentalmiddleschoolscheck" class="rj-dropdown-content" style="padding-left:0!important;padding-right:0!important;max-height:125px!important;overflow-y:auto;display:block;position:relative;box-shadow:0px 0px 0px 0px!important;margin-top:6px!important">

                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row">&nbsp;</div>
                                                <div class="row">
                                                    <div class="col-sm-12" style="padding:0px;">
                                                        <button type="button" id="rentalhighbtn" class="btn btn-default" style="width:100%;border-radius:5px !important; text-align:left;">
                                                            High Schools
                                                            <span class="glyphicon glyphicon-triangle-bottom" id="rentalhighicon" style="float: right;top:2px;"></span>
                                                        </button>
                                                    </div>
                                                    <div class="col-sm-12" id="rentalhighschoolsdiv" style="margin-top:10px;border:1px inset rgba(0,0,0,0.3);min-height:125px!important">
                                                        <div id="rentalhighschoolsChecks" class="rj-dropdown-content" style="padding-left:0!important;padding-right:0!important;max-height:125px!important;overflow-y:auto;display:block;position:relative;box-shadow:0px 0px 0px 0px!important;margin-top:6px!important">

                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="modal-footer" style="text-align:center;padding:8px;">
                                                <div class="alert alert-dismissable alert-success" id="" style="padding:5px;">
                                                    <label id="" class="control-label" style="font-size:10px !important">
                                                        Schools listed are based on current Map view area and Filtered Listings
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </form>
                            </div>
                            <div class="col-md-6">
                                <label class="control-label" for="exampleInputEmail1">Parking type</label>
                                <br>
                                <div class="rentalparkingbtngroup btn-group btn-group-justified" style="height: 35px">
                                    <a href="#" id="rentalparkingany" data-index="Any" name="rentalparking" class="btn active btn-default " data-btn-class="btn mybtncls" style="border-radius: 6px 0px 0px 6px !important;">Any</a>
                                    <a href="#" id="rentalparking2" data-index="Carport" name="rentalparking" class="btn btn-default" data-btn-class="btn mybtncls">Carport</a>
                                    <a href="#" id="rentalparking3" data-index="Garage" name="rentalparking" class="btn btn-default" data-btn-class="btn mybtncls" style="border-radius: 0px 6px 6px 0px !important;">Garage</a>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <label class="control-label" for="exampleInputEmail1">Garage Capacity</label>
                                <br>
                                <div class="rentalgrgcapbtngroup btn-group btn-group-justified" style="height: 35px">
                                    <a href="#" id="rentalgrgcapany" data-index="Any" name="rentalgaragecapacity" class="btn active btn-default " data-btn-class="btn mybtncls" style="border-radius: 6px 0px 0px 6px !important;">Any</a>
                                    <a href="#" id="rentalgrgcap2" data-index="2" name="rentalgaragecapacity" class="btn btn-default" data-btn-class="btn mybtncls">2+</a>
                                    <a href="#" id="rentalgrgcap3" data-index="3" name="rentalgaragecapacity" class="btn btn-default" data-btn-class="btn mybtncls" style="border-radius: 0px 6px 6px 0px !important;">3+</a>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <label class="control-label" for="exampleInputEmail1">Age</label>
                                <br>
                                @Html.DropDownList("rentalagetype", new List<SelectListItem>
                                            {
                                                //new SelectListItem{ Text="Any", Value = "Any" },
                                                new SelectListItem{ Text="To Be Built", Value = "To Be Built" },
                                                new SelectListItem{ Text="Under Construction", Value = "Under Construction" },
                                                new SelectListItem{ Text="New / Never Lived In", Value = "New/Never Lived In" },
                                                new SelectListItem{ Text="1-5", Value = "1-5" },
                                                new SelectListItem{ Text="6-10", Value = "6-10" },
                                                new SelectListItem{ Text="11-20", Value = "11-20" },
                                                new SelectListItem{ Text="21-30", Value = "21-30" },
                                                new SelectListItem{ Text="31-50", Value = "31-50" },
                                                new SelectListItem{ Text="50+", Value = "50" },
                                             }, new { @class = "form-control", multiple = "multiple" })
                            </div>
                        </div>
                        <hr class="hr2" />
                    </div>
                </div>
            </div>
            <div class="modal-footer" style="text-align:left!important">
                <div class="row">
                    <div class="col-md-12">
                        <div class="alert alert-dismissable alert-success" id="">
                            <label id="rentalsummary" class="control-label"></label>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-3">
                        <button class="QuitChetOrangePopupButton" id="rentalclosebtn" data-dismiss="modal">Close</button>
                    </div>
                    <div class="col-md-3">&nbsp;</div>
                    <div class="col-md-3" style="text-align:right">
                        <button class="QuitChetGrayPopupButton" id="rentalresetbtn">Reset</button>
                    </div>
                    <div class="col-md-3" style="text-align:right">
                        <button class="QuitChetOrangePopupButton" id="rentalApplybtn">Save Changes</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
@*LotLandsModalFilters modal popup*@
<div class="modal fade" id="LotLandsModalFilters" tabindex="-1" role="dialog" aria-labelledby="MessageLabel" aria-hidden="true" style="padding-left: 206px">
    <div class="modal-dialog" role="document" style="padding-top: 2%; width: 50%;">
        <div class="modal-content">
            <div class="modal-header" style="border-bottom:solid 2px #ff5d26!important">
                <section class="filterheder">
                    <div class="col-md-6">
                        <label class="control-label" for="exampleInputEmail1">Name</label>
                        <input type="text" class="form-control" id="inputlotsearchname" placeholder="Eastside Search">
                    </div>
                    <div class="col-md-6">
                        <label class="control-label" for="exampleInputEmail1">Notification Frequency </label>
                        <br>
                        <div class="lotsnotebtngroup  btn-group btn-group-justified gaptop">
                            <a href="#" data-index="Never" id="lfirstnote" name="lnotification" class="btn btn-default" data-btn-class="btn mybtncls">Never</a>
                            <a href="#" data-index="Instantly" id="lsecondnote" name="lnotification" class="btn btn-default" data-btn-class="btn mybtncls" style="padding-left:6px">Instantly</a>
                            <a href="#" data-index="Daily" id="lthirdnote" name="lnotification" class="btn btn-default" data-btn-class="btn mybtncls">Daily</a>
                            <a href="#" data-index="Weeekly" id="lfourthnote" name="lnotification" class="btn btn-default " data-btn-class="btn mybtncls" style="padding-left:6px">Weeekly</a>
                            <a href="#" data-index="Monthly" id="lfifthnote" name="lnotification" class="btn btn-default" data-btn-class="btn mybtncls" style="padding-left:6px">Monthly</a>
                        </div>
                    </div>
                </section>
            </div>
            <div class="modal-body" style="min-height: 150px;" id="lots-content">
                <!--Nav Tab -->
                <ul id="lottabs" class="nav nav-tabs nav-tabs-v1" role="tablist" style="border-bottom:solid 3px #f56331!important;padding-left:15px;padding-right:15px">
                    <li role="presentation" class="active" style="width:50%;text-align:center">
                        <a href="#tabs-demo3-area1" id="basicfiltertab" role="tab" aria-controls="tabs-demo2-area1" data-toggle="tab" style="border-top-left-radius:10px;border-top-right-radius:10px;font-weight:bold;font-size:13px"><span class="steptabsround">1</span>Basic Filters</a>
                    </li>
                    <li role="presentation" style="width:50%;text-align:center">
                        <a href="#tabs-demo3-area3" id="utilityfiltertab" role="tab" aria-controls="tabs-demo2-area3" data-toggle="tab" style="border-top-left-radius:10px;border-top-right-radius:10px;font-weight:bold;font-size:13px"><span class="steptabsround">2</span>Utilities Filters</a>
                    </li>
                </ul>
                <!--Tab Panes-->
                <div id="tabsDemo3Content" class="tab-content tab-content-v1 col-md-12">
                    <div role="tabpanel" class="tab-pane fade active in tabcontent1" id="tabs-demo3-area1">
                        <div class="col-md-12 row" style="padding-left: 3px;padding-top:10px;font-size:12px">
                            <label style="font-weight:bold;padding-left:12px">Driving Distance</label>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <form class="form-horizontal" role="form">
                                    <div class="form-group">
                                        <div class="col-sm-4" style="padding-right:0px">
                                            @Html.TextBox("lotsinputMinutes", "", new
                                       {
                                           @style = "height: 35px",
                                           @class = "form-control ",
                                           @placeholder = " Minutes", @*@MaxLength = "2",*@ @autocomplete = false
                                       })
                                        </div>
                                        <div class="col-sm-1" style="padding-left:5px">
                                            <label for="inputEmail3" class="control-label">From</label>
                                        </div>
                                        <div class="col-sm-7">
                                            @Html.TextBox("lotsinputAddress", "", new { @class = "form-control ", @placeholder = " Address / Location…" })
                                        </div>
                                    </div>
                                </form>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group col-sm-12">
                                    <div class="col-sm-5" style="text-align: left; padding-right: 0; padding-left: 0; font-size: xx-small">
                                        <label for="inputEmail3" class="control-label" style="width: 100%;padding-top:6px!important">Property Type</label>
                                    </div>
                                    <div class="col-sm-7" style="padding-left: 0; padding-bottom: 3%;">
                                        @Html.DropDownList("lotspropertytype", new List<SelectListItem>
                                            {
                                                  //new SelectListItem{ Text="Any", Value = "Any" },
                                                new SelectListItem{ Text="Commercial Site", Value = "Commercial Site" },
                                                new SelectListItem{ Text="Residential Lot", Value = "Residential Lot" },
                                                new SelectListItem{ Text="Acreage", Value = "Acreage" },
                                                new SelectListItem{ Text="Other", Value = "Other" },
                                             }
                                             , new { @class = "form-control", multiple = "multiple", @style = "border-radius:4px!important" })
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6" style="padding-left:25px;padding-right:25px;">
                                <label class="control-label spanssliderpadding" for="exampleInputEmail1" style="">Price</label>
                                <label class="control-label" id="lotsprice" style="height: 15px!important; border: 0; color: #f6931f; font-weight: bold;" hidden="hidden"></label>
                                <br /> <span class="control-label" id="lots_formatted_from_price" style="height: 15px!important; border: 0; color: #f6931f; font-weight: bold;"></span>
                                <span class="control-label" id="lots_formatted_to_price" style="float:right;height: 15px!important; border: 0; color: #f6931f; font-weight: bold;"></span>
                                <div id="lotsslider-range" name="range-lotsslider" style="margin-top:8px">
                                    @*<leftoutput for="range-lotsslider" id="lstat" style="z-index:10!important;bottom:15px;left:0%"></leftoutput>
                                    <rightoutput for="range-lotsslider" id="lend" style="z-index:10!important;bottom:15px;left:100%"></rightoutput>*@
                                </div>
                            </div>
                            <div class="col-md-6" style="padding-left:25px;padding-right:25px;">
                                <label class="control-label spanssliderpadding" for="exampleInputEmail1" style="">Lot Acreage</label>
                                <label class="control-label" id="lotslotacreage" style="height: 15px!important; border: 0; color: #f6931f; font-weight: bold;" hidden="hidden"></label>
                                <br /> <span class="control-label" id="lots_formatted_from_lotsacrg" style="height: 15px!important; border: 0; color: #f6931f; font-weight: bold;"></span>
                                <span class="control-label" id="lots_formatted_to_lotsacrg" style="float:right;height: 15px!important; border: 0; color: #f6931f; font-weight: bold;"></span>
                                <div id="lotsslider-range2" name="range-lotsslider2" style="margin-top:8px">
                                    @*<leftoutput for="range-lotsslider2" id="lstat2" style="z-index:10!important;bottom:15px;left:0%"></leftoutput>
                                    <rightoutput for="range-lotsslider2" id="lend2" style="z-index:10!important;bottom:15px;left:100%"></rightoutput>*@
                                </div>

                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6" style="padding-top:15px">
                                <form role="form">
                                    <div class="form-group">
                                        <label class="control-label" for="exampleInputEmail1">Schools</label>
                                        @Html.TextBox("lotsinputSchool", "", new { @class = "form-control ", @placeholder = "Search for Schools…", @type = "text", @autocomplete = false })
                                        <div id="LotsSchoolSearchPopup" class="col-sm-3 rj-dropdown-content" style="display:none;overflow:hidden;margin-bottom: 20px;min-height:280px;max-height:420px;width:324px;padding-left:0!important;padding-right:0!important">
                                            <div class="modal-header" style="text-align: left;height:45px;padding-top:13px;padding-left:10px!important;padding-right:10px!important">
                                                <div class="col-md-12" style="text-align: center;padding-left:0!important;padding-right:0!important">
                                                    <div class="col-md-3" style="padding-left:0!important;padding-right:0!important">
                                                        <button type="button" id="lots_cancel_ele_schools" class="SearchPopupButton">Cancel</button>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <label id="" style="font-weight:bold;padding-top:5px!important;font-size:15px;color:black">
                                                            Select Schools
                                                        </label>
                                                    </div>
                                                    <div class="col-md-3" style="padding-left:0!important;padding-right:0!important">
                                                        <button type="button" id="lots_apply_ele_schools" class="SearchPopupButton">Apply</button>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-sm-12">&nbsp;</div>
                                            <div class="modal-body">
                                                <div class="row">
                                                    <div class="col-sm-12" style="padding:0px;">
                                                        <button type="button" id="lotselementarybtn" class="btn btn-default" style="width:100%;border-radius:5px !important; text-align:left;">
                                                            Elementary Schools
                                                            <span class="glyphicon glyphicon-triangle-bottom" id="lotseleicon" style="float: right;top:2px;"></span>
                                                        </button>
                                                    </div>
                                                    <div class="col-sm-12" id="lotselementaryschoolsdiv" style="margin-top:10px;border:1px inset rgba(0,0,0,0.3);min-height:125px!important">
                                                        <div id="lotselementaryschoolscheck" class="rj-dropdown-content" style="padding-left:0!important;padding-right:0!important;max-height:125px!important;overflow-y:auto;display:block;position:relative;box-shadow:0px 0px 0px 0px!important;margin-top:6px!important">

                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row">&nbsp;</div>
                                                <div class="row">
                                                    <div class="col-sm-12" style="padding:0px;">
                                                        <button type="button" id="lotsmiddlebtn" class="btn btn-default" style="width:100%;border-radius:5px !important; text-align:left;">
                                                            Middle Schools
                                                            <span class="glyphicon glyphicon-triangle-bottom" id="lotsmiddleicon" style="float: right;top:2px;"></span>
                                                        </button>
                                                    </div>
                                                    <div class="col-sm-12" id="lotsmiddleschoolsdiv" style="margin-top:10px;border:1px inset rgba(0,0,0,0.3);min-height:125px!important">
                                                        <div id="lotsmiddleschoolscheck" class="rj-dropdown-content" style="padding-left:0!important;padding-right:0!important;max-height:125px!important;overflow-y:auto;display:block;position:relative;box-shadow:0px 0px 0px 0px!important;margin-top:6px!important">

                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row">&nbsp;</div>
                                                <div class="row">
                                                    <div class="col-sm-12" style="padding:0px;">
                                                        <button type="button" id="lotshighbtn" class="btn btn-default" style="width:100%;border-radius:5px !important; text-align:left;">
                                                            High Schools
                                                            <span class="glyphicon glyphicon-triangle-bottom" id="lotshighicon" style="float: right;top:2px;"></span>
                                                        </button>
                                                    </div>
                                                    <div class="col-sm-12" id="lotshighschoolsdiv" style="margin-top:10px;border:1px inset rgba(0,0,0,0.3);min-height:125px!important">
                                                        <div id="lotshighschoolsChecks" class="rj-dropdown-content" style="padding-left:0!important;padding-right:0!important;max-height:125px!important;overflow-y:auto;display:block;position:relative;box-shadow:0px 0px 0px 0px!important;margin-top:6px!important">

                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="modal-footer" style="text-align:center;padding:8px;">
                                                <div class="alert alert-dismissable alert-success" id="" style="padding:5px;">
                                                    <label id="" class="control-label" style="font-size:10px !important">
                                                        Schools listed are based on current Map view area and Filtered Listings
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </form>
                            </div>
                            <div class="col-md-6" style="padding-top:15px">
                                <label class="control-label" for="exampleInputEmail1">SubDivision</label>
                                <br>
                                @Html.TextBox("lotsinputSubDivision", "", new { @class = "form-control ", @placeholder = "Search for Subdivisions…", @type = "text", @style = "height: 35px", @autocomplete = false })
                                <div class="rj-dropdown-content" style="margin-bottom: 20px;display:none;max-height:400px!important;padding-left:0!important;padding-right:0!important;width:324px;overflow:hidden" id="Lots_SubDivSearchPopup">
                                    <div class="modal-header" style="text-align: left;height:45px;padding-top:13px;padding-left:10px!important;padding-right:10px!important">
                                        <div class="col-md-12" style="text-align: center;padding-left:0!important;padding-right:0!important">
                                            <div class="col-md-3" style="padding-left:0!important;padding-right:0!important">
                                                <button type="button" id="Lots_cancel_subdiv_dropdown" class="SearchPopupButton">Cancel</button>
                                            </div>
                                            <div class="col-md-6">
                                                <label id="" style="font-weight:bold;padding-top:5px!important;font-size:13px">
                                                    Subdivisions
                                                </label>
                                            </div>
                                            <div class="col-md-3" style="padding-left:0!important;padding-right:0!important">
                                                <button type="button" id="Lots_apply_subdiv_dropdown" class="SearchPopupButton">Apply</button>
                                            </div>
                                        </div>
                                        <div class="col-sm-12">

                                            @*@Html.TextBox("inputSchool", "", new { @class = "form-control ", @placeholder = "Search for Schools…", @type = "search" })*@
                                        </div>
                                    </div>
                                    <div class="col-sm-12">&nbsp;</div>
                                    <div class="modal-body">

                                        <div class="col-sm-12" style="border:1px inset rgba(0,0,0,0.3);min-height:250px!important">
                                            <div class="rj-dropdown-content" style="padding-left:0!important;padding-right:0!important;min-height:230px!important;max-height:230px!important;overflow-y:auto;display:block;position:relative;box-shadow:0px 0px 0px 0px!important;margin-top:6px!important" id="Lots_subDivisionChecks">

                                            </div>
                                        </div>
                                    </div>
                                    <div class="modal-footer">
                                        <div class="col-sm-12">&nbsp;</div>
                                        <div class="col-md-12" style="text-align: center;padding-left:0px!important;padding-right:0!important">
                                            <div class="alert alert-dismissable alert-success" id="" style="padding:5px;">
                                                <label id="" class="control-label" style="font-size:12px !important">
                                                    Subdivisions listed are based on current Map view area
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6" style="padding-left:30px">
                                <form class="form-horizontal" role="form">
                                    <div class="form-group">
                                        <label for="inputEmail3" class="control-label">Lot Features</label><br />
                                        @Html.DropDownList("lotslotfeatures", new List<SelectListItem>
                                            {
                                                  //new SelectListItem{ Text="Any", Value = "Any" },
                                                new SelectListItem{ Text="Creek", Value = "Creek" },
                                                new SelectListItem{ Text="Hardwood", Value = "Hardwood" },
                                                new SelectListItem{ Text="Heavily Wooded", Value = "Heavily Wooded" },
                                                 new SelectListItem{ Text="Lake", Value = "Lake" },
                                                new SelectListItem{ Text="Lake View", Value = "Lake View" },
                                                new SelectListItem{ Text="Mountain View", Value = "Mountain View" },
                                                new SelectListItem{ Text="Pasture", Value = "Pasture" },
                                                new SelectListItem{ Text="Pines", Value = "Pines" },
                                                new SelectListItem{ Text="Pond", Value = "Pond" },
                                                new SelectListItem{ Text="Spring", Value = "Spring" },
                                                new SelectListItem{ Text="Timber", Value = "Timber" },
                                             }
                                             , new { @class = "form-control", multiple = "multiple" })
                                    </div>
                                </form>
                            </div>
                            <div class="col-md-6">
                            </div>
                        </div>
                        <hr class="hr2" />
                    </div>
                    <div role="tabpanel" class="tab-pane fade tabcontent1" id="tabs-demo3-area3">
                        <div class="row">
                            <div class="col-sm-6 removedpaddings">
                                <label for="inputEmail3" class="control-label">Water Type</label>
                                <br>
                                <div class="lotswatertypebtngroup btn-group btn-group-justified">
                                    <a href="#" id="lotswtypeany" name="lotswatertype" data-index="Any" class="btn active btn-default" data-btn-class="btn mybtncls" style="border-radius: 6px 0px 0px 6px !important;">Any</a>
                                    <a href="#" id="lotswtype2" name="lotswatertype" data-index="Public" class="btn btn-default" data-btn-class="btn mybtncls">Public</a>
                                    <a href="#" id="lotswtype3" name="lotswatertype" data-index="Well" class="btn btn-default" data-btn-class="btn mybtncls" style="border-radius: 0px 6px 6px 0px !important;">Well</a>
                                </div>
                            </div>
                            <div class="col-sm-6">
                                <label for="inputEmail3" class="control-label">Sewer Type</label>
                                <br>
                                <div class="lotsswerbtngroup btn-group btn-group-justified">
                                    <a href="#" id="lotsswerany" name="lotssewertype" data-index="Any" class="btn active btn-default" data-btn-class="btn mybtncls" style="border-radius: 6px 0px 0px 6px !important;">Any</a>
                                    <a href="#" id="lotsswer2" name="lotssewertype" data-index="Public" class="btn btn-default" data-btn-class="btn mybtncls">Public</a>
                                    <a href="#" id="lotsswer3" name="lotssewertype" data-index="Septic" class="btn btn-default" data-btn-class="btn mybtncls" style="border-radius: 0px 6px 6px 0px !important;">Septic</a>
                                </div>
                            </div>
                        </div>
                        <hr class="hr2" />
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <div class="row">
                    <div class="col-md-12">
                        <div class="alert alert-dismissable alert-success" id="lotssummarydiv1" style="text-align: left">
                            <label id="lotssummary" class="control-label"></label>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-3">
                        <button class="QuitChetOrangePopupButton" id="lotsclosebtn3" data-dismiss="modal">Close</button>
                    </div>
                    <div class="col-md-3">&nbsp;</div>
                    <div class="col-md-3" style="text-align:right">
                        <button class="QuitChetGrayPopupButton" id="lotsresetbtn">Reset</button>
                    </div>
                    <div class="col-md-3" style="text-align:right">
                        <button class="QuitChetOrangePopupButton" id="lotsFiltersApplyBtn">Save Changes</button>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>
@*//Remove Favourite Pop up*@
<div class="modal fade" id="RemoveFavorite" tabindex="-1" role="dialog" aria-labelledby="MessageLabel" aria-hidden="true" style="padding-left:206px">
    <div class="modal-dialog" role="document" style="padding-top:18%;width:25%;">
        <div class="modal-content">
            <div class="modal-body" style="text-align:center;height:234px!important">
                <img src="~/img/hearticolist.png" style="height:30px!important;width: 29px !important;margin-top:10px!important;">
                <h4 style="text-align:center;color:#f56331; line-height: 30px; margin-top:10px">Remove From Favorites</h4>
                <p>Are you sure you want to remove <br />this listing from your Favorites?</p>
                <div class="col-sm-12">&nbsp;</div>
                <button type="button" id="btnNotRemoveFavorite" class="btn btn-sm" data-dismiss="modal" style="background-color:rgba(0,0,0,0.3); color:white; width:120px;height:32px!important; border-radius:5px !important">No</button>
                <button type="button" id="btnYesRemoveFavorite" class="btn btn-sm" data-dismiss="modal" style="background-color:#ff5d26; color:white; width:120px;height:32px!important; border-radius:5px !important">Yes</button>
                <div class="col-sm-12" style="padding-bottom:10px!important">&nbsp;</div>
            </div>
        </div>
    </div>
</div>
@*//Share Property Popup*@
<div class="modal" id="ShareProp_Popup" style="padding-left:206px;">
    <div class="modal-dialog" role="document" style="padding-top: 8%; width: 25%">
        <div class="modal-content">
            <div class="modal-header" style="text-align:center;background-color:#5d5a5a;color:#fff;height:45px;padding-top:7px;border-top-right-radius:5px; border-top-left-radius:5px;">
                <span>
                    <img src="/img/share2.png" width="24" height="30" alt="" style="margin-top:-2%" />
                </span> Share
            </div>
            <div class="modal-body" style="min-height: 200px;">
                <div class="col-md-12" style="text-align: center;display:none">
                    <a href="#" id="Prop_message_from_popup">
                        <img src="/img/newmessagge.png" width="83" height="65" alt="" />
                    </a>
                </div>
                <div class="col-sm-12">&nbsp;</div>
                <div class="col-md-2">&nbsp;</div>
                <div class="col-md-2" style="text-align: center;padding-left:0px">

                    @*<a href="#" class="fb-share">Share on Facebook</a>*@
                    <div id="fb-root"></div>
                    <a href="javascript:fb_prop_Share('', 'Fb Share', 'Facebook share popup', 'http://googl.com', 520, 350)">
                        <img class="shareiconpads" src="/img/facebook.png" />
                    </a>
                </div>

                <div class="col-md-2 twocolumrem" style="padding-left:5px">
                    <a href="javascript:fbShare_prop_twitter('', 'Twitter Share', 'Twitter share popup', 'http://googl.com', 520, 350)">
                        <img class="shareiconpads" src="/img/twitter.png" width="36" height="36" alt="" />
                    </a>
                </div>
                <div class="col-md-2 twocolumrem" style="padding-left:10px">
                    <a href="javascript:fbShare_prop_google('', 'Google Share', 'Google share popup', 'http://googl.com', 520, 350)">
                        <img class="shareiconpads" src="/img/gplus.png" width="36" height="36" alt="" />
                    </a>
                </div>
                @*<div class="col-md-2 twocolumrem">
                        <a href="http://www.linkedin.com" target="_blank">
                            <img class="shareiconpads" src="/img/linkedin.png" width="36" height="36" alt="" />
                        </a>
                    </div>*@
                <div class="col-md-2 twocolumrem">
                    <a href="javascript:fbShare_prop_linkedin('', 'linkedin Share', 'linkedin share popup', 'http://googl.com', 520, 350)">
                        <img class="shareiconpads" src="/img/linkedin.png" width="36" height="36" alt="" />
                    </a>
                </div>
                <div class="col-md-2">&nbsp;</div>
                <div class="col-sm-12" style="text-align: center;color:#808080;padding-top: 15px;padding-bottom: 15px;font-size:12px">OR</div>
                <div class="col-md-12" style="text-align: center">
                    <a href="#" id="prop_copylink" class="mycopy" data-clipboard-action="copy" data-clipboard-target="#proplink">
                        <img src="/img/copybtn.png" width="245" height="31" alt="" />
                    </a>
                </div>
                <div class="row btnsrowmargin">
                    <div class="col-md-12" style="text-align:center">
                        <label id="proplink" style="font-size:12px !important;word-wrap: break-word;"></label>
                    </div>
                </div>
                <div class="col-sm-12">&nbsp;</div>
                <div class="modal-footer">
                    <div class="col-md-12" style="text-align: center">
                        <a href="#" class="btn" id="cancel_prop_sharebtn" data-dismiss="modal" style="width: 120px; border-radius: 5px !important; background-color: gray; color: white; font-weight: 500; font-size: 17px;">Cancel</a>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
@*<script src="https://maps.googleapis.com/maps/api/js?sensor=false&libraries=places&key=AIzaSyD0X4v7eqMFcWCR-VZAJwEMfb47id9IZao"></script>*@
<link href="http://cdn.rawgit.com/davidstutz/bootstrap-multiselect/master/dist/css/bootstrap-multiselect.css" rel="stylesheet" type="text/css" />
<script src="http://cdn.rawgit.com/davidstutz/bootstrap-multiselect/master/dist/js/bootstrap-multiselect.js" type="text/javascript"></script>
@*Slider BArs & Multi Check Box And bUTTON gROUP fUNCTIONALITY Script for 3 types of filters popups*@

<script src="~/js/Slider-Common_Functions.js"></script>
<script>
    //default map load with greenville center point
    function load(){
        map = new google.maps.Map(document.getElementById('googlemaps'), {
            zoom: 12, // initialize zoom level - the max value is 21
            minZoom: 6,
            // maxZoom: 16,
            fullscreenControl: false,
            zoomControl: false,
            mapTypeControl: false,
            mapTypeId: google.maps.MapTypeId.ROADMAP,
            // center: {lat:34.8526,lng:-82.3940},
            center:{lat:34.8526,lng:-82.3940}
        });
    }
    var polygonpath="",boundarypath="",zoomlevel="";
    //toggle between hiding and showing the dropdown content */
    function myFunction() {
        document.getElementById("myDropdown").classList.toggle("show");
    }
    //-----------------------------Starting and Ending points dynamic--------
    var SRSPoint,SR2SPoint,SR3SPoint,RSRSPoint,RSR2SPoint,LSRSPoint,LSR2SPoint;
    var SREPoint,SR2EPoint,SR3EPoint,RSREPoint,RSR2EPoint,LSREPoint,LSR2EPoint;
    // Close the dropdown menu if the user clicks outside of it
    $(document).on('click', function(event) {
        if (!$(event.target).hasClass('dropbtn')) {
            $('#myDropdown').removeClass('show').addClass('hidedropdown');
        }
    })
    var searchname = "";var homefilterobj;var pk_savedfilterID;var rentalfilterobj;var lotsfilterobj;
    var citynameslists="",countprop="0";
    //Start :Variables Declaration for summary which stores text data of cotrols of Home Filters
    var summary = ""; var filtertype, classtype,sname,notefreq;
    var minutestext, addresstext, propertytext, pricetext, bathroomstext , bedroomstext, sqfttext, schooltext , garagetext;
    var masterbedroomtext , lotacreagetext , storiestext , subdivtext , garagecaptext , agetext;
    var lotfeaturestext , appliancestext, foundationtypetext , masterfeaturetext , extfeaturestext ;
    var laundrytext , intfeaturestext, fireplacetext , flooringtext, communitytext;
    var heatsystemtext , watertext, heatertypetext , sewertext;
    //Start :--- Rental Filters VAriables Declaration for object and summary--//
    var rentalsummary = "", rminutestext , raddresstext , rpropertytext , rpricetext;
    var rbathroomstext , rbedroomstext , rsqfttext , rschooltext , rparkingtext;
    var rgaragecaptext, ragetext, parkingtext,rnotefreq ;

    //End : Rental Filters Variables Declarationd-----..//

    //Start : ---- Lot/Lands VAriables Declaration for Object and summary--//
    var lotssummary = "", lminutetext , laddresstext, lpropertytext , lpricetext, llotacreagetext;
    var lschooltext , lsubdivtext , llotfeaturestext, lwatertext, lsewerText,lnotefreq ;
     // End --- ---- Lot//Lands Filters VAriable Declaration

    //Start :------Setting Dropdowns to MultiSelect Dropdowns and Setting Properties------//
    //Home Filter Multi Drop Downs
    $('#propertytype').multiselect({
        nonSelectedText: 'Any Property Type',
        numberDisplayed: 1,
        includeSelectAllOption: true,
        allSelectedText: 'Any',
        selectAllText:'Any',
    });
    $('#agetype').multiselect({
        nonSelectedText: 'Any Age Type',
        numberDisplayed: 1,
        includeSelectAllOption: true,
        allSelectedText: 'Any',
        selectAllText:'Any',
    });
    $('#lotfeatures').multiselect({
        nonSelectedText: 'Any Lot Type',
        numberDisplayed: 1,
        includeSelectAllOption: true,
        allSelectedText: 'Any',
        selectAllText:'Any',
    });
    $('#appliances').multiselect({
        nonSelectedText: 'Any Appliances',
        numberDisplayed: 1,
        includeSelectAllOption: true,
        allSelectedText: 'Any',
        selectAllText:'Any',
    });
    $("#exteriorfeatures").multiselect({
        nonSelectedText: 'Any Exterior',
        numberDisplayed: 1,
        includeSelectAllOption: true,
        allSelectedText: 'Any',
        selectAllText:'Any',
    });
    $("#interiorfeatures").multiselect({
        nonSelectedText: 'Any Interior',
        numberDisplayed: 1,
        includeSelectAllOption: true,
        allSelectedText: 'Any',
        selectAllText:'Any',
    });
    // REntal Filter Multi Drop Downs
    $('#rentalpropertytype').multiselect({
        nonSelectedText: 'Any Property Type',
        numberDisplayed: 1,
        includeSelectAllOption: true,
        allSelectedText: 'Any',
        selectAllText:'Any',
    });
    $('#rentalagetype').multiselect({
        nonSelectedText: 'Any Age Type',
        numberDisplayed: 1,
        includeSelectAllOption: true,
        allSelectedText: 'Any',
        selectAllText:'Any',
    });
    //Lot/Lands Multi Check drop downs
    $('#lotspropertytype').multiselect({
        nonSelectedText: 'Any Property Type',
        numberDisplayed: 1,
        includeSelectAllOption: true,
        allSelectedText: 'Any',
        selectAllText:'Any',
    });
    $('#lotslotfeatures').multiselect({
        nonSelectedText: 'Any Lot Feature',
        numberDisplayed: 1,
        includeSelectAllOption: true,
        allSelectedText: 'Any',
        selectAllText:'Any',
    });
    //End :------Setting Dropdowns to MultiSelect Dropdowns and Setting Properties------//

    //Start:-------Style changing for button groups in filter--------//
    $(".notebtngroup>a").on("click", function () {
        var defaultClass = "btn btn-default";
        var toBeAssignedClass = $(this).attr("data-btn-class");
        $(".notebtngroup>a").attr("class", defaultClass);
        $(this).attr("class", toBeAssignedClass);
    });
    //Home Filter Button Groups
    $(".bathbtngroup>a").on("click", function () {
        var defaultClass = "btn btn-default";
        var toBeAssignedClass = $(this).attr("data-btn-class");
        $(".bathbtngroup>a").attr("class", defaultClass);
        $(this).attr("class", toBeAssignedClass);
    });
    $(".bedroombtngroup>a").on("click", function () {
        var defaultClass = "btn btn-default";
        var toBeAssignedClass = $(this).attr("data-btn-class");
        $(".bedroombtngroup>a").attr("class", defaultClass);
        $(this).attr("class", toBeAssignedClass);
    });
    $(".grgcapbtngroup>a").on("click", function () {
        var defaultClass = "btn btn-default";
        var toBeAssignedClass = $(this).attr("data-btn-class");
        $(".grgcapbtngroup>a").attr("class", defaultClass);
        $(this).attr("class", toBeAssignedClass);
    });
    $(".grgtypebtngroup>a").on("click", function () {
        var defaultClass = "btn btn-default";
        var toBeAssignedClass = $(this).attr("data-btn-class");
        $(".grgtypebtngroup>a").attr("class", defaultClass);
        $(this).attr("class", toBeAssignedClass);
    });
    $(".masterbedroombtngroup>a").on("click", function () {
        var defaultClass = "btn btn-default";
        var toBeAssignedClass = $(this).attr("data-btn-class");
        $(".masterbedroombtngroup>a").attr("class", defaultClass);
        $(this).attr("class", toBeAssignedClass);
    });
    $(".ftypebtngroup>a").on("click", function () {
        var defaultClass = "btn btn-default";
        var toBeAssignedClass = $(this).attr("data-btn-class");
        $(".ftypebtngroup>a").attr("class", defaultClass);
        $(this).attr("class", toBeAssignedClass);
    });
    $(".lroombtngroup>a").on("click", function () {
        var defaultClass = "btn btn-default";
        var toBeAssignedClass = $(this).attr("data-btn-class");
        $(".lroombtngroup>a").attr("class", defaultClass);
        $(this).attr("class", toBeAssignedClass);
    });
    $(".fplacebtngroup>a").on("click", function () {
        var defaultClass = "btn btn-default";
        var toBeAssignedClass = $(this).attr("data-btn-class");
        $(".fplacebtngroup>a").attr("class", defaultClass);
        $(this).attr("class", toBeAssignedClass);
    });
    $(".floorbtngroup>a").on("click", function () {
        var defaultClass = "btn btn-default";
        var toBeAssignedClass = $(this).attr("data-btn-class");
        $(".floorbtngroup>a").attr("class", defaultClass);
        $(this).attr("class", toBeAssignedClass);
    });
    $(".heatsystembtngroup>a").on("click", function () {
        var defaultClass = "btn btn-default";
        var toBeAssignedClass = $(this).attr("data-btn-class");
        $(".heatsystembtngroup>a").attr("class", defaultClass);
        $(this).attr("class", toBeAssignedClass);
    });
    $(".watertypebtngroup>a").on("click", function () {
        var defaultClass = "btn btn-default";
        var toBeAssignedClass = $(this).attr("data-btn-class");
        $(".watertypebtngroup>a").attr("class", defaultClass);
        $(this).attr("class", toBeAssignedClass);
    });
    $(".waterheaterbtngroup>a").on("click", function () {
        var defaultClass = "btn btn-default";
        var toBeAssignedClass = $(this).attr("data-btn-class");
        $(".waterheaterbtngroup>a").attr("class", defaultClass);
        $(this).attr("class", toBeAssignedClass);
    });
    $(".swerbtngroup>a").on("click", function () {
        var defaultClass = "btn btn-default";
        var toBeAssignedClass = $(this).attr("data-btn-class");
        $(".swerbtngroup>a").attr("class", defaultClass);
        $(this).attr("class", toBeAssignedClass);
    });
    //REntal Filter Button Groups
    $(".rentalnotebtngroup>a").on("click", function () {
        var defaultClass = "btn btn-default";
        var toBeAssignedClass = $(this).attr("data-btn-class");
        $(".rentalnotebtngroup>a").attr("class", defaultClass);
        $(this).attr("class", toBeAssignedClass);
    });
    $(".rentalbathbtngroup>a").on("click", function () {
        var defaultClass = "btn btn-default";
        var toBeAssignedClass = $(this).attr("data-btn-class");
        $(".rentalbathbtngroup>a").attr("class", defaultClass);
        $(this).attr("class", toBeAssignedClass);
    });
    $(".rentalbedroombtngroup>a").on("click", function () {
        var defaultClass = "btn btn-default";
        var toBeAssignedClass = $(this).attr("data-btn-class");
        $(".rentalbedroombtngroup>a").attr("class", defaultClass);
        $(this).attr("class", toBeAssignedClass);
    });
    $(".rentalparkingbtngroup>a").on("click", function () {
        var defaultClass = "btn btn-default";
        var toBeAssignedClass = $(this).attr("data-btn-class");
        $(".rentalparkingbtngroup>a").attr("class", defaultClass);
        $(this).attr("class", toBeAssignedClass);
    });
    $(".rentalgrgcapbtngroup>a").on("click", function () {
        var defaultClass = "btn btn-default";
        var toBeAssignedClass = $(this).attr("data-btn-class");
        $(".rentalgrgcapbtngroup>a").attr("class", defaultClass);
        $(this).attr("class", toBeAssignedClass);
    });
    //Lot/Lands Button Groups
    $(".lotsnotebtngroup>a").on("click", function () {
        var defaultClass = "btn btn-default";
        var toBeAssignedClass = $(this).attr("data-btn-class");
        $(".lotsnotebtngroup>a").attr("class", defaultClass);
        $(this).attr("class", toBeAssignedClass);
    });

    $(".lotswatertypebtngroup>a").on("click", function () {
        var defaultClass = "btn btn-default";
        var toBeAssignedClass = $(this).attr("data-btn-class");
        $(".lotswatertypebtngroup>a").attr("class", defaultClass);
        $(this).attr("class", toBeAssignedClass);
    });
    $(".lotsswerbtngroup>a").on("click", function () {
        var defaultClass = "btn btn-default";
        var toBeAssignedClass = $(this).attr("data-btn-class");
        $(".lotsswerbtngroup>a").attr("class", defaultClass);
        $(this).attr("class", toBeAssignedClass);
    });
    //End :--------Style changing for button groups in filter----------//
    //Start :------Change & Click  Events of Controls to get Values and Text of text field------//
    //Home Filters
    $('#inputMinutes').on("change", function () {
        minutestext =  $(this).val();
        HomeSummeryNew();
    });
    $('#inputAddress').on("change", function () {
        addresstext =  $(this).val();
        HomeSummeryNew();
    });
    $('#inputSchool').on("change", function () {
        schooltext = $(this).val();
        HomeSummeryNew();
    });
    $('#inputSubDivision').on("change", function () {
        subdivtext = $(this).val();
        HomeSummeryNew();
    });
    //Rental Filters
    $('#rentalinputMinutes').on("change", function () {
        rminutestext =  $(this).val();
        RentalSummerNew();
        //$("#rentalsummary").text("Minutes : "+rminutestext + ",Address : " + raddresstext + ",Property Type :" + rpropertytext + ",Price Range :" + rpricetext + ",Bathromms :" + rbathroomstext + ",Bedrooms :" + rbedroomstext + ",SQFT :" + rsqfttext + ",School :" + rschooltext + ",Parking Type :" + parkingtext + ",Garage Capacity :" + rgaragecaptext + ",Age Type :" + ragetext);
        //$("#rentalsummary").text(rminutestext + "," + raddresstext + "," + rpropertytext + "," + rpricetext + "," + rbathroomstext + "," + rbedroomstext + "," + rsqfttext + "," + rschooltext + "," + parkingtext + "," + rgaragecaptext + "," + ragetext);
    });
    $('#rentalinputAddress').on("change", function () {
        raddresstext = $(this).val();
        RentalSummerNew();
    });
    $('#rentalinputSchool').on("change", function () {
        rschooltext = $(this).val();
        RentalSummerNew();
    });
    //Lot/Lands Filters
    $('#lotsinputMinutes').on("change", function () {
        lminutetext = $(this).val();
        LotSummerNew();
    });
    $('#lotsinputAddress').on("change", function () {
        laddresstext = $(this).val();
        LotSummerNew();
    });
    $('#lotsinputSubDivision').on("change", function () {
        lsubdivtext =  $(this).val();
        LotSummerNew();
    });
    $('#lotsinputSchool').on("change", function () {
        lschooltext =  $(this).val();
        LotSummerNew();
    });
    //Start :-------Multi Checkbox Dropdown Change Events
    //Home Filters
    $("#propertytype").change(function () {
        propertytext = "";
        if($("#propertytype").val()!=null)
        {
            if($("#propertytype").val().length=="5")
            {
                propertytext="Any";
            }
            else
            {
                $('#propertytype :selected').each(function (i, sel) {
                    propertytext = $(sel).text() + "," + propertytext;
                });
                propertytext =  propertytext.substring(0, propertytext.length - 1);
            }
        }
        else
        {
            propertytext='Any';
        }
        HomeSummeryNew();
    })
    $("#agetype").change(function () {
        agetext = "";
        if($("#agetype").val()!=null)
        {
            if($("#agetype").val().length=="9")
            {
                agetext="Any";
            }
            else
            {
                $('#agetype :selected').each(function (i, sel) {
                    agetext = $(sel).text() + "," + agetext;
                });
                agetext = agetext.substring(0, agetext.length - 1);
            }
        }
        else
        {
            agetext="Any";
        }
        HomeSummeryNew();
    })
    $("#lotfeatures").change(function () {
        lotfeaturestext = "";
        if($("#lotfeatures").val()!=null)
        {
            if($("#lotfeatures").val().length=="8")
            {
                lotfeaturestext="Any";
            }
            else
            {
                $('#lotfeatures :selected').each(function (i, sel) {
                    lotfeaturestext = $(sel).text() + "," + lotfeaturestext;
                });
                lotfeaturestext = lotfeaturestext.substring(0, lotfeaturestext.length - 1);
            }
        }
        else
        {
            lotfeaturestext="Any";
        }
        HomeSummeryNew();
    })
    $("#appliances").change(function () {
        appliancestext = "";
        if($("#appliances").val()!=null)
        {
            if($("#appliances").val().length=="9")
            {
                appliancestext="Any";
            }
            else
            {
                $('#appliances :selected').each(function (i, sel) {
                    appliancestext = $(sel).text() + "," + appliancestext;
                });
                appliancestext = appliancestext.substring(0, appliancestext.length - 1);
            }
        }
        else
        {
            appliancestext="Any";
        }
        HomeSummeryNew();
    })
    $("#exteriorfeatures").change(function () {
        extfeaturestext = "";
        if($("#exteriorfeatures").val()!=null)
        {
            if($("#exteriorfeatures").val().length=="10")
            {
                extfeaturestext="Any";
            }
            else
            {
                $('#exteriorfeatures :selected').each(function (i, sel) {
                    extfeaturestext = $(sel).text() + "," + extfeaturestext;
                });
                extfeaturestext = extfeaturestext.substring(0, extfeaturestext.length - 1);
            }
        }
        else
        {
            extfeaturestext="Any";
        }
        HomeSummeryNew();
    })
    $("#interiorfeatures").change(function () {
        intfeaturestext = "";
        if($("#interiorfeatures").val()!=null)
        {
            if($("#interiorfeatures").val().length=="12")
            {
                intfeaturestext="Any";
            }
            else
            {
                $('#interiorfeatures :selected').each(function (i, sel) {
                    intfeaturestext = $(sel).text() + "," + intfeaturestext;
                });
                intfeaturestext = "Interior :" + intfeaturestext.substring(0, intfeaturestext.length - 1);
            }
        }
        else
        {
            intfeaturestext="Any";
        }
        HomeSummeryNew();
    })
    //REntal Filters :
    $("#rentalpropertytype").change(function () {
        // rproperty = "";
        rpropertytext = "";
        if($("#rentalpropertytype").val()!=null)
        {
            if($("#rentalpropertytype").val().length=="5")
            {
                rpropertytext="Any";
            }
            else
            {
                $('#rentalpropertytype :selected').each(function (i, sel) {
                    rpropertytext = $(sel).text() + "," + rpropertytext;
                    //rproperty = $(sel).val() + "," + rproperty;
                });
                // rproperty = rproperty.substring(0, rproperty.length - 1);
                rpropertytext = rpropertytext.substring(0, rpropertytext.length - 1);
            }
        }
        else
        {
            rpropertytext="Any";
        }
        RentalSummerNew();
    })
    $("#rentalagetype").change(function () {
        ragetext = "";
        //rage = "";
        if($("#rentalagetype").val()!=null)
        {
            if($("#rentalagetype").val().length=="9")
            {
                ragetext="Any";
            }
            else
            {
                $('#rentalagetype :selected').each(function (i, sel) {
                    ragetext = $(sel).text() + "," + ragetext;
                    //rage = $(sel).val() + "," + rage;
                });
                ragetext =ragetext.substring(0, ragetext.length - 1);
                // rage = rage.substring(0, rage.length - 1);
            }
        }
        else
        {
            ragetext="Any";
        }
        RentalSummerNew();
    })
    //Lots/Land Filters
    $("#lotspropertytype").change(function () {
        //lproperty = "";
        lpropertytext = "";
        if($("#lotspropertytype").val()!=null)
        {
            if($("#lotspropertytype").val().length=="4")
            {
                lpropertytext="Any";
            }
            else
            {
                $('#lotspropertytype :selected').each(function (i, sel) {
                    lpropertytext = $(sel).text() + "," + lpropertytext;
                    // lproperty = $(sel).val() + "," + lproperty;
                });
                // lproperty = lproperty.substring(0, lproperty.length - 1);
                lpropertytext = lpropertytext.substring(0, lpropertytext.length - 1);
            }
        }
        else
        {
            lpropertytext="Any";
        }
        LotSummerNew();
    })
    $("#lotslotfeatures").change(function () {

        llotfeaturestext = "";
        //llotfeatures = "";
        if($("#lotslotfeatures").val()!=null)
        {
            if($("#lotslotfeatures").val().length=="8")
            {
                llotfeaturestext="Any";
            }
            else
            {
                $('#lotslotfeatures :selected').each(function (i, sel) {
                    llotfeaturestext = $(sel).text() + "," + llotfeaturestext;
                    //  llotfeatures = $(sel).val() + "," + llotfeatures;
                });

                llotfeaturestext = llotfeaturestext.substring(0, llotfeaturestext.length - 1);
            }
        }
        else
        {
            llotfeaturestext="Any";
        }
        LotSummerNew();
    })

    //--------End : Multy check dropdown events----------//
    //Start :-----------------to get values and text of button groups------------//
    //HOme Filters
    //get Notification Frequency Value
    $("a[name=notification]").on("click", function () {
        notefreq =  $(this).data("index");
    })
    $("a[name=bathrooms]").on("click", function () {
        bathroomstext =  $(this).data("index");
        HomeSummeryNew();
    });
    $("a[name=bedrooms]").on("click", function () {
        bedroomstext = $(this).data("index");
        HomeSummeryNew();
    });
    $("a[name=garagetype]").on("click", function () {
        garagetext = $(this).data("index");
        HomeSummeryNew();
    });
    $("a[name=masterbedrooms]").on("click", function () {
        masterbedroomtext =$(this).data("index");
        HomeSummeryNew();
    });
    $("a[name=garagecapacity]").on("click", function () {
        garagecaptext = $(this).data("index");
        HomeSummeryNew();
    });
    $("a[name=foundationtype]").on("click", function () {
        foundationtypetext = $(this).data("index");
        HomeSummeryNew();
    });
    $("a[name=laundryroom]").on("click", function () {
        laundrytext = $(this).data("index");
        HomeSummeryNew();
        //$("#summary1").text("Minutes : "+minutestext + ",Address : " + addresstext + ",Property Type :" + propertytext + ",Price Range :" + pricetext + ",Bathromms :" + bathroomstext + ",Bedrooms :" + bedroomstext + ",SQFT :" + sqfttext + ",School :" + schooltext + ",Garage :" + garagetext + ",Master BedRoom :" + masterbedroomtext + ",Lot Acreage :" + lotacreagetext + ",Stories :" + storiestext + ",Sub Division :" + subdivtext + ",Garage Capacity :" + garagecaptext + ",Age Type :" + agetext + ",Lot Features : " + lotfeaturestext + ",Appliances : " + appliancestext + ",Foundation : " + foundationtypetext + ",Master Feature : " + masterfeaturetext + ",Exterior : " + extfeaturestext + ",Laundry : " + laundrytext + ",Interior : " + intfeaturestext + ",Fire Place : " + fireplacetext + ",Flooring : " + flooringtext + ",Community Amenties :" + communitytext + ",Heat System : " + heatsystemtext + ",Water Type :" + watertext + ",Heater Type : " + heatertypetext + ",Sewer Type : " + sewertext);
        //$("#summary1").text(minutestext + "," + addresstext + "," + propertytext + "," + pricetext + "," + bathroomstext + "," + bedroomstext + "," + sqfttext + "," + schooltext + "," + garagetext + "," + masterbedroomtext + "," + lotacreagetext + "," + storiestext + "," + subdivtext + "," + garagecaptext + "," + agetext + "," + lotfeaturestext + "," + appliancestext + "," + foundationtypetext + "," + masterfeaturetext + "," + extfeaturestext + "," + laundrytext + "," + intfeaturestext + "," + fireplacetext + "," + flooringtext + "," + communitytext + "," + heatsystemtext + "," + watertext + "," + heatertypetext + "," + sewertext);
    });
    $("a[name=fireplace").on("click", function () {
        fireplacetext = $(this).data("index");
        HomeSummeryNew();
    });
    $("a[name=floortype").on("click", function () {
        flooringtext = $(this).data("index");
        HomeSummeryNew();
    });
    $("a[name=heatsystem").on("click", function () {
        heatsystemtext = $(this).data("index");
        HomeSummeryNew();
    });
    $("a[name=watertype").on("click", function () {
        watertext = $(this).data("index");
        HomeSummeryNew();
    });
    $("a[name=waterheatertype").on("click", function () {
        heatertypetext = $(this).data("index");
        HomeSummeryNew();
    });
    $("a[name=sewertype").on("click", function () {
        sewertext =$(this).data("index");
        HomeSummeryNew();
    });

    //REntal Filters
    $("a[name=rnotification]").on("click", function () {
        rnotefreq =  $(this).data("index");
    })
    $("a[name=rentalbathrooms]").on("click", function () {
        rbathroomstext = $(this).data("index");
        RentalSummerNew();
    });
    $("a[name=rentalbedrooms]").on("click", function () {
        rbedroomstext =  $(this).data("index");
        RentalSummerNew();
    });
    $("a[name=rentalparking]").on("click", function () {
        rparkingtext = $(this).data("index");
        RentalSummerNew();
    });
    $("a[name=rentalgaragecapacity]").on("click", function () {
        rgaragecaptext =$(this).data("index");
        RentalSummerNew();
    });
    //Lots/Lands Filters
    $("a[name=lnotification]").on("click", function () {
        lnotefreq =  $(this).data("index");
    })
    $("a[name=lotswatertype").on("click", function () {
        lwatertext = $(this).data("index");
        LotSummerNew();
    });
    $("a[name=lotssewertype").on("click", function () {
        lsewerText = $(this).data("index");
        LotSummerNew();
    });
    //End :-----------------to get values and text of button groups------------//

    //Start : To get Text and VAlue from Check Box Groups ------//
    $("input[name=noofstories").on("click", function () {
        var s = [];
        if ($(this).data("index") == 'Any') {
            $("input[name='noofstories']").attr('checked', false);
            $("#storiesany")[0].checked = true;
        }
        else {
            $("#storiesany")[0].checked = false;
        }
        $.each($("input[name='noofstories']:checked"), function () {
            s.push($(this).data("index"));
        });
        s = s.join(",");
        storiestext =  s;
        HomeSummeryNew();
    });
    $("input[name=masterfeatures").on("click", function () {
        masterfeaturetext = [];
        $.each($("input[name='masterfeatures']:checked"), function () {
            masterfeaturetext.push($(this).data("index"));
        });
        masterfeaturetext = masterfeaturetext.join(",");
        //masterfeaturetext = "Master Features :" + masterfeaturetext;
        HomeSummeryNew();
    });
    $("input[name=community").on("click", function () {
        communitytext = [];
        $.each($("input[name='community']:checked"), function () {
            communitytext.push($(this).data("index"));
        });
        communitytext = communitytext.join(",");
        //communitytext = "Community Amenities :" + communitytext;
        HomeSummeryNew();
    });
    //End : To get Text and VAlue from Check Box Groups ------//
    //End :------Change & Click Events of Controls to get Values and Text------//

    //Avoid Characters in Minutes Text box and set Min and max values
    $('#inputMinutes,#rentalinputMinutes,#lotsinputMinutes').keyup(function (event) {
        //if ($(this).val() > 59 || $(this).val() < 1) {
        //    $(this).val("");
        //}
    });
    $('#inputMinutes,#rentalinputMinutes,#lotsinputMinutes').keypress(function (event) {
        if (event.which != 8 && isNaN(String.fromCharCode(event.which))) {
            event.preventDefault();
        }
    });

    function homefiltersliderevetns() {
        //Home Filters For Price Range
        $("#homes_formatted_from_price").html('No Min');
        $("#homes_formatted_to_price").html('No Max');
        var slider= $("#slider-range").slider({
            range: true,
            min: 0,
            max: 100,
            step:0.5,
            values: [0, 100],
            slide: function (event, ui) {
                var handle = $('.ui-state-active', this),
                             handleWidth = handle.width(),
                             position = handle.position(),
                             marginLeft;
                if (ui.handle.nextSibling) {
                    marginLeft = -handleWidth - 3.5;
                    if (getRealValue(ui.values[0]) < 1000000)
                        handle.css('margin-left', marginLeft + 'px');
                    else {
                        handle.css('margin-left', marginLeft -1 + 'px');
                    }
                }
                else {
                    handle.css('margin-left', '0px');
                }
                if (ui.values[1]-ui.values[0] < 1){
                    return false;
                }
                else{
                    var statd = getRealValue(ui.values[0]);
                    var endd = getRealValue(ui.values[1]);
                    statd = getFormattedPrice(statd);
                    endd = getFormattedPrice(endd);
                    $("#homes_formatted_from_price").html(statd);
                    $("#homes_formatted_to_price").html(endd);
                    if(ui.values[0]==0 && ui.values[1]==100){
                        $("#homes_formatted_from_price").html('No Min');
                        $("#homes_formatted_to_price").html('No Max');
                    }
                    else if(ui.values[0]!=0 && ui.values[1]==100){
                        $("#homes_formatted_from_price").html(statd);
                        $("#homes_formatted_to_price").html('No Max');
                    }
                    else if(ui.values[0]==0 && ui.values[1]!=100){
                        $("#homes_formatted_from_price").html('No Min');
                        $("#homes_formatted_to_price").html(endd);
                    }
                    else{
                        $('#homes_formatted_from_price').html(statd);
                        $('#homes_formatted_to_price').html(endd);
                    }
                    $("#price").text(getRealValue(ui.values[0]) + "-" + getRealValue(ui.values[1]));
                    pricetext = $("#price").text();
                    HomeSummeryNew();
                }
            }
        });

        // For Square Feet
        $('#homes_formatted_from_sqft').html('No Min');
        $('#homes_formatted_to_sqft').html('No Max');
        var slider2=$("#slider-range2").slider({
            range: true,
            min: 0,
            max: sqft_Index_values.length,
            values: [0, sqft_Index_values.length],
            slide: function (event, ui) {
                var handle = $('.ui-state-active', this),
                            handleWidth = handle.width(),
                            position = handle.position(),
                            marginLeft;
                if (ui.handle.nextSibling) {
                    marginLeft = -handleWidth-3;
                    handle.css('margin-left', marginLeft + 'px');
                }
                else {
                    handle.css('margin-left', '0px');
                }
                if (ui.values[1]-ui.values[0] < 1){
                    return false;
                }
                else{
                    var statd = getSqftRealValue(ui.values[0]);
                    var endd = getSqftRealValue(ui.values[1]);
                    if(ui.values[0]==0 && ui.values[1]==sqft_Index_values.length){
                        $('#homes_formatted_from_sqft').html('No Min');
                        $('#homes_formatted_to_sqft').html('No Max');
                    }
                    else if(ui.values[0]!=0 && ui.values[1]==sqft_Index_values.length){
                        $('#homes_formatted_from_sqft').html(statd + ' Sqft');
                        $('#homes_formatted_to_sqft').html('No Max');
                    }
                    else if(ui.values[0]==0 && ui.values[1]!=sqft_Index_values.length){
                        $('#homes_formatted_from_sqft').html('No Min');
                        $('#homes_formatted_to_sqft').html(endd + ' Sqft');
                    }
                    else{
                        $('#homes_formatted_from_sqft').html(statd + ' Sqft');
                        $('#homes_formatted_to_sqft').html(endd + ' Sqft');
                    }
                    $("#sqft").text(getSqftRealValue(ui.values[0]) + "-" + getSqftRealValue(ui.values[1]));
                    sqfttext =$("#sqft").text();
                    HomeSummeryNew();
                }
            }
        });

        // For  Lot Acreage
        $('#homes_formatted_from_lotacrg').html('No Min');
        $('#homes_formatted_to_lotacrg').html('No Max');
        var slider3=$("#slider-range3").slider({
            range: true,
            animate: true,
            min: 0,
            max: 18,
            values: [0, 18],
            slide: function (event, ui) {
                var handle = $('.ui-state-active', this),
                            handleWidth = handle.width(),
                           position = handle.position(),
                           marginLeft;
                if (ui.handle.nextSibling) {
                    marginLeft = -handleWidth+4;
                    handle.css('margin-left', marginLeft + 'px');
                }
                else {
                    handle.css('margin-left', '0px');
                }
                if (ui.values[1]-ui.values[0] < 1){
                    return false;
                }
                else{
                    var statd = getLotAcrgRealValue(ui.values[0]);
                    var endd = getLotAcrgRealValue(ui.values[1]);
                    if(ui.values[0]==0 && ui.values[1]==18){
                        $('#homes_formatted_from_lotacrg').html('No Min');
                        $('#homes_formatted_to_lotacrg').html('No Max');
                    }
                    else if(ui.values[0]!=0 && ui.values[1]==18){
                        $('#homes_formatted_from_lotacrg').html(statd +' acres');
                        $('#homes_formatted_to_lotacrg').html('No Max');
                    }
                    else if(ui.values[0]==0 && ui.values[1]!=18){
                        $('#homes_formatted_from_lotacrg').html('No Min');
                        $('#homes_formatted_to_lotacrg').html(endd+' acres');
                    }
                    else{
                        $('#homes_formatted_from_lotacrg').html(statd+' acres');
                        $('#homes_formatted_to_lotacrg').html(endd+' acres');
                    }
                    $("#lotacreage").text(getLotAcrgRealValue(ui.values[0])+ "-" + getLotAcrgRealValue(ui.values[1]));
                    lotacreagetext =  $("#lotacreage").text();
                    HomeSummeryNew();
                }
            }
        });

    }
    function rentalfiltersliderevetns() {
        ///REntal Filter Sliders - Price
        $('#rental_formatted_from_price').html('No Min');
        $('#rental_formatted_to_price').html('No Max');
        var rentalslider=$("#rentalslider-range").slider({
            range: true,
            min: 0,
            max: 112,
            values: [0, 112],
            slide: function (event, ui) {
                var threshold, mg = 0;
                if (getRentalPriceRealValue(ui.values[0]) < 8000)
                    threshold = 4;
                else if (getRentalPriceRealValue(ui.values[0]) > 8000 && getRentalPriceRealValue(ui.values[0]) < 15000) {
                    mg = 5;
                    threshold = 2;
                }

                else if (getRentalPriceRealValue(ui.values[0]) > 15000) {
                    mg = 5;
                    threshold = 1;
                }
                var handle = $('.ui-state-active', this),
             handleWidth = handle.width(),
             position = handle.position(),
             marginLeft;
                if (ui.handle.nextSibling) {
                    marginLeft = -handleWidth - mg;
                    handle.css('margin-left', marginLeft + 'px');
                }
                else {
                    handle.css('margin-left', '0px');
                }
                if (ui.values[1]-ui.values[0] < threshold){
                    return false;
                }
                else{
                    var statd = getRentalPriceRealValue(ui.values[0]);
                    var endd = getRentalPriceRealValue(ui.values[1]);
                    statd =getFormattedPrice_Rental(statd);
                    endd = getFormattedPrice_Rental(endd);
                    if(ui.values[0]==0 && ui.values[1]==112){
                        $('#rental_formatted_from_price').html('No Min');
                        $('#rental_formatted_to_price').html('No Max');
                    }
                    else if(ui.values[0]!=0 && ui.values[1]==112){
                        $('#rental_formatted_from_price').html(statd);
                        $('#rental_formatted_to_price').html('No Max');
                    }
                    else if(ui.values[0]==0 && ui.values[1]!=112){
                        $('#rental_formatted_from_price').html('No Min');
                        $('#rental_formatted_to_price').html(endd);
                    }
                    else{
                        $('#rental_formatted_from_price').html(statd);
                        $('#rental_formatted_to_price').html(endd);
                    }
                    $("#rentalprice").text(getRentalPriceRealValue(ui.values[0])+ "-" +getRentalPriceRealValue(ui.values[1]));
                    rpricetext =  $("#rentalprice").text();
                    RentalSummerNew();
                }
            }
        });
        //$("#rentalprice").text($("#rentalslider-range").slider("values", 0) +
        // "-" + $("#rentalslider-range").slider("values", 1));
        // For Square Feet-REntal
        $('#rental_formatted_from_sqft').html('No Min');
        $('#rental_formatted_to_sqft').html('No Max');
        var rentalsqftSlider= $("#rentalslider-range2").slider({
            range: true,
            min: 0,
            max: sqft_Index_values.length,
            values: [0, sqft_Index_values.length],
            slide: function (event, ui) {
                var handle = $('.ui-state-active', this),
                           handleWidth = handle.width(),
                           position = handle.position(),
                           marginLeft;
                if (ui.handle.nextSibling) {
                    marginLeft = -handleWidth-4;
                    handle.css('margin-left', marginLeft + 'px');
                }
                if (ui.values[1]-ui.values[0] < 1){
                    return false;
                }
                else{
                    var statd = getSqftRealValue(ui.values[0]);
                    var endd = getSqftRealValue(ui.values[1]);
                    if(ui.values[0]==0 && ui.values[1]==sqft_Index_values.length){
                        $('#rental_formatted_from_sqft').html('No Min');
                        $('#rental_formatted_to_sqft').html('No Max');
                    }
                    else if(ui.values[0]!=0 && ui.values[1]==sqft_Index_values.length){
                        $('#rental_formatted_from_sqft').html(statd +' sqft');
                        $('#rental_formatted_to_sqft').html('No Max');
                    }
                    else if(ui.values[0]==0 && ui.values[1]!=sqft_Index_values.length){
                        $('#rental_formatted_from_sqft').html('No Min');
                        $('#rental_formatted_to_sqft').html(endd +' sqft');
                    }
                    else{
                        $('#rental_formatted_from_sqft').html(statd +' sqft');
                        $('#rental_formatted_to_sqft').html(endd +' sqft');
                    }
                    $("#rentalsqft").text(getSqftRealValue(ui.values[0])+ "-" + getSqftRealValue(ui.values[1]));
                    rsqfttext = $("#rentalsqft").text();
                    RentalSummerNew();
                }
            }
        });
        //$("#rentalsqft").text($("#rentalslider-range2").slider("values", 0) +
        //  "-" + $("#rentalslider-range2").slider("values", 1));
    }
    function lotsfiltersliderevetns() {
        ///Lot/Lands Filter Sliders - Price
        $('#lots_formatted_from_price').html('No Min');
        $('#lots_formatted_to_price').html('No Max');
        var lotslider=$("#lotsslider-range").slider({
            range: true,
            min: 0,
            step:0.5,
            max: 100,
            values: [0, 100],
            slide: function (event, ui) {
                var handle = $('.ui-state-active', this),
                           handleWidth = handle.width(),
                           position = handle.position(),
                           marginLeft;
                if (ui.handle.nextSibling) {
                    marginLeft = -handleWidth-4;
                    if (getRealValue(ui.values[0]) < 1000000)
                        handle.css('margin-left', marginLeft + 'px');
                    else {
                        handle.css('margin-left', marginLeft - 2 + 'px');
                    }
                }
                else {
                    handle.css('margin-left', '0.5px');
                }
                if (ui.values[1]-ui.values[0] < 1){
                    return false;
                }
                else{
                    var statd = getRealValue(ui.values[0]);
                    var endd = getRealValue(ui.values[1]);
                    statd = getFormattedPrice(statd);
                    endd = getFormattedPrice(endd);

                    if(ui.values[0]==0 && ui.values[1]==100){
                        $('#lots_formatted_from_price').html('No Min');
                        $('#lots_formatted_to_price').html('No Max');
                    }
                    else if(ui.values[0]!=0 && ui.values[1]==100){
                        $('#lots_formatted_from_price').html(statd);
                        $('#lots_formatted_to_price').html('No Max');
                    }
                    else if(ui.values[0]==0 && ui.values[1]!=100){
                        $('#lots_formatted_from_price').html('No Min');
                        $('#lots_formatted_to_price').html(endd);
                    }
                    else{
                        $('#lots_formatted_from_price').html(statd);
                        $('#lots_formatted_to_price').html(endd);
                    }
                    $("#lotsprice").text(getRealValue(ui.values[0]) + "-" + getRealValue(ui.values[1]));
                    lpricetext =  $("#lotsprice").text();
                    LotSummerNew();
                }
            }
        });
        //$("#lotsprice").text(getRealValue($("#lotsslider-range").slider("values", 0))+
        // "-" + getRealValue($("#lotsslider-range").slider("values", 1)));
        // For Square Feet-REntal
        $('#lots_formatted_from_lotsacrg').html('No Min');
        $('#lots_formatted_to_lotsacrg').html('No Max');
        var lotslideracrege=$("#lotsslider-range2").slider({
            range: true,
            min: 0,
            max: 18,
            values: [0, 18],
            slide: function (event, ui) {
                var handle = $('.ui-state-active', this),
                           handleWidth = handle.width(),
                           position = handle.position(),
                           marginLeft;
                if (ui.handle.nextSibling) {
                    marginLeft = -handleWidth+4;
                    handle.css('margin-left', marginLeft + 'px');
                }
                else {
                    handle.css('margin-left', '0px');
                }
                if (ui.values[1]-ui.values[0] < 1){
                    return false;
                }
                else{
                    var statd = getLotAcrgRealValue(ui.values[0]);
                    var endd = getLotAcrgRealValue(ui.values[1]);
                    if(ui.values[0]==0 && ui.values[1]==18){
                        $('#lots_formatted_from_lotsacrg').html('No Min');
                        $('#lots_formatted_to_lotsacrg').html('No Max');
                    }
                    else if(ui.values[0]!=0 && ui.values[1]==18){
                        $('#lots_formatted_from_lotsacrg').html(statd+' acres');
                        $('#lots_formatted_to_lotsacrg').html('No Max');
                    }
                    else if(ui.values[0]==0 && ui.values[1]!=18){
                        $('#lots_formatted_from_lotsacrg').html('No Min');
                        $('#lots_formatted_to_lotsacrg').html(endd+ ' acres');
                    }
                    else{
                        $('#lots_formatted_from_lotsacrg').html(statd +' acres');
                        $('#lots_formatted_to_lotsacrg').html(endd+' acres');
                    }
                    $("#lotslotacreage").text(getLotAcrgRealValue(ui.values[0])+ "-" + getLotAcrgRealValue(ui.values[1]));
                    llotacreagetext = $("#lotslotacreage").text();
                    LotSummerNew();
                }
            }
        });
    }
    //Funtntions For Reset All Controls
    function homeFiltersreset() {
        homefiltersliderevetns();
        schooltext="";
        subdivtext="";
        schools_ele="",schools_middle="",schools_high="",sub_divisions="";
        //REset Multiselect dropwdowns
        $("#propertytype > option").attr("selected",false);
        $('#propertytype').multiselect('refresh');
        propertytext = "Any";
        hproperty="Any";

        $("#agetype > option").attr("selected",false);
        $('#agetype').multiselect('refresh');
        agetext = "Any";
        hagetype="Any";

        $("#lotfeatures > option").attr("selected",false);
        $('#lotfeatures').multiselect('refresh');
        lotfeaturestext = "Any";
        hlotfeatures="Any";

        $("#appliances > option").attr("selected",false);
        $('#appliances').multiselect('refresh');
        appliancestext = "Any";
        happliances="Any";

        $("#exteriorfeatures > option").attr("selected",false);
        $('#exteriorfeatures').multiselect('refresh');
        extfeaturestext = "Any";
        hexteriorfeatures="Any";

        $("#interiorfeatures > option").attr("selected",false);
        $('#interiorfeatures').multiselect('refresh');
        intfeaturestext = "Any";
        hinteriorfeatures="Any";

        minutestext=null;
        addresstext="";
        bathroomstext="Any";
        bedroomstext="Any";
        garagetext="Any";
        masterbedroomtext="Any";
        storiestext="Any";
        garagecaptext="Any";
        foundationtypetext="Any";
        masterfeaturetext="Any";
        laundrytext="Any";
        fireplacetext="Any";
        flooringtext="Any";
        communitytext="Any";
        heatsystemtext="Any";
        watertext="Any";
        heatertypetext="Any";
        sewertext="Any";



        //Home Filter Button groups & text Fileds, and Check Boxes

        $(".bathbtngroup>a").siblings().removeClass('active')
        $("#bathany").addClass('active');

        $(".bedroombtngroup>a").siblings().removeClass('active')
        $("#bedroomany").addClass('active');

        $(".grgcapbtngroup>a").siblings().removeClass('active')
        $("#grgcapany").addClass('active');

        $(".grgtypebtngroup>a").siblings().removeClass('active')
        $("#grgany").addClass('active');

        $(".masterbedroombtngroup>a").siblings().removeClass('active')
        $("#mbedany").addClass('active');

        $(".ftypebtngroup>a").siblings().removeClass('active')
        $("#ftypeany").addClass('active');

        $(".lroombtngroup>a").siblings().removeClass('active')
        $("#lroomany").addClass('active');
        $(".fplacebtngroup>a").siblings().removeClass('active')
        $("#fplaceany").addClass('active');
        $(".floorbtngroup>a").siblings().removeClass('active')
        $("#floorany").addClass('active');
        $(".heatsystembtngroup>a").siblings().removeClass('active')
        $("#hsany").addClass('active');
        $(".watertypebtngroup>a").siblings().removeClass('active')
        $("#wtypeany").addClass('active');
        $(".waterheaterbtngroup>a").siblings().removeClass('active')
        $("#wheaterany").addClass('active');
        $(".swerbtngroup>a").siblings().removeClass('active')
        $("#swerany").addClass('active');

        $('input[type="CheckBox"]').prop('checked', false);
        $('#storiesany').prop('checked', true);
        //$('#masterfeaturesany').prop('checked', true);
        // $('#communityany').prop('checked', true);
        $('#PHSale').prop('checked', true);
        $('#PLLSale').prop('checked', true);
        $('input[type="text"]').val('');
        $('input[type="search"]').val('');
        $('#stat').css('left', 0);
        $('#end').css('left', 100 + "%");
        $('#stat2').css('left', 0);
        $('#end2').css('left', 100 + "%");
        $('#stat3').css('left', 0);
        $('#end3').css('left', 100 + "%");
        pricetext="0-10000000";
        sqfttext="0-7000";
        lotacreagetext="0-50";
        HomeSummeryNew();
        //$("#summary1").text(minutestext + "," + addresstext + "," + propertytext + "," + pricetext + "," + bathroomstext + "," + bedroomstext + "," + sqfttext + "," + schooltext + "," + garagetext + "," + masterbedroomtext + "," + lotacreagetext + "," + storiestext + "," + subdivtext + "," + garagecaptext + "," + agetext + "," + lotfeaturestext + "," + appliancestext + "," + foundationtypetext + "," + masterfeaturetext + "," + extfeaturestext + "," + laundrytext + "," + intfeaturestext + "," + fireplacetext + "," + flooringtext + "," + communitytext + "," + heatsystemtext + "," + watertext + "," + heatertypetext + "," + sewertext);
        //HomeFilterValuesAssigning();
    }
    function rentalFiltersreset() {
        rentalfiltersliderevetns();
        rschooltext="";
        schools_ele="",schools_middle="",schools_high="",sub_divisions="";
        //REset Multiselect dropwdowns
        $("#rentalpropertytype > option").attr("selected",false);
        $('#rentalpropertytype').multiselect('refresh');
        rpropertytext = "Any";
        rproperty="Any";

        $("#rentalagetype > option").attr("selected",false);
        $('#rentalagetype').multiselect('refresh');
        ragetext = "Any";
        rage="Any";
        rminutestext=null;
        raddresstext="";
        rbathroomstext="Any";
        rbedroomstext="Any";
        rparkingtext="Any";
        rgaragecaptext="Any";
        // Rental Filter Controls to be Reset Here
        $(".rentalbathbtngroup>a").siblings().removeClass('active')
        $("#rentalbathany").addClass('active');
        $(".rentalbedroombtngroup>a").siblings().removeClass('active')
        $("#rentalbedroomany").addClass('active');
        $(".rentalgrgcapbtngroup>a").siblings().removeClass('active')
        $("#rentalgrgcapany").addClass('active');
        $(".rentalparkingbtngroup>a").siblings().removeClass('active')
        $("#rentalparkingany").addClass('active');

        $('#PHSale').prop('checked', true);
        $('#PLLSale').prop('checked', true);
        $('input[type="text"]').val('');
        $('input[type="search"]').val('');
        $('#rstat').css('left', 0);
        $('#rend').css('left', 100 + "%");
        $('#rstat2').css('left', 0);
        $('#rend2').css('left', 100 + "%");
        rpricetext="0-10000000";
        rsqfttext="0-7000";
        RentalSummerNew();
        //$("#rentalsummary").text(rminutestext + "," + raddresstext + "," + rpropertytext + "," + rpricetext + "," + rbathroomstext + "," + rbedroomstext + "," + rsqfttext + "," + rschooltext + "," + parkingtext + "," + rgaragecaptext + "," + ragetext);
        //RentalFilterValuesAssigning();

    }
    function lotsFiltersreset() {
        lotsfiltersliderevetns();
        lschooltext="";
        lsubdivtext="";
        schools_ele="",schools_middle="",schools_high="",sub_divisions="";

        lminutetext=null;
        laddresstext="";
        lwatertext="Any";
        lsewerText="Any";
        //REset Multiselect dropwdowns
        $("#lotspropertytype > option").attr("selected",false);
        $('#lotspropertytype').multiselect('refresh');
        lpropertytext = "Any";
        lproperty="Any";

        $("#lotslotfeatures > option").attr("selected",false);
        $('#lotslotfeatures').multiselect('refresh');
        llotfeaturestext = "Any";
        llotfeatures="Any";
        // Lot/Lands Filter Controls to be Reset Here
        $(".lotswatertypebtngroup>a").siblings().removeClass('active')
        $("#lotswtypeany").addClass('active');
        $(".lotsswerbtngroup>a").siblings().removeClass('active')
        $("#lotsswerany").addClass('active');

        $('#PHSale').prop('checked', true);
        $('#PLLSale').prop('checked', true);
        $('input[type="text"]').val('');
        $('input[type="search"]').val('');
        $('#lstat').css('left', 0);
        $('#lend').css('left', '100%');
        $('#lstat2').css('left', 0);
        $('#lend2').css('left', '100%');
        lpricetext="0-10000000";
        llotacreagetext="0-50";
        LotSummerNew();
        //$("#lotssummary").text(lminutetext + "," + laddresstext + "," + lpropertytext + "," + lpricetext + "," + llotacreagetext + "," + lschooltext + "," + lsubdivtext + "," + llotfeaturestext + "," + lwatertext + "," + lsewerText);
        LotFilterValuesAssigning();
    }
    //Reset Button Click Event to Reset Filters
    $("#resetbtn").click(function () {
        homeFiltersreset();
    });
    $("#rentalresetbtn").click(function () {
        rentalFiltersreset();
    });
    $("#lotsresetbtn").on("click", function () {
        lotsFiltersreset();
    });

    var dbMapPoints=[];
    function SaveSearchEvt(){
        dbMapPoints=[];
        var searchid=$("#searchname").val();
        polygonpath="",boundarypath="",zoomlevel="";
        $("#spinner").css("display", "block");
        $.ajax({
            url: "/Customer/SavedSearch/GetFilterDetails",
            type: "POST",
            dataType: "json",
            data: {searchID : searchid},
            success: function (data) {
                var poly="";
                polygonpath=data[0].PolygonPath,boundarypath=data[0].MapBounds,zoomlevel=data[0].ZoomLevel;

                if(data[0].MapBounds!='' && data[0].MapBounds!=null && data[0].PolygonPath==""){
                    var boundary=data[0].MapBounds.split(',');
                for(var p=0;p<boundary.length;p++)
                {
                    dbMapPoints.push
                     ({lat: parseFloat(boundary[p].split(' ')[1]), lng:parseFloat(boundary[p].split(' ')[0])});
                }
                    console.log(dbMapPoints.join('#'))
                poly = new google.maps.Polygon({

                    paths: dbMapPoints,
                    fillColor: "#FF0000", fillOpacity: 0.15, strokeColor: "red", strokeWeight: 1,
                });
            }
                else if(data[0].PolygonPath!="" && data[0].PolygonPath!=null)
                {
                    polypath=[],dbMapPoints=[];

                    var polypath=data[0].PolygonPath.split(',');
                    for(var p=0;p<polypath.length;p++)
                    {
                        dbMapPoints.push
                         ({lat: parseFloat(polypath[p].split(' ')[1]), lng:parseFloat(polypath[p].split(' ')[0])});
                    }
                    poly = new google.maps.Polygon({
                        paths: dbMapPoints,
                        fillColor: "#FF0000", fillOpacity: 0.15, strokeColor: "red", strokeWeight: 1,
                    });

                }
                
                if(data[0].Filter_Type=="1")
                {
                    homeFiltersreset()
                    pk_savedfilterID=data[0].PK_SaveSearchesID;notefreq=data[0].NotificationFrequency
                    filtertype=data[0].Filter_Type,classtype=data[0].Class_Type,sname=data[0].Search_Name;
                    minutestext = data[0].DrivingDistMinutes, addresstext = data[0].DrivingDistLocation, propertytext = data[0].Property_Type, pricetext = data[0].Price_From+"-"+data[0].Price_To, bathroomstext = data[0].Bathrooms, bedroomstext = data[0].Bedrooms, sqfttext = data[0].Sqft_From+"-"+data[0].Sqft_To;
                    schooltext = data[0].Schools, garagetext = data[0].Garage_Type ;
                    masterbedroomtext = data[0].Master_Bedroom, lotacreagetext = data[0].Lot_Acreage_From+"-"+data[0].Lot_Acreage_To, storiestext = data[0].Stories, subdivtext =data[0].Subdivison, garagecaptext = data[0].Garage_Capacity, agetext = data[0].Age;

                    lotfeaturestext = data[0].Lot_Features, appliancestext = data[0].Appliances, foundationtypetext = data[0].Foundation_Type, masterfeaturetext = data[0].Master_Features, extfeaturestext = data[0].Exterior_Features;
                    laundrytext =data[0].Laundry_Room,  intfeaturestext =data[0].Interior_Features , fireplacetext = data[0].FirePlace, flooringtext =data[0].Flooring_Type , communitytext =data[0].Community_Amenities;

                    heatsystemtext =  data[0].Laundry_Room, watertext = data[0].Water_Type, heatertypetext = data[0].Heating_System, sewertext = data[0].Sewer_Type;
                    HomeSummeryNew();
                   
                    $("#inputsearchname").val(data[0].Search_Name);
                    $("#inputMinutes").val(data[0].DrivingDistMinutes);
                    $("#inputAddress").val(data[0].DrivingDistLocation);
                    $("#inputSchool").val(data[0].Schools);
                    $("#inputSubDivision").val(data[0].Schools);
                    $("#inputSubDivision").val(data[0].Subdivison);
                    //Button Groups Binding

                    $("#"+$(".bathbtngroup>a").filter("[data-index='Any']").prop('id')+"").removeClass('active');
                    $("#"+$(".bedroombtngroup>a").filter("[data-index='Any']").prop('id')+"").removeClass('active');
                    $("#"+$(".grgtypebtngroup>a").filter("[data-index='Any']").prop('id')+"").removeClass('active');
                    $("#"+$(".masterbedroombtngroup>a").filter("[data-index='Any']").prop('id')+"").removeClass('active');
                    $("#"+$(".grgcapbtngroup>a").filter("[data-index='Any']").prop('id')+"").removeClass('active');
                    $("#"+$(".ftypebtngroup>a").filter("[data-index='Any']").prop('id')+"").removeClass('active');
                    $("#"+$(".lrrombtngroup>a").filter("[data-index='Any']").prop('id')+"").removeClass('active');
                    $("#"+$(".fplacebtngroup>a").filter("[data-index='Any']").prop('id')+"").removeClass('active');
                    $("#"+$(".floorbtngroup>a").filter("[data-index='Any']").prop('id')+"").removeClass('active');
                    $("#"+$(".heatsystembtngroup>a").filter("[data-index='Any']").prop('id')+"").removeClass('active');
                    $("#"+$(".watertypebtngroup>a").filter("[data-index='Any']").prop('id')+"").removeClass('active');
                    $("#"+$(".waterheaterbtngroup>a").filter("[data-index='Any']").prop('id')+"").removeClass('active');
                    $("#"+$(".swerbtngroup>a").filter("[data-index='Any']").prop('id')+"").removeClass('active');
                    $(".notebtngroup>a").siblings().removeClass('active');

                    $("#"+$(".notebtngroup>a").filter("[data-index='" + data[0].NotificationFrequency + "']").prop('id')+"").addClass('active');
                    $("#"+$(".bathbtngroup>a").filter("[data-index='" + data[0].Bathrooms + "']").prop('id')+"").addClass('active');
                    $("#"+$(".bedroombtngroup>a").filter("[data-index='" + data[0].Bedrooms + "']").prop('id')+"").addClass('active');
                    $("#"+$(".grgtypebtngroup>a").filter("[data-index='" + data[0].Garage_Type + "']").prop('id')+"").addClass('active');
                    $("#"+$(".masterbedroombtngroup>a").filter("[data-index='" + data[0].Master_Bedroom + "']").prop('id')+"").addClass('active');
                    $("#"+$(".grgcapbtngroup>a").filter("[data-index='" + data[0].Garage_Capacity + "']").prop('id')+"").addClass('active');
                    $("#"+$(".ftypebtngroup>a").filter("[data-index='" + data[0].Foundation_Type + "']").prop('id')+"").addClass('active');
                    $("#"+$(".lrrombtngroup>a").filter("[data-index='" + data[0].Laundry_Room + "']").prop('id')+"").addClass('active');
                    $("#"+$(".fplacebtngroup>a").filter("[data-index='" + data[0].FirePlace + "']").prop('id')+"").addClass('active');
                    $("#"+$(".floorbtngroup>a").filter("[data-index='" + data[0].Flooring_Type + "']").prop('id')+"").addClass('active');
                    $("#"+$(".heatsystembtngroup>a").filter("[data-index='" + data[0].Heating_System + "']").prop('id')+"").addClass('active');
                    $("#"+$(".watertypebtngroup>a").filter("[data-index='" + data[0].Water_Type + "']").prop('id')+"").addClass('active');
                    $("#"+$(".waterheaterbtngroup>a").filter("[data-index='" + data[0].Water_Heater + "']").prop('id')+"").addClass('active');
                    $("#"+$(".swerbtngroup>a").filter("[data-index='" + data[0].Sewer_Type + "']").prop('id')+"").addClass('active');
                    //For CheckBox Group
                    var s=data[0].Stories;
                    var st=s.split(',');
                    for(var i=0;i<st.length;i++){
                        $.each($("input[name='noofstories']"), function () {
                            if(st[i]==$(this).data("index"))
                            {
                                $(this).prop("checked", true);
                            }
                        });
                    }
                    var m=data[0].Master_Features;
                    var mf=m.split(',');
                    for(var i=0;i<mf.length;i++){
                        $.each($("input[name='masterfeatures']"), function () {
                            if(mf[i]==$(this).data("index"))
                            {
                                $(this).prop("checked", true);
                            }
                        });
                    }
                    var c=data[0].Community_Amenities;
                    var com=c.split(',');
                    for(var i=0;i<com.length;i++){
                        $.each($("input[name='community']"), function () {
                            if(com[i]==$(this).data("index"))
                            {
                                $(this).prop("checked", true);
                            }
                        });
                    }
                    //For Multi Select Check Boxes
                    var p=data[0].Property_Type;
                    if(p=="Any")
                    {
                        $("#propertytype").multiselect('selectAll', false);
                    }
                    else{

                        if(p.indexOf(',') != -1)
                        {
                            var dataarray=p.split(",");
                            $("#propertytype").multiselect("select",dataarray);
                        }
                        else
                        {
                            $("#propertytype").multiselect("select",p);
                        }

                    }
                    /////////////////////////
                    var a=data[0].Age;
                    if(a=="Any")
                    {
                        $("#agetype").multiselect('selectAll', false);
                    }
                    else{
                        if(a.indexOf(',') != -1)
                        {
                            var dataarray=a.split(",");
                            $("#agetype").multiselect("select",dataarray);
                        }
                        else
                        {
                            $("#agetype").multiselect("select",a);
                        }
                    }
                    /////////////////////////
                    var lf=data[0].Lot_Features;
                    if(lf=="Any")
                    {
                        $("#lotfeatures").multiselect('selectAll', false);
                    }
                    else{
                        if(lf.indexOf(',') != -1)
                        {
                            var dataarray=lf.split(",");
                            $("#lotfeatures").multiselect("select",dataarray);
                        }
                        else
                        {
                            $("#lotfeatures").multiselect("select",lf);
                        }
                    }
                    ////////////////
                    var app=data[0].Appliances;
                    if(app=="Any")
                    {
                        $("#appliances").multiselect('selectAll', false);
                    }
                    else{
                        if(app.indexOf(',') != -1)
                        {
                            var dataarray=app.split(",");
                            $("#appliances").multiselect("select",dataarray);
                        }
                        else
                        {
                            $("#appliances").multiselect("select",app);
                        }
                    }
                    ////////////////
                    var ef=data[0].Exterior_Features;
                    if(ef=="Any")
                    {
                        $("#exteriorfeatures").multiselect('selectAll', false);
                    }
                    else{
                        if(ef.indexOf(',') != -1)
                        {
                            var eff=app.split(",");
                            $("#exteriorfeatures").multiselect("select",dataarray);
                        }
                        else
                        {
                            $("#exteriorfeatures").multiselect("select",ef);
                        }
                    }
                    ////////////////
                    var intf=data[0].Interior_Features;
                    if(intf=="Any")
                    {
                        $("#interiorfeatures").multiselect('selectAll', false);
                        // $("#interiorfeatures").multiselect('updateButtonText');
                    }
                    else{
                        if(intf.indexOf(',') != -1)
                        {
                            var eff=app.split(",");
                            $("#interiorfeatures").multiselect("select",dataarray);
                        }
                        else
                        {
                            $("#interiorfeatures").multiselect("select",intf);
                        }
                    }
                    //For Slider Bars
                    $("#homes_formatted_from_price").html(getFormattedPrice(data[0].Price_From));
                    $("#homes_formatted_to_price").html(getFormattedPrice(data[0].Price_To));
                    $("#slider-range").slider('values', 0, getIndexValue(data[0].From_PricePrice_From)); // sets first handle (index 0) to 50
                    $("#slider-range").slider('values', 1, getIndexValue(data[0].Price_To));
                    $("#price").text(data[0].Price_From + "-" + data[0].Price_To);
                    pricetext = $("#price").text();
                    $("#homes_formatted_from_sqft").html((data[0].Sqft_From == "0" ? "No Min" : data[0].Sqft_From + "sqft"));
                    $("#homes_formatted_to_sqft").html((data[0].Sqft_To == "7000" ? "No Max" : data[0].Sqft_To + "sqft"));
                    $("#slider-range2").slider('values', 0, getSqftIndexValue(data[0].Sqft_From)); // sets first handle (index 0) to 50
                    $("#slider-range2").slider('values', 1, getSqftIndexValue(data[0].Sqft_To));
                    $("#sqft").text(data[0].Sqft_From + "-" + data[0].Sqft_To);
                    sqfttext =$("#sqft").text();
                    $("#homes_formatted_from_lotacrg").html((data[0].Lot_Acreage_From == "0" ? "No Min" : data[0].Lot_Acreage_From + " acres"));
                    $("#homes_formatted_to_lotacrg").html((data[0].Lot_Acreage_To == "50" ? "No Max" : data[0].Lot_Acreage_To + " acres"));
                    $("#slider-range3").slider('values', 0, getLotAcrgIndexValue(data[0].Lot_Acreage_From)); // sets first handle (index 0) to 50
                    $("#slider-range3").slider('values', 1, getLotAcrgIndexValue(data[0].Lot_Acreage_To));
                    $("#lotacreage").text(data[0].Lot_Acreage_From + "-" + data[0].Lot_Acreage_To);
                    lotacreagetext =  $("#lotacreage").text();
                    HomeSummeryNew();
                    citynameslists=data[0].CitiesList,countprop=data[0].ResultCount;
                    schools_ele=data[0].Elementary,schools_middle=data[0].Middle,schools_high=data[0].High;
                    homefilterobj = [filtertype, classtype, minutestext, addresstext, propertytext,
                  $("#price").text(), bathroomstext, bedroomstext, $("#sqft").text(), schools_ele, garagetext, masterbedroomtext,
                  $("#lotacreage").text(), storiestext, subdivtext, garagecaptext, agetext,
              lotfeaturestext, appliancestext, foundationtypetext, masterfeaturetext, extfeaturestext,
              laundrytext, intfeaturestext, fireplacetext, flooringtext, communitytext, heatsystemtext, watertext, heatertypetext, sewertext,sname,
              pk_savedfilterID,notefreq,citynameslists,countprop,sssortbyid,schools_middle,schools_high,polygonpath,boundarypath,zoomlevel];
                    $('#HomeModalFilters').modal('hide');
                    $.ajax({
                        url: "@Url.Action("SearchFilterProperties", "SavedSearch")",
                        type: "POST",
                        dataType: "json",
                        contentType: "application/json; charset=utf-8",
                        data: JSON.stringify(homefilterobj),
                        success: function (res) {
                            if (res.length>0) {
                                $("#listcount").text(res.length);
                                $('#Totallistcount').text(res[0].NoOfListings)
                                $("#footer").show();
                                $("#RightListView").show();
                                $("#expanddiv").show();
                                $(".iconsdiv").show();
                                $("#googlemaps").width('84%');
                                initialize(res);
                                RightSideListView(res);
                                if(poly!="")
                                    poly.setMap(map);
                            }
                            else {
                                $("#footer").hide();
                                $("#heading").text("Alert!");
                                $("#content_text").text("No Properties found for your saved search");
                                $("#RightListView").hide();
                                $("#expanddiv").hide();
                                $(".iconsdiv").hide();
                                initialize(res);
                                $("#googlemaps").width('100%');
                                $("#AlertPopup").modal("show");
                                //alert("Error :" + res);
                                $('#HomeModalFilters').modal('hide');
                                // SaveSearchEvt();
                            }
                        },
                        error :function(res){
                            $("#footer").hide();
                            //alert("Error : No Data");
                            $("#RightListView").hide();
                            $("#expanddiv").hide();
                            $(".iconsdiv").hide();s
                            $("#heading").text("Alert!");
                            $("#googlemaps").width('100%');
                            $("#content_text").text("In Error :No Properties found for your saved search :"+res);
                            $("#AlertPopup").modal("show");
                            $('#HomeModalFilters').modal('hide');
                        },
                    });
                }
                else if(data[0].Filter_Type=="2")
                {
                    rnotefreq=data[0].NotificationFrequency;
                    filtertype=data[0].Filter_Type,classtype=data[0].Class_Type,sname=data[0].Search_Name;pk_savedfilterID=data[0].PK_SaveSearchesID;

                    rminutestext = data[0].DrivingDistMinutes, raddresstext = data[0].DrivingDistLocation, rpropertytext = data[0].Property_Type, rpricetext = data[0].Price_From+"-"+data[0].Price_To;
                    rbathroomstext = data[0].Bathrooms, rbedroomstext = data[0].Bedrooms, rsqfttext = data[0].Sqft_From+"-"+data[0].Sqft_To;
                    rschooltext = data[0].Schools, rparkingtext= data[0].Parking_Type ,rgaragecaptext=data[0].Garage_Capacity ,ragetext=data[0].Age;
                    RentalSummerNew();
                    $("#inputrentalsearchname").val(data[0].Search_Name);
                    $("#rentalinputMinutes").val(data[0].DrivingDistMinutes);
                    $("#rentalinputAddress").val(data[0].DrivingDistLocation);
                    $("#rentalinputSchool").val(data[0].Schools);
                    //Button Groups Binding
                    $("#"+$(".rentalbathbtngroup>a").filter("[data-index='Any']").prop('id')+"").removeClass('active');
                    $("#"+$(".rentalbedroombtngroup>a").filter("[data-index='Any']").prop('id')+"").removeClass('active');
                    $("#"+$(".rentalgrgcapbtngroup>a").filter("[data-index='Any']").prop('id')+"").removeClass('active');
                    $("#"+$(".rentalparkingbtngroup>a").filter("[data-index='Any']").prop('id')+"").removeClass('active');
                    $(".rentalnotebtngroup>a").siblings().removeClass('active');

                    $("#"+$(".rentalnotebtngroup>a").filter("[data-index='" + data[0].NotificationFrequency + "']").prop('id')+"").addClass('active');
                    $("#"+$(".rentalbathbtngroup>a").filter("[data-index='" + data[0].Bathrooms + "']").prop('id')+"").addClass('active');
                    $("#"+$(".rentalbedroombtngroup>a").filter("[data-index='" + data[0].Bedrooms + "']").prop('id')+"").addClass('active');
                    $("#"+$(".rentalgrgcapbtngroup>a").filter("[data-index='" + data[0].Garage_Capacity + "']").prop('id')+"").addClass('active');
                    $("#"+$(".rentalparkingbtngroup>a").filter("[data-index='" + data[0].Parking_Type + "']").prop('id')+"").addClass('active');

                    //Binding Multi Select Property Type
                    var rp=data[0].Property_Type;
                    if(rp=="Any")
                    {
                        $("#rentalpropertytype").multiselect('selectAll', false);
                    }
                    else{
                        if(rp.indexOf(',') != -1)
                        {
                            var dataarray=rp.split(",");
                            $("#rentalpropertytype").multiselect("select",dataarray);
                        }
                        else
                        {
                            $("#rentalpropertytype").multiselect("select",rp);
                        }
                    }
                    /////////////////////////
                    var rage=data[0].Age;
                    if(rage=="Any")
                    {
                        $("#rentalagetype").multiselect('selectAll', false);
                    }
                    else{
                        if(rage.indexOf(',') != -1)
                        {
                            var dataarray=rage.split(",");
                            $("#rentalagetype").multiselect("select",dataarray);
                        }
                        else
                        {
                            $("#rentalagetype").multiselect("select",rage);
                        }
                    }
                    //For Slider Bars
                    $("#rental_formatted_from_price").html(getFormattedPrice_Rental(data[0].Price_From));
                    $("#rental_formatted_to_price").html(getFormattedPrice_Rental(data[0].Price_To));
                    $("#rentalslider-range").slider('values', 0, getRentalPriceIndexValue(data[0].Price_From)); // sets first handle (index 0) to 50
                    $("#rentalslider-range").slider('values', 1, getRentalPriceIndexValue(data[0].Price_To));
                    $("#rentalprice").text(data[0].Price_From+ "-" +data[0].Price_To);
                    rpricetext =  $("#rentalprice").text();
                    $("#rental_formatted_from_sqft").html((data[0].Sqft_From == "0" ? "No Min" : data[0].Sqft_From + "sqft"));
                    $("#rental_formatted_to_sqft").html((data[0].Sqft_To == "7000" ? "No Max" : data[0].Sqft_To + "sqft"));
                    $("#rentalslider-range2").slider('values', 0, getSqftIndexValue(data[0].Sqft_From)); // sets first handle (index 0) to 50
                    $("#rentalslider-range2").slider('values', 1, getSqftIndexValue(data[0].Sqft_To));
                    $("#rentalsqft").text(data[0].Sqft_From + "-" + data[0].Sqft_To);
                    rsqfttext = $("#rentalsqft").text();
                    RentalSummerNew();
                    citynameslists=data[0].CitiesList,countprop=data[0].ResultCount;
                    rentalfilterobj = [filtertype, classtype, rminutestext, raddresstext, rpropertytext,
               rpricetext, rbathroomstext, rbedroomstext, rsqfttext, schools_ele, rparkingtext,rgaragecaptext, ragetext,sname,pk_savedfilterID,rnotefreq,citynameslists,
               countprop,sssortbyid,schools_middle,schools_high,polygonpath,boundarypath,zoomlevel];
                    $('#RentalModalFilters').modal('hide');
                    $.ajax({
                        url: "@Url.Action("SearchRentalFilterProperties", "SavedSearch")",
                        type: "POST",
                        dataType: "json",
                        contentType: "application/json; charset=utf-8",
                        data: JSON.stringify(rentalfilterobj),
                        success: function (res) {
                            if (res.length>0) {
                                $("#footer").show();
                                $("#RightListView").show();
                                $("#expanddiv").show();
                                $(".iconsdiv").show();
                                $("#googlemaps").width('84%');
                                $("#listcount").text(res.length);
                                $('#Totallistcount').text(res[0].NoOfListings)
                                initialize(res);
                                RightSideListView(res);
                                if(poly!="")
                                    poly.setMap(map);
                            }
                            else {

                                $("#footer").hide();
                                $("#RightListView").hide();
                                $("#expanddiv").hide();
                                $(".iconsdiv").hide();

                                $("#googlemaps").width('100%');
                                initialize(res);
                                $("#heading").text("Alert!");
                                $("#content_text").text("No Properties found for your saved search");
                                $("#AlertPopup").modal("show");
                                //alert("Error :" + res);
                                $('#RentalModalFilters').modal('hide');
                                //SaveSearchEvt();
                            }
                        },
                        error :function(res){
                            $("#footer").hide();
                            //alert("Error : No Data");
                            $("#RightListView").hide();
                            $("#expanddiv").hide();
                            $(".iconsdiv").hide();

                            $("#googlemaps").width('100%');
                            initialize(res);
                            $("#heading").text("Alert!");
                            $("#content_text").text("In Error :No Properties found for your saved search :"+res);
                            $("#AlertPopup").modal("show");
                            $('#RentalModalFilters').modal('hide');
                            //SaveSearchEvt();
                        },
                    });

                }
                else if(data[0].Filter_Type=="3")
                {
                    lnotefreq=data[0].NotificationFrequency;
                    filtertype=data[0].Filter_Type,classtype=data[0].Class_Type,sname=data[0].Search_Name;pk_savedfilterID=data[0].PK_SaveSearchesID;
                    lminutetext = data[0].DrivingDistMinutes, laddresstext = data[0].DrivingDistLocation, lpropertytext = data[0].Property_Type, lpricetext = data[0].Price_From+"-"+data[0].Price_To;
                    lschooltext = data[0].Schools,llotacreagetext = data[0].Lot_Acreage_From+"-"+data[0].Lot_Acreage_To,  lsubdivtext =data[0].Subdivison;
                    llotfeaturestext = data[0].Lot_Features,lwatertext = data[0].Water_Type, lsewerText = data[0].Sewer_Type;
                    LotSummerNew();
                    $("#inputlotsearchname").val(data[0].Search_Name);
                    $("#lotsinputMinutes").val(data[0].DrivingDistMinutes);
                    $("#lotsinputAddress").val(data[0].DrivingDistLocation);
                    $("#lotsinputSchool").val(data[0].Schools);
                    $("#lotsinputSubDivision").val(data[0].Subdivison);
                    //Button Groups Binding
                    $("#"+$(".lotswatertypebtngroup>a").filter("[data-index='Any']").prop('id')+"").removeClass('active');
                    $("#"+$(".lotsswerbtngroup>a").filter("[data-index='Any']").prop('id')+"").removeClass('active');
                    $(".lotsnotebtngroup>a").siblings().removeClass('active');

                    $("#"+$(".lotsnotebtngroup>a").filter("[data-index='" + data[0].NotificationFrequency + "']").prop('id')+"").addClass('active');
                    $("#"+$(".lotswatertypebtngroup>a").filter("[data-index='" + data[0].Water_Type + "']").prop('id')+"").addClass('active');
                    $("#"+$(".lotsswerbtngroup>a").filter("[data-index='" + data[0].Sewer_Type + "']").prop('id')+"").addClass('active');
                    //Binding Multi Select Property Type
                    var lp=data[0].Property_Type;
                    if(lp=="Any")
                    {
                        $("#lotspropertytype").multiselect('selectAll', false);
                        //$("#lotspropertytype").multiselect('updateButtonText');
                    }
                    else{
                        if(lp.indexOf(',') != -1)
                        {
                            var dataarray=lp.split(",");
                            $("#lotspropertytype").multiselect("select",dataarray);
                        }
                        else
                        {
                            $("#lotspropertytype").multiselect("select",lp);
                        }
                    }

                    /////////////////////////
                    var llf=data[0].Lot_Features;
                    if(llf=="Any")
                    {
                        $("#lotslotfeatures").multiselect('selectAll', false);
                        //$("#lotslotfeatures").multiselect('updateButtonText');
                    }
                    else{
                        if(llf.indexOf(',') != -1)
                        {
                            var dataarray=llf.split(",");
                            $("#lotslotfeatures").multiselect("select",dataarray);
                        }
                        else
                        {
                            $("#lotslotfeatures").multiselect("select",llf);
                        }
                    }
                    $("#lots_formatted_from_price").html(getFormattedPrice(data[0].Price_From));
                    $("#lots_formatted_to_price").html(getFormattedPrice(data[0].Price_To));
                    $("#lotsslider-range").slider('values', 0, getIndexValue(data[0].Price_From)); // sets first handle (index 0) to 50
                    $("#lotsslider-range").slider('values', 1, getIndexValue(data[0].Price_To));
                    $("#lotsprice").text(data[0].Price_From + "-" +data[0].Price_To);
                    lpricetext =  $("#lotsprice").text();
                    $("#lots_formatted_from_lotsacrg").html((data[0].Lot_Acreage_From == "0" ? "No Min" : data[0].Lot_Acreage_From + " acres"));
                    $("#lots_formatted_to_lotsacrg").html((data[0].Lot_Acreage_To == "50" ? "No Max" : data[0].Lot_Acreage_To + " acres"));
                    $("#lotsslider-range2").slider('values', 0, getLotAcrgIndexValue(data[0].Lot_Acreage_From)); // sets first handle (index 0) to 50
                    $("#lotsslider-range2").slider('values', 1, getLotAcrgIndexValue(data[0].Lot_Acreage_To));
                    $("#lotslotacreage").text(data[0].Lot_Acreage_From + "-" +data[0].Lot_Acreage_To);
                    llotacreagetext = $("#lotslotacreage").text();
                    LotSummerNew();
                    schools_ele=data[0].Elementary,schools_middle=data[0].Middle,schools_high=data[0].High;
                    citynameslists=data[0].CitiesList,countprop=data[0].ResultCount;
                    lotsfilterobj = [filtertype, classtype, lminutetext, laddresstext, lpropertytext,
                       lpricetext, llotacreagetext, schools_ele, lsubdivtext,llotfeaturestext , lwatertext , lsewerText,sname,pk_savedfilterID,lnotefreq,
                       citynameslists,countprop,sssortbyid,schools_middle,schools_high,polygonpath,boundarypath,zoomlevel];
                    $('#LotLandsModalFilters').modal('hide');
                    $.ajax({
                        url: "@Url.Action("SearchLotsFilterProperties", "SavedSearch")",
                        type: "POST",
                        dataType: "json",
                        contentType: "application/json; charset=utf-8",
                        data: JSON.stringify(lotsfilterobj),
                        success: function (res) {
                            if (res.length>0) {
                                $("#footer").show();
                                $("#RightListView").show();
                                $("#expanddiv").show();
                                $(".iconsdiv").show();
                                $("#googlemaps").width('84%');
                                $("#listcount").text(res.length);
                                $('#Totallistcount').text(res[0].NoOfListings)
                                initialize(res);
                                RightSideListView(res);
                                if(poly!="")
                                    poly.setMap(map);
                            }
                            else {
                                $("#footer").hide();
                                $("#RightListView").hide();
                                $("#expanddiv").hide();
                                $(".iconsdiv").hide();
                                initialize(res);
                                $("#googlemaps").width('100%');
                                $("#heading").text("Alert!");
                                $("#content_text").text("No Properties found for your saved search");
                                $("#AlertPopup").modal("show");
                                //alert("Error :" + res);
                                $('#LotLandsModalFilters').modal('hide');
                                //SaveSearchEvt();
                            }
                        },
                        error :function(res){
                            $("#footer").hide();
                            $("#RightListView").hide();
                            $("#expanddiv").hide();
                            $(".iconsdiv").hide();
                            initialize(res);
                            //alert("Error : No Data");
                            $("#googlemaps").width('100%');
                            $("#heading").text("Alert!");
                            $("#content_text").text("In Error :No Properties found for your saved search :"+res);
                            $("#AlertPopup").modal("show");
                            $('#LotLandsModalFilters').modal('hide');
                            // SaveSearchEvt();
                        },
                    });
                }
                else
                {
                    $("#heading").text("Alert!");
                    $("#content_text").text("Filter Type Notfound in your saved Search");
                    $("#AlertPopup").modal("show");
                }
            },
            error:function(data){
                $("#spinner").css("display", "none");
                //$("#heading").text("Alert!");
                //$("#content_text").text("Somethting Went wrong in getting Data:"+data);
                //$("#AlertPopup").modal("show");
            },
            complete:function(data){
                $("#spinner").css("display", "block");
            }
        });
    }
    //Home filters Apply
    $("#HFiltersApplyBtn").click(function(){
        sname=$("#inputsearchname").val();
        homefilterobj = [filtertype, classtype, minutestext, addresstext, propertytext,
               $("#price").text(), bathroomstext, bedroomstext, $("#sqft").text(), schools_ele, garagetext, masterbedroomtext,
               $("#lotacreage").text(), storiestext, subdivtext, garagecaptext, agetext,
           lotfeaturestext, appliancestext, foundationtypetext, masterfeaturetext, extfeaturestext,
           laundrytext, intfeaturestext, fireplacetext, flooringtext, communitytext, heatsystemtext, watertext,
           heatertypetext, sewertext,sname,pk_savedfilterID,notefreq,citynameslists,countprop,sssortbyid,schools_middle,
           schools_high,polygonpath,boundarypath,zoomlevel];
        $('#HomeModalFilters').modal('hide');
        $.ajax({
            url: "@Url.Action("SearchFilterProperties", "SavedSearch")",
            type: "POST",
            dataType: "json",
            contentType: "application/json; charset=utf-8",
            data: JSON.stringify(homefilterobj),
            success: function (res) {
                if (res.length>0) {
                    $("#footer").show();
                    $("#RightListView").show();
                    $("#expanddiv").show();
                    $(".iconsdiv").show();
                    $("#listcount").text(res.length);
                    $('#Totallistcount').text(res[0].NoOfListings)
                    $("#googlemaps").width('84%');
                    initialize(res);
                    RightSideListView(res);
                    countprop=res.length;
                    updatehomfilters(homefilterobj);
                }
                else {
                    $("#footer").hide();
                    $("#RightListView").show();
                    $("#expanddiv").hide();
                    $(".iconsdiv").hide();
                    $("#googlemaps").width('100%');
                    $("#heading").text("Alert!");
                    $("#content_text").text("No Properties Found on your Search"+res);
                    $("#AlertPopup").modal("show");
                    $('#HomeModalFilters').modal('hide');
                    updatehomfilters(homefilterobj);
                    //SaveSearchEvt();
                }
            },
            error :function(){
                $("#footer").hide();
                $("#RightListView").hide();
                $("#expanddiv").hide();
                $(".iconsdiv").hide();
                $("#heading").text("Alert!");
                $("#content_text").text("Somethting Went wrong in getting Data:");
                $("#AlertPopup").modal("show");
                $('#HomeModalFilters').modal('hide');
            },
        });
    });

    //Rental filters Apply
    $("#rentalApplybtn").click(function(){
        sname=$("#inputrentalsearchname").val();
       rentalfilterobj = [filtertype, classtype, rminutestext, raddresstext, rpropertytext,
            rpricetext, rbathroomstext, rbedroomstext, rsqfttext, schools_ele, rparkingtext,rgaragecaptext,
            ragetext,sname,pk_savedfilterID,rnotefreq,citynameslists,countprop,sssortbyid,schools_middle,schools_high,polygonpath,boundarypath,zoomlevel];
        $('#RentalModalFilters').modal('hide');
        $.ajax({
            url: "@Url.Action("SearchRentalFilterProperties", "SavedSearch")",
            type: "POST",
            dataType: "json",
            contentType: "application/json; charset=utf-8",
            data: JSON.stringify(rentalfilterobj),
            success: function (res) {
                if (res.length>0) {
                    $("#footer").show();
                    $("#RightListView").show();
                    $("#expanddiv").show();
                    $(".iconsdiv").show();
                    $("#listcount").text(res.length);
                    $('#Totallistcount').text(res[0].NoOfListings)
                    $("#googlemaps").width('84%');
                    initialize(res);
                    RightSideListView(res);
                    updaterentalfilters(rentalfilterobj);
                }
                else {
                    $("#footer").hide();
                    $("#RightListView").show();
                    $("#expanddiv").hide();
                    $(".iconsdiv").hide();
                    $("#googlemaps").width('100%');
                    //initialize(data);
                    $("#heading").text("Alert!");
                    $("#content_text").text("No Properties Found on your Search");
                    $("#AlertPopup").modal("show");
                    $('#RentalModalFilters').modal('hide');
                    updaterentalfilters(rentalfilterobj);
                    // SaveSearchEvt();
                }
            },
            error :function(){
                $("#footer").hide();
                $("#RightListView").hide();
                $("#expanddiv").hide();
                $(".iconsdiv").hide();
                $("#heading").text("Alert!");
                $("#content_text").text("Somethting Went wrong in getting Data:");
                $("#AlertPopup").modal("show");
                $('#RentalModalFilters').modal('hide');
            },
        });
    });
    // Lots Filter Apply Button
    $("#lotsFiltersApplyBtn").click(function(){
        sname=$("#inputlotsearchname").val();
        lotsfilterobj = [filtertype, classtype, lminutetext, laddresstext, lpropertytext,
           lpricetext, llotacreagetext, schools_ele, lsubdivtext,llotfeaturestext , lwatertext , lsewerText,sname,pk_savedfilterID,
           lnotefreq,citynameslists,countprop,sssortbyid,schools_middle,schools_high,polygonpath,boundarypath,zoomlevel];
        $('#LotLandsModalFilters').modal('hide');
        $.ajax({
            url: "@Url.Action("SearchLotsFilterProperties", "SavedSearch")",
            type: "POST",
            dataType: "json",
            contentType: "application/json; charset=utf-8",
            data: JSON.stringify(lotsfilterobj),
            success: function (res) {
                if (res.length>0) {
                    $("#footer").show();
                    $("#RightListView").show();
                    $("#expanddiv").show();
                    $(".iconsdiv").show();
                    $("#listcount").text(res.length);
                    $('#Totallistcount').text(res[0].NoOfListings)
                    $("#googlemaps").width('84%');
                    initialize(res);
                    RightSideListView(res);
                    updatelotsfilters(lotsfilterobj)
                }
                else {
                    $("#footer").hide();
                    $("#RightListView").show();
                    $("#expanddiv").hide();
                    $(".iconsdiv").hide();
                    $("#googlemaps").width('100%');
                    //initialize(data);
                    $("#heading").text("Alert!");
                    $("#content_text").text("No Properties Found on your Search"+res);
                    $("#AlertPopup").modal("show");
                    $('#LotLandsModalFilters').modal('hide');
                    updatelotsfilters(lotsfilterobj)
                    // SaveSearchEvt();
                }
            },
            error :function(){
                $("#footer").hide();
                $("#RightListView").hide();
                $("#expanddiv").hide();
                $(".iconsdiv").hide();
                $("#heading").text("Alert!");
                $("#content_text").text("Somethting Went wrong in getting Data:");
                $("#AlertPopup").modal("show");alert("Error : No Data");
                $('#LotLandsModalFilters').modal('hide');
            },
        });
    });
    // Event To Open Appropriate Modal Popup Based On Filter Type:
    $("#searchfilters").click(function(){
        if(filtertype=="1")
        {
            $('#HomeModalFilters').modal('show');
            $('#tabs-demo2-1').click();
        }
        if(filtertype=="2")
        {
            $('#RentalsModalFilters').modal('show');
        }
        if(filtertype=="3")
        {
            $('#LotLandsModalFilters').modal('show');
            $('#basicfiltertab').click();
        }
        //---------Calling Function to Know the Sliders Width
    });
 
    function updatehomfilters(){
    
        $('#HomeModalFilters').modal('hide');
        $.ajax({
            url: "@Url.Action("UpdateHomeSearchFilters", "SavedSearch")",
            type: "POST",
            datatype: "json",
            contentType: "application/json; charset=utf-8",
            data: JSON.stringify(homefilterobj),
            success: function (res) {
                if (res.length>0) {

                    $('#HomeModalFilters').modal('hide');
                    $("#heading").text("Success!");
                    $("#content_text").text("Home filters updated successfully");
                    $("#AlertPopup").modal("show");

                }
                else {
                    $("#heading").text("Alert!");
                    $("#content_text").text("error : unable to update home filters" + res);
                    $("#AlertPopup").modal("show");
                    //alert("error : unable to update home filters" + res);
                    $('#HomeModalFilters').modal('hide');
                }
                //SaveSearchEvt();
            },
            error :function(){
                $("#heading").text("Alert!");
                $("#content_text").text("Somethting Went wrong to update:");
                $("#AlertPopup").modal("show");alert("Error : No Data");
                //alert("error : no data for seletcted home type");

            },
        });
    }
    function updaterentalfilters(rentalfilterobj){
        $('#RentalsModalFilters').modal('hide');
        $.ajax({
            url: "@Url.Action("UpdateRentalSearchFilters", "SavedSearch")",
            type: "POST",
            datatype: "json",
            contentType: "application/json; charset=utf-8",
            data: JSON.stringify(rentalfilterobj),
            success: function (res) {
                if (res.length>0) {

                    $('#RentalsModalFilters').modal('hide');
                    $("#heading").text("Success!");
                    $("#content_text").text("Rental filters updated successfully");
                    $("#AlertPopup").modal("show");
                }
                else {
                    $("#heading").text("Alert!");
                    $("#content_text").text("error : unable to update home filters" + res);
                    $("#AlertPopup").modal("show");
                    $('#RentalsModalFilters').modal('hide');
                }
                //SaveSearchEvt();
            },
            error :function(){
                $("#heading").text("Alert!");
                $("#content_text").text("Somethting Went wrong in to update:");
                $("#AlertPopup").modal("show");alert("Error : No Data");

            },
        });
    }
    function updatelotsfilters(lotsfilterobj){
        $('#LotLandsModalFilters').modal('hide');
        $.ajax({
            url: "@Url.Action("UpdateLotsSearchFilters", "SavedSearch")",
            type: "POST",
            datatype: "json",
            contentType: "application/json; charset=utf-8",
            data: JSON.stringify(lotsfilterobj),
            success: function (res) {
                if (res.length>0) {
                    $("#heading").text("Success!");
                    $("#content_text").text("Lot/Lands filters updated successfully");
                    $("#AlertPopup").modal("show");
                }
                else {
                    $("#heading").text("Alert!");
                    $("#content_text").text("error : unable to update home filters" + res);
                    $("#AlertPopup").modal("show");
                    $('#LotLandsModalFilters').modal('hide');
                }
               // SaveSearchEvt();
            },
            error :function(){
                $("#heading").text("Alert!");
                $("#content_text").text("Somethting Went wrong in to update:");
                $("#AlertPopup").modal("show");alert("Error : No Data");
                $('#LotLandsModalFilters').modal('hide');
            },
        });
    }
</script>
<script>
    var ddStatus = "Show";
    var totalsearchname="";
    var TotalImages=[];
   
    $(document).ready(function () {
        load()
        $("#elementaryschoolsdiv,#rentalelementaryschoolsdiv,#lotselementaryschoolsdiv").hide();
        $("#middleschoolsdiv,#rentalmiddleschoolsdiv,#lotsmiddleschoolsdiv").hide();
        $("#highschoolsdiv,#rentalhighschoolsdiv,#lotshighschoolsdiv").hide();
        $('#msgfooter').hide();
        $('#ShareProp_Popup').hide();
        $('a[href="/Customer/SavedSearch/Index"]').parents('li,ul').addClass('active');
        $(".btn-expand").click(function (e) {
            $('.collapsible').toggle("slide", {
                direction: "right"
            }, 800);
        });
        //To bind DropDown
        getsearchdata();
        //Reinits();
        //To Reset Slider Vaues
        homefiltersliderevetns();
        rentalfiltersliderevetns();
        lotsfiltersliderevetns();
        //To disply First Tab in Popups
        $('#HomeModalFilters').on('shown.bs.modal', function () {
            $('.nav-tabs a[href="#tabs-demo2-area1"]').tab('show');
        });
        $('#LotLandsModalFilters').on('shown.bs.modal', function () {
            $('.nav-tabs a[href="#tabs-demo3-area1"]').tab('show');
        });
        $("#searchfilters").prop("disabled",true);
        $("#deletefilters").prop("disabled",true);
        $('#ddselect').click(function () {
            if (ddStatus == "Show") {
                $("#ddcontent").css("display", "block");
                $("#ddangle").addClass("glyphicon glyphicon-menu-up");
                ddStatus = "Hide";
            }
            else {
                $("#ddcontent").css("display", "none");
                $("#ddangle").removeClass("glyphicon glyphicon-menu-up");
                $("#ddangle").addClass("glyphicon glyphicon-menu-down");
                ddStatus = "Show";
            }
        });
    });
    var sssortbyid="1";
    //Script to Auto Complete Addresses in Modal Popups
    google.maps.event.addDomListener(window, 'load', function () {
        var places = new google.maps.places.Autocomplete(document.getElementById('inputAddress'));
        var places = new google.maps.places.Autocomplete(document.getElementById('rentalinputAddress'));
        var places = new google.maps.places.Autocomplete(document.getElementById('lotsinputAddress'));
    });
    //Map Functionality
    var m = []; var pos; var city; var geocoder;
    var mymarkers = [];// array used to push the latitude and longitude for reference while removing options
    // function which executes on window load
    function Reinits() {
        //Code snippet to get Current location and city
        if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(function (position) {
                geocoder = new google.maps.Geocoder();
                //alert(position.coords.latitude+","+ position.coords.longitude);
                //pos = new google.maps.LatLng(34.8526, -82.3940);
                pos = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);
                geocoder.geocode({ 'latLng': pos }, function (results, status) {
                    // alert(status)
                    if (status == google.maps.GeocoderStatus.OK) {
                        //formatted address
                        var address = results[0].formatted_address;
                        //alert("address = " + address);
                        var value = address.split(",");
                        count = value.length;
                        country = value[count - 1];
                        state = value[count - 2];
                        city = value[count - 3];
                        city = city.trim();
                        getdatabycurrentlocataion(city);
                    } else {
                        alert("Geocoder failed due to: " + status);
                    }
                });
            });
        }
        else {
            alert('browser  not supported');
        }
    }
    //function to get the data from DB based on current location(city)
    function getdatabycurrentlocataion(city) {
        $.ajax({
            url: "/Customer/SearchFilter/GetData/",
            type: "POST",
            dataType: "json",
            data: { city: city ,SortBy: sssortbyid},
            success: function (data) {
                if(sssortbyid=="1")
                {
                    initialize(data);
                    RightSideListView(data);
                }
                else
                {
                    RightSideListView(data);
                }
                $("#listcount").text(data.length);
                $('#Totallistcount').text(res[0].NoOfListings)
            },
            error: function () {
                alert('nodata');
            }
        })
    }
    //Method to intialize the map for a Greenville city from service
    function initialize(data) {
        //m=[],mymarkers=[];
        if(data.length>6)
        {
            $("#over_map").css("margin-right", "0%!important");
            $("#expanddiv").show();
            $("#rightdiv").show();
        }
        else
        {
            $("#over_map").css("margin-right", "0%");
            $("#expanddiv").hide();
        }

        var saletype;
        var latLng = new google.maps.LatLng(34.8526, -82.3940);
        map = new google.maps.Map(document.getElementById('googlemaps'), {
            zoom: 10, // initialize zoom level - the max value is 21
            minZoom: 6,
            // maxZoom: 16,
            streetViewControl: false, // hide the yellow Street View pegman
            //scaleControl: false,
            //draggable: false,
            fullscreenControl: false,
            zoomControl: false,
            mapTypeControl: false,
            mapTypeId: google.maps.MapTypeId.ROADMAP,
            center: latLng,
        });
        // For each loop to create markers and assign appropriate icons based on class type
        m=[],mymarkers=[];
        $.each(data, function (i, item) {

            var icon = {
                url: '',
                //scaledSize: new google.maps.Size(22, 22),
                //anchor: new google.maps.Point(0, 0),
            };
            var openhouse='';
            if(item.Class=="Residential" || item.Class=="Lots/Land"){
                if (item.Sale_Rent == "Active") {
                    saletype="<label style=''>For Sale</label>";
                    if (item.Is_viewd == "YES") {
                        icon.url = '/img/viewed_greenpin.png'
                    }
                    if (item.Is_Favorite == "YES") {
                        icon.url = '/img/fav_greenpin.png'
                    }
                    if (item.Is_Favorite == "NO" && item.Is_viewd== "NO")
                        icon.url = '/img/Green_legend_Menu.png'
                }
                else if (item.Sale_Rent == "Pending" || item.Sale_Rent=="Contingency Contract") {
                    saletype="<label style=''>Under Contract</label>";
                    if (item.Is_viewd == "YES") {
                        icon.url = '/img/viewed_yellowpin.png'
                    }
                    if (item.Is_Favorite == "YES") {
                        icon.url = '/img/fav_yellowpin.png'
                    }
                    if (item.Is_Favorite == "NO" && item.Is_viewd== "NO")
                        icon.url = '/img/yellow_legendMenu.png'
                }
                else if (item.Sale_Rent == "Sold") {
                    saletype="<label style=''>Sold</label>";
                    if (item.Is_viewd == "YES") {
                        icon.url = '/img/viewed_redpin.png'
                    }
                    if (item.Is_Favorite == "YES") {
                        icon.url = '/img/fav_redpin.png'
                    }
                    if (item.Is_Favorite == "NO" && item.Is_viewd== "NO")
                        icon.url = '/img/red_legendMenu.png'
                }
                else if(item.Sale_Rent == "OpenHouse")
                {
                    icon.url = '/img/OpenHousefullBlue.png';
                     openhouse='<div class="col-sm-12" style="border-radius:5px 5px;font-size:12px;background-color:blue;text-align:center;color:#fff">'+item.OpenHouseDate+'  '+item.OpenHouseTime+'</div>';
                }
            }
            else if (item.Class == "Rental"){
                saletype="<label style=''>Rental</label>";
                if (item.Is_viewd == "YES") {
                    icon.url = '/img/viewed_graypin.png'
                }
                if (item.Is_Favorite == "YES") {
                    icon.url = '/img/fav_gray.png'
                }
                if (item.Is_Favorite == "NO" && item.Is_viewd== "NO")
                    icon.url = '/img/gray_legendMenu.png'
            }
            var Latt = item.GeoLatitude;
            var Longg = item.GeoLongitude;

            var marker = new google.maps.Marker({
                position: new google.maps.LatLng(Latt, Longg),
                map: map,
                icon: icon,
                anchor: new google.maps.Point(6, 12),
                optimized: false,
                title: item.MLSId,
                id:item.MLSId
            });
            //var labelText = "<div id='pricecontent' class='map-arrowup'><span>"+ratingprice(item.ListingPrice)+"</span></div>";

            //var myOptions = {
            //    content: labelText,
            //    boxStyle: {
            //        border: "none", //1px solid black"
            //        textAlign: "center",
            //        fontSize: "7pt",
            //        //width: "10px",
            //    },
            //    disableAutoPan: true,
            //    pixelOffset: new google.maps.Size(-20, 8),
            //    position: new google.maps.LatLng(Latt, Longg),
            //    closeBoxURL: "",
            //    isHidden: false,
            //    pane: "mapPane",
            //    enableEventPropagation: true
            //};
            //ibLabel[i] = new InfoBox(myOptions);
            ////ibLabel[i].open(map);
            
            marker.addListener('click', function () {
                //map.setCenter(marker.getPosition());
                if(usertypeid=="2"){
                    AgentFullDetailsView(AgentId, item.MLSId);
                }
                else{
                    CustomerFullViewListing(item.MLSId);
                }
                // SaveAsViewed(item.MLSId);
            });
            var timeoutId = null;
            marker.addListener('mouseover', function () {
                //infowindow.open(map,marker);
                if(map.getZoom()>9)
                {
                    timeoutId = window.setTimeout(function(){
                        infowindow.open(map,marker);
                    }, 800);
                }
            });
            marker.addListener('mouseout', function () {
                window.clearTimeout(timeoutId)
                infowindow.close(map,marker);
            });
            var price = (item.ListingPrice + "").replace(/(\d)(?=(\d{3})+(?!\d))/g, "$1,");
            var Listing="$"+price;
            var iw_img_src="";
            if(item.Photolocation!="" && item.Photolocation!=null )
            {
                if(item.Photolocation.indexOf(',')>-1)
                    iw_img_src=item.Photolocation.split(',')[0];
                else
                    iw_img_src=item.Photolocation;
            }
            else
                iw_img_src="http://maps.marnoto.com/en/5wayscustomizeinfowindow/images/vistalegre.jpg";
            var content = '<div class="col-sm-12" style="overflow-x:hidden;padding:0;">' +openhouse+
                                '<div class=" col-sm-8" style="margin-left:-15px;padding:0;"><img src="'+iw_img_src+'" height="50" width="75"></div>' +
                                '<div class=" col-sm-4" id="salecolor" style="margin-left:-15px;padding:0;"><span>'+saletype+'</span><span style="font-weight:Bold;font-size:13px;color:#ff6937">'+Listing+'</span></div>'+
                                '<div class=" col-sm-6" style="padding:0;">&nbsp</div>'+
                                '<div class=" col-sm-6" style="padding:0;margin-left:-5px;"><span class="lblcount">'+item.Bedrooms+'</span> BD &nbsp;<span class="lblcount">'+item.BathRooms+'</span> BA'+'</div></div>' ;
            var infowindow = new google.maps.InfoWindow({
                content: content,
                maxWidth: 150
            })
            m.push(marker);// pushing every marker value into the array for reference
            var l = Latt + "," + Longg;
            mymarkers.push(l);
        });
        $("#citieslist").text(citynameslists);
        //draw pencil
        $("#drawpoly").click(function (e) {
            $("#search").text('');
            $("#footer").hide();
            $(".header-menu").css("pointer-events","none");
            $("#RightsideDivData").css("pointer-events","none");
            // $(".sub-left-menu").css("pointer-events","none");
            $(".iconsdiv").css("pointer-events","none");
            if(poly!="")
                poly.setMap(null);
            for (var i = 0; i < m.length; i++) {
                //ibLabel[i].close(map);
                m[i].setMap(null);
            }
            disable()
            google.maps.event.addDomListener(map.getDiv(), 'mousedown', function (e) {
                drawFreeHand()
            });
            // }
        });
        //// Setup the click event listener - zoomIn
        //google.maps.event.addDomListener(zoomInButton, 'click', function (e) {
        //    map.setZoom(map.getZoom() + 1);
        //    //zoomchanged(map.getZoom());
        //});
        //// Setup the click event listener - zoomOut
        //google.maps.event.addDomListener(zoomOutButton, 'click', function () {
        //    map.setZoom(map.getZoom() - 1);
        //    //zoomchanged(map.getZoom());
        //});
        //Zoom_changed event listener
        google.maps.event.addDomListener(zoomInButton, 'click', ZoomPlus) ;
        google.maps.event.addDomListener(zoomOutButton, 'click', ZommMinus) ;
        //Zoom_changed event listener
        map.addListener('zoom_changed', function () {
            zoomchanged(map.getZoom());
        });
        //Event to get current posotion
        $("#mylocation").click(function (e) {
            // alert();
            //if ($('#myloc').is(':checked')) {
            //    location.reload();
            //}
            //else {
                geolocate();
            //}
        });
        $("#mapview").click(function () {
            $("#sat").attr("src", "/img/sat.png")
            var p = $("#map").attr('src');
            if (p == "/img/map.png")
                $("#map").attr("src", "/img/map2.png")
            map.setMapTypeId(google.maps.MapTypeId.ROADMAP);
        });
        $("#satview").click(function () {
            $("#map").attr("src", "/img/map.png")
            var p = $("#sat").attr('src');
            if (p == "/img/sat.png")
                $("#sat").attr("src", "/img/sat2.png")
            map.setMapTypeId(google.maps.MapTypeId.SATELLITE)
        });
        ////////////////
        var count;
        listofMLSIDs=[];
        google.maps.event.addListener(map, 'bounds_changed', function()
        {
            listofMLSIDs=[];
            //$("#listcount").text('');
            count=0;
            for (var i = 0; i < m.length; i++)
            {
                if (map.getBounds().contains(m[i].getPosition()))
                {
                    m[i].setMap(map);
                    if(listofMLSIDs=="")
                        listofMLSIDs=m[i].get("id");
                    else
                        listofMLSIDs=listofMLSIDs+","+m[i].get("id");
                    count=count+1;
                }
                else
                {
                    m[i].setMap(null);
                }
            }
            setTimeout(getListbyMultipleMLSIDs(listofMLSIDs,0),1000);
            zoomchanged(map.getZoom());
        });
    }
    var mapupdater;
    //Function to zoomm in at only one step
    function ZoomPlus() {
        clearTimeout(mapupdater);
        mapupdater=setTimeout( map.setZoom(map.getZoom() + 1),500);
    }
    //Function to zoomm out at only one step
    function ZommMinus() {
        clearTimeout(mapupdater);
        mapupdater=setTimeout( map.setZoom(map.getZoom() - 1),500);
    }
    function triggerMouseOver(mlsid) {
        for (var i = 0; i < m.length; i++)
        {
            if(m[i].get("id")==mlsid)
            {
                google.maps.event.trigger(m[i], 'mouseover');
            }
        }
    }
    function triggerMouseOut(mlsid) {
        for (var i = 0; i < m.length; i++)
        {
            if(m[i].get("id")==mlsid)
            {
                google.maps.event.trigger(m[i], 'mouseout');
            }
        }
    }
    var listofMLSIDs=[];
    //function to get the properties based on multiple MLSIds on polygon
    function getListbyMultipleMLSIDs(MLSID,Sortby) {
        $.ajax({
            url: "/Customer/SearchFilter/GetListByMultipleMLSIDs/",
            type: "POST",
            dataType: "json",
            data: { MLSIds: MLSID,Sortby:Sortby },
            success: function (data) {
                if (data.length>0) {
                    //$("#footer").show();
                    RightSideListView(data);
                    $("#listcount").text(data.length);
                }
                else {
                }
            },
        });
    }
    function RightSideListView(data) {
        $("#RightListView").html('');
        if(data.length>6)
        {
            $("#over_map").css("margin-right", "0%");
            $("#CollDiv").show();
            $("#rightdiv").show();
        }
        else
        {
            $("#over_map").css("margin-right", "0%");
            $("#CollDiv").hide();
        }
        var tab = $('<div style="background-color: white;margin-top:10px;" id="RightsideDivData"></div>');
        var AlinVar = 0;
        var ImgfavIdDyn = "FavImg";
        var UnFavUrl = "/img/favoriteunfill.png";
        var FavUrl = "/img/hearticon.png";
        var isFav = "";
        var isFavUrl = "";
        TotalImages=[],middle_schools=[],ele_schools=[],high_schools=[],AllSubDivisionNames=[],citynameslists="";
        $.each(data, function (i, item) {

            if(data[i].City!=null)
            {
                // citynameslists=citynameslists+","+data[i].City;
                if(citynameslists=="")
                {
                    citynameslists=data[i].City;
                }
                else
                {
                    if(citynameslists.toString().indexOf(data[i].City)!= -1)
                    {}
                    else{
                        citynameslists=citynameslists+","+data[i].City;
                    }
                }
            }
            else
                citynameslists=citynameslists;
            // To load distinct Middile,High,Elementary schools and sub divisions
            if(data[i].Middle!=null && data[i].Middle!="" && data[i].Middle!='null' && data[i].Middle!='Not Listed'){
                if($.inArray(data[i].Middle,middle_schools) != '-1'){
                }
                else
                    middle_schools.push(data[i].Middle);
            }//middle Schools
            if(data[i].Elementary!=null && data[i].Elementary!="" && data[i].Elementary!='null' && data[i].Elementary!='Not Listed'){
                if($.inArray(data[i].Elementary,ele_schools) != '-1'){
                }
                else
                {
                    ele_schools.push(data[i].Elementary);
                }
            } //Elementary Schools
            if(data[i].High!=null && data[i].High!="" && data[i].High!='null' && data[i].High!='Not Listed'){
                if($.inArray(data[i].High,high_schools) != '-1'){
                }
                else
                    high_schools.push(data[i].High);
            }//High Schools
            if(data[i].Subdiv!=null && data[i].Subdiv!="" && data[i].Subdiv!='null' && data[i].Subdiv!='Not Listed'){
                if($.inArray(data[i].Subdiv,AllSubDivisionNames) != '-1'){
                }
                else
                    AllSubDivisionNames.push(data[i].Subdiv);
            }//Sub AllSubDivisionNames

            var PhotosURL=[];
            if(item.Photolocation!="" && item.Photolocation!=null && item.Photolocation!=",")
            {
                TotalImages.push(item.Photolocation);
                //alert(item.Photolocation);
                if(TotalImages.length>0)
                {
                    if(TotalImages.length=="0")
                        PhotosURL=item.Photolocation;
                    else
                        PhotosURL=item.Photolocation.split(',');
                }
                else{
                    PhotosURL[0]='/img/NoImage.png';
                }
            }
            else{
                PhotosURL[0]='/img/NoImage.png';
            }
            var BtnPrevImgId="Prev"+item.MLSId;
            var BtnNextImgId="Next"+item.MLSId;
            var DivImgId="img"+item.MLSId;
            var Is_viewedUrl = "";
            ImgfavIdDyn = ImgfavIdDyn + item.MLSId;
            if (item.Is_Favorite == "NO") {
                isFavUrl = UnFavUrl;
                isFav = 0;
            }
            else {
                isFavUrl = FavUrl;
                isFav = 1;
            }
            var iconurl = "";
            if (item.Class == "Rental") {
                if(item.Is_Favorite=="YES"){
                    iconurl = '/img/fav_gray.png'
                }
                else if (item.Is_viewd == "YES") {
                    iconurl = '/img/viewed_graypin.png'
                }
                else
                    iconurl = '/img/gray_legendMenu.png'
            }
            else if (item.Sale_Rent == "Active") {
                if(item.Is_Favorite=="YES"){
                    iconurl = '/img/fav_greenpin.png'
                }
                else if (item.Is_viewd == "YES") {
                    iconurl = '/img/viewed_greenpin.png'
                }
                else
                    iconurl = '/img/Green_legend_Menu.png'
            }
            else if (item.Sale_Rent == "Pending" || item.Sale_Rent=="Contingency Contract") {
                if(item.Is_Favorite=="YES"){
                    iconurl = '/img/fav_yellowpin.png'
                }
                else if (item.Is_viewd == "YES") {
                    iconurl = '/img/viewed_yellowpin.png'
                }
                else
                    iconurl = '/img/yellow_legendMenu.png'
            }
            else if (item.Sale_Rent == "Sold") {
                if(item.Is_Favorite=="YES"){
                    iconurl = '/img/fav_redpin.png'
                }
                else if (item.Is_viewd == "YES") {
                    iconurl = '/img/viewed_redpin.png'
                }
                else
                    iconurl = '/img/red_legendMenu.png'
            }
            else if(item.Sale_Rent == "OpenHouse")
            {
                iconurl = '/img/OpenHousefullBlue.png'

            }

            //which shows top o fthe every property

            if (item.Is_viewd == "YES") {
                if(item.Sale_Rent=="Active")
                    Is_viewedUrl = "/img/viewed_greenpin.png";
                if(item.Sale_Rent=="Pending" || item.Sale_Rent=="Contingency Contract")
                    Is_viewedUrl = "/img/viewed_yellowpin.png";
                if(item.Sale_Rent=="Sold")
                    Is_viewedUrl = "/img/viewed_redpin.png";
                if(item.Class=="Rental")
                    Is_viewedUrl = "/img/viewed_graypin.png";
                if(item.Sale_Rent=="OpenHouse")
                    Is_viewedUrl = "/img/OpenHousefullBlue.png";
            }
            if(Is_viewedUrl=="")
                var isviewImagediv="";
            else
                var isviewImagediv='<img src="' + Is_viewedUrl + '" width="20" height="20" alt=""/>';
            var number=item.ListingPrice;
            var num=  number.toLocaleString();
            var bedandbaths=item.Bedrooms + '<span style="color:#878a8c !important;font-weight:normal !important;"> Bedrooms</span> ' + '  ' + item.BathRooms + ' <span style="color:#878a8c !important;font-weight:normal !important;"> Bathrooms</span>';

            var listingprice=('<span style="color:#878a8c !important;font-weight:normal !important;"> Listing Price :</span> ' +item.ListingPrice);
            var sold=('<span style="color:#878a8c ;margin-left: 6px;font-weight:normal !important;"> Sold Price : </span> $ ' +item.SoldPrice.toLocaleString());
            // alert(item.ApproxAcres+'acres');

            if(item.Class=="Lots/Land"){
                bedandbaths='&nbsp;';
                if(item.Sale_Rent=="Active" ){
                    var acres=item.ApproxAcres+'&nbsp;'+'acres';
                    sold='&nbsp;';

                }
                else if (item.Sale_Rent == "Pending") {
                    var acres=item.ApproxAcres+'&nbsp;'+'acres';
                    sold='&nbsp;';
                }
                else if (item.Sale_Rent == "Sold") {
                    var acres=item.ApproxAcres+'&nbsp;'+'acres';

                }
            }
            if(item.Class=="Residential")
            {

                if(item.Sale_Rent=="Active" ){
                    var acres=item.ApproxAcres+'&nbsp;'+'sqft';
                    sold='&nbsp;';
                }
                else if (item.Sale_Rent == "Pending" || item.Sale_Rent=="Contingency Contract") {
                    var acres=item.ApproxAcres+'&nbsp;'+'sqft';
                    sold='&nbsp;';

                }
                else if (item.Sale_Rent == "Sold") {
                    var acres=item.ApproxAcres+'&nbsp;'+'sqft';
                }
            }
            if(item.Class=="Rental")
            {
                num=num+"/mo";
                sold='&nbsp;';
                listingprice='&nbsp;';
                if(item.ApproxAcres!="")
                {
                    var acres=item.ApproxAcres+'&nbsp;'+'sqft';
                }
                else
                {
                    var acres="<br>--";
                }
            }
            //else{
            //    if(item.Sale_Rent=="For Sale")
            //        Is_viewedUrl = "/img/Green_legend_Menu.png";
            //    if(item.Sale_Rent=="UnderConstruct")
            //        Is_viewedUrl = "/img/yellow_legendMenu.png";
            //    if(item.Sale_Rent=="Sold")
            //        Is_viewedUrl = "/img/red_legendMenu.png";heartm
            //    if(item.Sale_Rent=="Rental")
            //        Is_viewedUrl = "/img/gray_legendMenu.png";
            //}
            ////////var TableId = "tab" + item.MLSId;
            ////////var table = $('<table id=' + TableId + ' class="RightJqueryList" style="margin-left:10px; margin-bottom:10px; width:22%; float:left;border:1px solid #ff6937;"></table>');
            ////////var Row = $('<tr collapse="2" height="100px"></tr>');
            ////////Row.append('<div style="background: url(/img/picture_area.png); background-size: 100% 100%;background-repeat: no-repeat; height:100px;  width:200px" ><div class="col-sm-12" style="padding-right:5px"><div style="float: right;"><a href="#"> <img src="' + Is_viewedUrl + '" width="20" height="20" alt=""/></a><a class="rating" href="#"> <img  src=' + isFavUrl + ' width="20" height="20" alt="" onclick="return FavouriteChange(\'' + item.MLSId + '\',\'' + item.Is_Favorite + '\',\'' + ImgfavIdDyn + '\')" id=' + ImgfavIdDyn + ' style="text-decoration:none;"/></a></div></div><div class="col-sm-12" style="margin-top: 6%;"><a href="#">  <img src="/img/SliderBackArrow.png" width="21" height="29" alt="" style="margin-left: -9%;"></a> <a href="#">  <img src="/img/SliderNextArrow.png" width="21" height="29" alt="" style="float: right;margin-right: -9%;"/></a></div></div>');
            ////////table.append(Row);

            ////////var trow = $('<tr></tr>');
            ////////trow.append('<td><div class="rightlist_price"><img src=' + iconurl + ' width="20" height="20" style="margin-top:-7%; width:15px;height:15px;" alt=""/>' + '$' + " " + num+ '</td>');

            ////////trow.append('<td style="float:right; margin-top: -2.1%;  border: 0px !important; font-size:10px; color:#878a8c;margin-top:4%;padding-right:5px;"><a href="#" id='+item.MLSId+' onclick="return CustomerFullViewListing(\'' + item.MLSId + '\')" style="color:gray;">' + 'MLS#' + item.MLSId + '</a></td>');
            ////////trow.append('<td style="float:left; padding-left:16px;color:#FF5D26 !important;font-size:10px;font-weight:bold;">' + sold + '</td>');
            ////////table.append(trow);

            ////////var trow1 = $('<tr></tr>');
            ////////trow1.append('<td style="float:left; border: 0px !important; color:#FF5D26; font-size:10px;font-weight:bold;margin-top:5px;padding-left:5px;">'+bedandbaths+'</td>');
            ////////trow1.append('<td style="float:left;margin-right:-10px;border: 0px !important; color:#FF5D26; font-size:9px;margin-top:5px;padding-left:5px; ">' + acres + '</td>');
            ////////table.append(trow1);

            ////////var trow2 = $('<tr></tr>');
            ////////trow2.append('<div id="scrolldiv" style="margin-top:5px;padding-left:5px;height:40px;width:100%;font-size:11px;color:gray "><td style="float:left; border: 0px !important; font-size:11px; " colspan="2">' + item.ADDRESKKS + '</td></div>');
            ////////table.append(trow2);
            ////////ImgfavIdDyn = "FavImg";
            ////////tab.append(table);
            var TableId = "tab" + item.MLSId;
            var table = $('<div id=' + TableId + 'class="RightJqueryList" style="border-radius: 6px;margin-left:10px; margin-bottom:10px;float:left;border:1px solid #ff6937; width:200px;"></div>');
            var Row = $('<div></div>');
         if(item.Sale_Rent == "OpenHouse")
            {

                Row.append('<div class="col-sm-12" style="border-radius:5px;font-size:12px;background-color:blue;text-align:center;color:#fff">'+item.OpenHouseDate+'  '+item.OpenHouseTime+'</div>');
            }
            if(PhotosURL.length==1)
            {
                Row.append('<div onmouseover="triggerMouseOver('+item.MLSId+')" onmouseout="triggerMouseOut('+item.MLSId+')" style="margin-bottom:6px;border-radius:6px 6px 0px 0px;background: url('+PhotosURL[0]+'); background-size: 100% 100%;background-repeat: no-repeat; height:100px;" id="'+DivImgId+'"><div class="col-sm-12" style="padding-right:5px"><div style="float: right;">'+isviewImagediv+' <a href="#" style="text-decoration:none"> <img src=' + isFavUrl + ' width="20" height="20" alt="" onclick="return FavouriteChange(\'' + item.MLSId + '\',\'' + item.Is_Favorite + '\',\'' + ImgfavIdDyn + '\')" id=' + ImgfavIdDyn + ' style="text-decoration:none;"/></a></div></div><div class="col-sm-12" style="margin-top: 6%;"><a href="#">  <img src="/img/SliderBackArrow.png" onclick="SlideImage(\'' + i + '\',\'' + "-1" + '\',\'' + DivImgId + '\',\'' + item.MLSId + '\')" width="21" height="29" alt="" style="margin-left: -9%;" id="'+ BtnPrevImgId+'" hidden="hidden"/></a> <a href="#">  <img src="/img/SliderNextArrow.png" width="21" height="29" hidden="hidden" onclick="SlideImage(\'' + i + '\',\'' + "1" + '\',\'' + DivImgId + '\',\'' + item.MLSId + '\')" alt="" style="float: right;margin-right: -9%;" id="'+BtnNextImgId+'"/></a></div></div>');
            }
            else
            {
                Row.append('<div onmouseover="triggerMouseOver('+item.MLSId+')" onmouseout="triggerMouseOut('+item.MLSId+')" style="margin-bottom:6px;border-radius:6px 6px 0px 0px;background: url('+PhotosURL[0]+'); background-size: 100% 100%;background-repeat: no-repeat; height:100px;" id="'+DivImgId+'"><div class="col-sm-12" style="padding-right:5px"><div style="float: right;">'+isviewImagediv+'<a href="#" style="text-decoration:none"> <img src=' + isFavUrl + ' width="20" height="20" alt="" onclick="return FavouriteChange(\'' + item.MLSId + '\',\'' + item.Is_Favorite + '\',\'' + ImgfavIdDyn + '\')" id=' + ImgfavIdDyn + ' style="text-decoration:none;"/></a></div></div><div class="col-sm-12" style="margin-top: 6%;"><a href="#">  <img src="/img/SliderBackArrow.png" onclick="SlideImage(\'' + i + '\',\'' + "-1" + '\',\'' + DivImgId + '\',\'' + item.MLSId + '\')" width="21" height="29" alt="" style="margin-left: -9%;" id="'+ BtnPrevImgId+'" hidden="hidden"/></a> <a href="#">  <img src="/img/SliderNextArrow.png" width="21" height="29" onclick="SlideImage(\'' + i + '\',\'' + "1" + '\',\'' + DivImgId + '\',\'' + item.MLSId + '\')" alt="" style="float: right;margin-right: -9%;" id="'+BtnNextImgId+'"/></a></div></div>');
            }

            //Row.append('<div style="background: url(/img/picture_area.png); background-repeat: no-repeat; height:100px;border-radius: 6px 6px 0px 0px;"><div class="col-sm-12" style="padding-right:5px"><div style="float: right;"><a href="#"> <img src="' + Is_viewedUrl + '" width="20" height="20" alt=""/></a><a class="rating" href="#"> <img  src=' + isFavUrl + ' width="20" height="20" alt="" onclick="return FavouriteChange(\'' + item.MLSId + '\',\'' + item.Is_Favorite + '\',\'' + ImgfavIdDyn + '\')" id=' + ImgfavIdDyn + ' style="text-decoration:none;"/></a></div></div><div class="col-sm-12" style="margin-top: 6%;"><a href="#">  <img src="/img/SliderBackArrow.png" width="21" height="29" alt="" style="margin-left: -9%;"></a> <a href="#">  <img src="/img/SliderNextArrow.png" width="21" height="29" alt="" style="float: right;margin-right: -9%;"/></a></div></div> ');
            table.append(Row);
            if(usertypeid=="2"){
                var trow = $('<a href="#" onclick="return AgentFullDetailsView(\'' + AgentId + '\',\'' + item.MLSId + '\')"><div class="row" ></div>');
            }
            else{
                var trow = $('<a href="#" onclick="return CustomerFullViewListing(\'' + item.MLSId + '\')"><div class="row" ></div>');
            }

            trow.append('<div class="listiconclass col-sm-2"><img src=' + iconurl + '  alt=""/></div>');
            trow.append('<div class="rightlist_price col-sm-5">' + '$' + " " + num+'</div>');
            trow.append('<div class="col-sm-5 list_gray_text10"><a href="#" id='+item.MLSId+'  style="color:gray;">' + 'MLS#' + item.MLSId + '</a></div>');
            table.append(trow);
            if(item.SoldPrice!="")
            {
                if(usertypeid=="2"){
                    var trow0=$('<a href="#" onclick="return AgentFullDetailsView(\'' + AgentId + '\',\'' + item.MLSId + '\')"><div class="row" style="padding-top:5px"></div>')
                }
                else{
                    var trow0=$('<a href="#" onclick="return CustomerFullViewListing(\'' + item.MLSId + '\')"><div class="row" style="padding-top:5px"></div>')
                }

                trow0.append('<div class="col-sm-2">&nbsp;</div>');

                trow0.append('<div class="col-sm-10 rightlist_price">' + sold + '</div>');
                table.append(trow0);
            }

            if(usertypeid=="2"){
                var trow1 = $('<a href="#" onclick="return AgentFullDetailsView(\'' + AgentId + '\',\'' + item.MLSId + '\')"><div class="row" style="padding-top:2px"></div>')
            }
            else{
                var trow1 = $('<a href="#" onclick="return CustomerFullViewListing(\'' + item.MLSId + '\')"><div class="row" style="padding-top:2px"></div>')
            }
            trow1.append('<div class="col-sm-12 qc_color" style="padding-top:5px;padding-left:5px;padding-right:0px;">'+bedandbaths+'&nbsp ' + acres + '</div>');
            // trow1.append('<td style="float:left;margin-right:-10px;border: 0px !important; color:#FF5D26; font-size:9px;margin-top:5px;padding-left:5px; ">' + acres + '</td>');
            table.append(trow1);
            if(usertypeid=="2"){
                var trow2 = $('<a href="#" onclick="return AgentFullDetailsView(\'' + AgentId + '\',\'' + item.MLSId + '\')"><div class="row"></div>')
            }
            else{
                var trow2 = $('<a href="#" onclick="return CustomerFullViewListing(\'' + item.MLSId + '\')"><div class="row"></div>')
            }
            trow2.append('<div class="col-sm-12 list_gray_text10" style="height:40px;padding-top:5px">' + item.ADDRESKKS + '</div>');
            table.append(trow2);

            ImgfavIdDyn = "FavImg";
            tab.append(table);
        });
        //sorting and binding schools and sub divisions
        middle_schools.sort();
        ele_schools.sort();
        high_schools.sort();
        AllSubDivisionNames.sort();
        bindElemantaryschools(ele_schools)
        bindMiddlechools(middle_schools);
        bindHighchools(high_schools);
        bindsubDivisions(AllSubDivisionNames);
        $("#RightListView").html(tab);
    };
    //Function to get Current Location which is used in #myloc click event
    function geolocate() {
        //if ($('#loc').is(':checked')) {
        //    location.reload();
        //}
       // else {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(function (position) {
                    var pos = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);
                    // Create a marker and center map on user location
                    marker = new google.maps.Marker({
                        position: pos,
                        draggable: true,
                        animation: google.maps.Animation.DROP,
                        raiseOnDrag: true,
                        map: map
                    });
                    map.setCenter(pos);
                });
            }
       // }
    }
    //function which is executed when zoom changed
    function zoomchanged(zoom) {
        if (zoom <= 6) {
            $('#drawpoly').css("visibility", "hidden");
            $('#footer').hide();
            for (var i = 0; i < m.length; i++) {
                m[i].setMap(null);
            }
        }
        else {
            $('#footer').show();
            $('#drawpoly').css("visibility", "visible");
            for (var i = 0; i < m.length; i++) {
                m[i].setMap(map);
            }
        }
    }
    //For RightSide View Div
    var flag_RightCollapse = 0;
    $('#Expand').on('click', function () {
        if (flag_RightCollapse == 0) {
            $("#Expand").attr('class', 'fa fa-angle-double-right');
            $('#googlemaps').animate({
                'marginLeft' : "-=235px" //moves left
            });
            $('#RightListView').animate({ 'width': '460px' }, 'slow', function () {
                $('#RightListView').show();
            });

            flag_RightCollapse = 1;
        }
        else {
            $('#googlemaps').animate({
                'marginLeft' : "+=235px" //moves left
            });
            $("#Expand").attr('class', 'fa fa-angle-left');
            $('#RightListView').animate({ 'width': '225px' }, 'slow', function () {
                $('#RightListView').show();
            });
            flag_RightCollapse = 0;
        }
    });
    function DoubleRightListView() {
    }
    //To relode the data
    //---------------For favorite changes---------------------
    function FavouriteChange(MLSId, IsFav, ImgFavID) {

        var UserID=@PkeyUserId;
        if(UserID==0)
        {
            $('#navLogin').click();
        }
        else
        {
            var Fav = 0;
            var ImgSrc = $("#" + ImgFavID).attr('src');
            if (ImgSrc == "/img/favoriteunfill.png") {
                Fav = 1;
                $.ajax({
                    url: "/Customer/SearchFilter/FavrouriteChanges/",
                    type: "POST",
                    dataType: "json",
                    data: { MLSId: MLSId, Fav: Fav },
                    success: function (data) {

                        if (data == "Sucess") {
                            var ImgSrc = $("#" + ImgFavID).attr('src');
                            if (ImgSrc == "/img/favoriteunfill.png") {
                                $("#" + ImgFavID).attr("src", "/img/hearticon.png");
                            }
                            else {
                                $("#" + ImgFavID).attr("src", "/img/favoriteunfill.png");
                            }
                            //SaveSearchEvt();
                        }
                        else {
                        }
                    },
                    error: function () {
                    }
                });
            }
            else {
                $('#RemoveFavorite').modal('show');
                $('#btnYesRemoveFavorite').click(function () {
                    var Fav = 0;
                    $("#" + ImgFavID).attr("src", "/img/favoriteunfill.png");
                    $.ajax({
                        url: "/Customer/SearchFilter/FavrouriteChanges/",
                        type: "POST",
                        dataType: "json",
                        data: { MLSId: MLSId, Fav: Fav },
                        success: function (data) {
                            if (data == "Sucess") {
                                //SaveSearchEvt();
                            }
                            else {
                            }
                        },
                        error: function () {
                        }
                    });
                });
            }
        }
    };
    //Method to get Saved Search Names Based on User ID
    function getsearchdata()
    {
        $("#searchname").val('');
        $("#savesearchdname").val('');
        $('#ddcontent').empty();
        $("#ddcontent").append($("<option></option>").val('').html('Select One'));
        $("#ddcontent").val("");
        totalsearchname="";
        $.ajax({
            url: "/Customer/SearchFilter/GetSearchNames",
            type: "POST",
            dataType: "json",
            data: "",
            success: function (data) {
                var dlen=data.length;
                $.each(data, function (i, item) {
                    var d= '<a href="#" style="text-decoration:none"><li  id='+item.PK_SaveSearchesID+' onclick="ddSelectedOne(\''+item.PK_SaveSearchesID+'\',\''+ item.Search_Name + '\')">'+item.Search_Name +'</li></a>';
                    if(totalsearchname=="")
                    {
                        totalsearchname=d;
                    }
                    else
                    {
                        totalsearchname=totalsearchname+"<hr style='margin:0'/>"+d;
                    }
                    $("#searchname").append($("<option></option>").val(item.PK_SaveSearchesID).html(item.Search_Name));
                });
                $('#ddcontent').html(totalsearchname);
                if(dlen!=0)
                {
                    var searchidfromsession="";
                    var searchnamefromsession="";
                    searchnamefromsession="@SSNames";
                    searchidfromsession=@SaveSearchId;
                    if(searchidfromsession!="0")
                    {
                        ddSelectedOne(searchidfromsession,searchnamefromsession);
                        $("#searchname").val(searchidfromsession);
                        $("#savesearchdname").val(searchnamefromsession);
                    }
                    else
                    {
                        ddSelectedOne(data[dlen-1].PK_SaveSearchesID,data[dlen-1].Search_Name);
                        $("#searchname").val(data[dlen-1].PK_SaveSearchesID);
                        $("#savesearchdname").val(data[dlen-1].Search_Name);
                    }
                }
           
                if($("#searchname").val()!="")
                {
                    //SaveSearchEvt();
                    $("#footer").show();
                    //$("#googlemaps").width('79%');
                    $("#RightListView").show();
                    $("#expanddiv").show();
                    $(".iconsdiv").show();
                    $("#deletefilters").prop("disabled",false);
                    $("#searchfilters").prop("disabled",false);
                }
                else
                {
                    //$("#heading").text("Alert!");
                    //$("#content_text").text("You Don't have any Saved Searches");
                    //$("#AlertPopup").modal("show");
                    $("#RightListView").hide();
                    $("#footer").hide();
                    $("#expanddiv").hide();
                    //initialize(data);
                    $("#googlemaps").width('100%');
                    $(".iconsdiv").hide();
                }
            }
        });
    }
    // Evnt to remove saved Search
    $("#removeSearchBtn").click(function(){
        var searchID=$("#searchname").val();
        $.ajax({
            url: "/Customer/SavedSearch/DeleteSavedSearch",
            type: "POST",
            dataType: "json",
            data: {searchID : searchID},
            success: function (data) {
                $('#DeleteSavedSearch').modal('hide');
                if(data=="Sucess")
                {
                    $("#heading").text("Success!");
                    $("#content_text").text("Saved Search Filter Removed Successfully");
                    $("#AlertPopup").modal("show");
                    //location.reload();
                    getsearchdata();
                }
                else
                {
                    $("#heading").text("Alert!");
                    $("#content_text").text("Something went wrong..!Failed TO Remove Saved Search");
                    $("#AlertPopup").modal("show");
                }
            },
            error:function(){
                $("#heading").text("Alert!");
                $("#content_text").text("fail to connect controller:");
                $("#AlertPopup").modal("show");
            }
        });
    });
    //Copy Link Event
    var shareSavedSearchURL="";
    $("#copylink").click(function(){
        //$( '#link' ).text(window.location.href);
        var sid=$('#searchname').val();
        var sname=$('#savesearchdname').val();
        shareSavedSearchURL="http://webapp.quitchet.com/Customer/SearchFilter/Index?SSID="+sid;
        $('#link').text(shareSavedSearchURL);
        var clipboard = new Clipboard('.mycopy');
    });
    //Start : share and Copy link from share property Share Propert
    var share_prop_url="";
    //Share Link functionality
    function fbShare(url, title, descr, image) {
        //url=(window.location.href);
        var sid=$('#searchname').val();
        var sname=$('#savesearchdname').val();
        shareSavedSearchURL="http://webapp.quitchet.com/Customer/SearchFilter/Index?SSID="+sid;
        var quote = '';
        var ShareLinkFb='https://www.facebook.com/sharer/sharer.php?u=' + shareSavedSearchURL + '&picture=http://restapi.devobal.com/Images/logomi.png&title=' + title + '&quote=' + quote + '&description=' + descr + '';
        //alert(ShareLinkFb)
        window.open(ShareLinkFb);
    }
    function fbSharegoogle(url, title, descr, image) {
        // url=(window.location.href);
        var sid=$('#searchname').val();
        var sname=$('#savesearchdname').val();
        shareSavedSearchURL="http://webapp.quitchet.com/Customer/SearchFilter/Index?SSID="+sid;
        //url='http://webapp.quitchet.com';
        var quote = '';

        var ShareLinkgoogle='https://plus.google.com/share?url=' + shareSavedSearchURL + '';

        window.open(ShareLinkgoogle);
    }
    function fbSharetwitter(url, title, descr, image) {
        //url=(window.location.href);
        var sid=$('#searchname').val();
        var sname=$('#savesearchdname').val();
        shareSavedSearchURL="http://webapp.quitchet.com/Customer/SearchFilter/Index?SSID="+sid;
        //url='http://webapp.quitchet.com';
        var quote = '';
        var ShareLinkgoogle='https://twitter.com/share?url=' + shareSavedSearchURL + '&picture=http://restapi.devobal.com/Images/logomi.png&title=' + title + '&quote=' + quote + '&description=' + descr + '';
        //alert(ShareLinkgoogle)
        window.open(ShareLinkgoogle);
    }
    function fbSharelinkedin(url, title, descr, image) {
        //url=(window.location.href);
        var sid=$('#searchname').val();
        var sname=$('#savesearchdname').val();
        shareSavedSearchURL="http://webapp.quitchet.com/Customer/SearchFilter/Index?SSID="+sid;
        //url='http://webapp.quitchet.com';
        var quote = '';
        var ShareLinkgoogle='https://www.linkedin.com/shareArticle?mini=true&url=' + shareSavedSearchURL + '&picture=http://restapi.devobal.com/Images/logomi.png&title=' + title + '&quote=' + quote + '&description=' + descr + '';

        window.open(ShareLinkgoogle);
    }

    /* when user click on sort by dropdown item*/
    function GetSavedSearchSortBy(id,el){
        //$("#btnSaveSearchSortby").css("display","none");
        $("#myDropdown").css("display","none");
        $('.dropdownlowprice a.sortbyactive').removeClass('sortbyactive');
        $(el).addClass('sortbyactive');
        var id=parseInt(id);
        sssortbyid=id;
        if(listofMLSIDs.length>0 )
        {
            getListbyMultipleMLSIDs(listofMLSIDs,id);
        }
        else
        {
            SaveSearchEvt();
        }
        switch(id)
        {
            case 1:{ $('#spanSaveSearchSortby').text('Low-High');
            };
                break;
            case 2: { $('#spanSaveSearchSortby').text('High-Low');
            };
                break;
            case 3: { $('#spanSaveSearchSortby').text('Newest');
            };
                break;
            case 4:{ $('#spanSaveSearchSortby').text('Oldest');
            };
                break;
            case 5: { $('#spanSaveSearchSortby').text('Lot Size');
            };
                break;
            case 6: { $('#spanSaveSearchSortby').text('Sq-Ft');
            };
                break;
        }
    }
    //-------Home Filter Popup Functionality Rj
    $('#tabs-demo2-1').click(function(){
        $('#tabs-demo2-1').css("background-color","#ff5d26");
        $('#tabs-demo2-2').css("background-color","#ffffff");
        $('#tabs-demo2-3').css("background-color","#ffffff");
        $('#tabs-demo2-1').css("color","#ffffff");
        $('#tabs-demo2-2').css("color","");
        $('#tabs-demo2-3').css("color","");
    });
    $('#tabs-demo2-2').click(function(){
        $('#tabs-demo2-1').css("background-color","#ffffff");
        $('#tabs-demo2-2').css("background-color","#ff5d26");
        $('#tabs-demo2-3').css("background-color","#ffffff");
        $('#tabs-demo2-1').css("color","");
        $('#tabs-demo2-2').css("color","#ffffff");
        $('#tabs-demo2-3').css("color","");
    });
    $('#tabs-demo2-3').click(function(){
        $('#tabs-demo2-1').css("background-color","#ffffff");
        $('#tabs-demo2-2').css("background-color","#ffffff");
        $('#tabs-demo2-3').css("background-color","#ff5d26");
        $('#tabs-demo2-1').css("color","");
        $('#tabs-demo2-2').css("color","");
        $('#tabs-demo2-3').css("color","#ffffff");
    });
    //-------Lot Filter Popup Functionality Rj
    $('#basicfiltertab').click(function(){
        $('#basicfiltertab').css("background-color","#ff5d26");
        $('#utilityfiltertab').css("background-color","#ffffff");
        $('#basicfiltertab').css("color","#ffffff");
        $('#utilityfiltertab').css("color","");
    });
    $('#utilityfiltertab').click(function(){
        $('#utilityfiltertab').css("background-color","#ff5d26");
        $('#basicfiltertab').css("background-color","#ffffff");
        $('#basicfiltertab').css("color","");
        $('#utilityfiltertab').css("color","#ffffff");
    });

</script>
@*//Script For Property Details PopUp*@
<script>
    function SlideImage(ind,m,imgurlid,Mid)
    {
        var imgarr=[];
        var PvImg="";
        var NxImg="";
        var imageIndex="";
        var bg = $('#'+imgurlid).css('background-image');
        bg = bg.replace('url(','').replace(')','');
        var PhotosURLForSingleMLSID=TotalImages[ind];
        imgarr=PhotosURLForSingleMLSID.split(',');
        for(var i=0;i<imgarr.length;i++)
        {
            if(bg== '"'+imgarr[i]+'"')
            {
                imageIndex=i;
                PvImg=imgarr[i-1];
                NxImg=imgarr[i+1];
            }
        }
        if(m==1)
        {
            if(imageIndex+1==(imgarr.length-1))
            {
                $('#Next'+Mid).hide();
            }
            if(imageIndex-1!=0)
            {
                $('#Prev'+Mid).show();
            }
            $('#'+imgurlid).css('background-image','url('+NxImg +')');
        }
        else{
            if(imageIndex-1==0)
            {
                $('#Prev'+Mid).hide();
            }
            if(imageIndex+1!=(imgarr.length-1))
            {
                $('#Next'+Mid).show();
            }
            $('#'+imgurlid).css('background-image','url('+PvImg +')');
        }
    }
    function ddSelectedOne(id, Name) {
        $('#searchname').val(id);
        $('#savesearchdname').val(Name);
        ddStatus = "Hide";
        $('#ddselect').click();
        var ddshowtext = jQuery.trim(Name).substring(0, 20);
        $('#ddtext').text(ddshowtext);
        if($("#searchname").val()=="")
        {
            $("#searchfilters").prop("disabled",true);
            $("#deletefilters").prop("disabled",true);
            $("#heading").text("Alert!");
            $("#content_text").text("Please Select Saved Search From Dropdown List");
            $("#AlertPopup").modal("show");
        }
        else
        {
            $("#deletefilters").prop("disabled",false);
            $("#searchfilters").prop("disabled",false);
            SaveSearchEvt();
        }
    }
       //For Lot Filter Summery
    function LotSummerNew()
    {
        var MinuteText="";
        var AddressText="";
        var PropText="";
        var PricText="";
        var LotText="";
        var SchoolText="";
        var SubDivisionText="";
        var LotFeaturesText="";
        var WaterTypeText="";
        var SewerText="";


        if(lminutetext!=null && lminutetext!="")
        {
            MinuteText=lminutetext +",";
        }
        if(laddresstext!="")
        {
            AddressText=laddresstext +",";
        }
        if(lpropertytext!="Any" && lpropertytext!="")
        {
            PropText="Property Type: "+lpropertytext+"," ;
        }
        if(lpricetext!="0-10000000")
        {
            PricText="Price Range : "+lpricetext+"," ;
        }
        else
        {
            PricText="Price Range : No Min - No Max," ;
        }
        if(llotacreagetext!="0-50")
        {
            LotText="Lot Acerage : "+llotacreagetext +",";
        }
        else
        {
            LotText="Lot Acerage : No Min - No Max,";
        }
        if(lschooltext!="" && lschooltext!=null)
        {
            SchoolText="School : "+lschooltext +",";
        }
        if(lsubdivtext!="")
        {
            SubDivisionText="Sub Divison : "+lsubdivtext+"," ;
        }
        if(llotfeaturestext!="Any")
        {
            LotFeaturesText="Lot Features : "+llotfeaturestext +",";
        }
        if(lwatertext!="Any")
        {
            WaterTypeText="Water Type : "+lwatertext +",";
        }
        if(lsewerText!="Any")
        {
            SewerText="Sewer Type : "+lsewerText +",";
        }
        $("#lotssummary").text('');
        $("#lotssummary").text(MinuteText +'  '+AddressText +'  '+PropText +'  '+PricText +'  '+LotText +'  '+SchoolText +'  '+SubDivisionText +'  '+LotFeaturesText +'  '+WaterTypeText +'  '+SewerText);
    }
    //For Rental Filter Summery
    function RentalSummerNew()
    {
        var RMinuteText="";
        var RAddressText="";
        var RPropText="";
        var RPricText="";
        var RBathText="";
        var RBedText="";
        var RSqftText="";
        var RSchoolText="";
        var RParkingText2="";
        var RGarageText="";
        var RAgeText="";

        if(rminutestext!=null)
        {
            RMinuteText=rminutestext+"," ;
        }
        if(raddresstext!="")
        {
            RAddressText=raddresstext+"," ;
        }
        if(rpropertytext!="Any" && rpropertytext!="")
        {
            RPropText="Property Type: "+rpropertytext+"," ;
        }
        if(rpricetext!="0-10000000")
        {
            RPricText="Price Range : "+rpricetext+"," ;
        }
        else
        {
            RPricText="Price Range : No Min - No Max," ;
        }
        if(rbathroomstext!="Any")
        {
            RBathText=rbathroomstext+" Bath Rooms,";
        }
        else
        {
            RBathText="Bath Rooms : "+rbathroomstext +",";
        }
        if(rbedroomstext!="Any")
        {
            RBedText=rbedroomstext+" Bed Rooms :," ;
        }
        else
        {
            RBedText="Bed Rooms : "+rbedroomstext+"," ;
        }
        if(rsqfttext!="0-7000")
        {
            RSqftText="SQRT : "+rsqfttext +",";
        }
        else
        {
            RSqftText="SQRT : No Min - No Max,";
        }
        if(rschooltext!="" && rschooltext!=null)
        {
            RSchoolText="School : "+rschooltext +",";
        }
        if(rparkingtext!="Any")
        {
            RParkingText2="Parkings : "+rparkingtext+"," ;
        }
        if(rgaragecaptext!="Any")
        {
            RGarageText=rgaragecaptext+" Garage Capacity ," ;
        }
        if(ragetext!="Any")
        {
            RAgeText="Age : "+ragetext +",";
        }
        $("#rentalsummary").text('');
        $("#rentalsummary").text(RMinuteText +'  '+RAddressText +'  '+RPropText +'  '+RPricText +'  '+RBathText +'  '+RBedText +'  '+RSqftText +'  '+RSchoolText +'  '+RParkingText2 +'  '+RGarageText+'  '+RAgeText);
    }
    //For Home Filter Summery
    function HomeSummeryNew()
    {
        var HMinutes="";
        var HAddress="";
        var HPropertyType="";
        var HPriceRange="";
        var HBathromms="";
        var HBedrooms="";
        var HSQFT="";
        var HSchool="";
        var HGarage="";
        var HMasterBedRoom="";
        var HLotAcreage="";
        var HStories="";
        var HSubDivision="";
        var HGarageCapacity="";
        var HAgeType2="";
        var HLotFeatures2="";
        var HAppliances2="";
        var HFoundation="";
        var HMasterFeature="";
        var HCommunityAmenties="";
        var HExterior="";
        var HLaundry="";
        var HInterior="";
        var HFirePlace="";
        var HFlooring="";
        var HHeatSystem="";
        var HWaterType="";
        var HHeaterType="";
        var HSewerType="";

        if(minutestext!=null)
        {
            HMinutes = "Minutes : " + minutestext+",";
        }
        if(addresstext!="")
        {
            HAddress = "Address : " +addresstext+",";
        }
        if(propertytext!="Any" && propertytext!="")
        {
            HPropertyType= "Property Type :" +propertytext+",";
        }
        if(pricetext!="0-10000000")
        {
            HPriceRange= "Price Range : " + pricetext+",";
        }
        else
        {
            HPriceRange= "Price Range : No Min-No Max,";
        }
        if(bathroomstext!="Any")
        {
            HBathromms= bathroomstext+" Bath Rooms,";
        }
        else
        {
            HBathromms= " Bath Rooms:"+bathroomstext +",";
        }
        if(bedroomstext!="Any")
        {
            HBedrooms=bedroomstext+ " Bed Rooms ,";
        }
        else
        {
            HBedrooms= "Bed Rooms : " + bedroomstext+",";
        }

        if(sqfttext!="0-7000")
        {
            HSQFT= " SQ Feet : " + sqfttext+",";
        }
        else
        {
            HSQFT= " SQ Feet : No Min - No Max";
        }
        if(schooltext!="" && schooltext!=null)
        {
            HSchool="School : " + schooltext+",";
        }
        if(garagetext!="Any")
        {
            HGarage = "Garage : " + garagetext+",";
        }
        if(masterbedroomtext!="Any")
        {
            HMasterBedRoom ="Master Bed Rooms : " + masterbedroomtext+",";
        }

        if(lotacreagetext!="0-50")
        {
            HLotAcreage= "Lot Acreage : " + lotacreagetext+",";
        }
        else
        {
            HLotAcreage= "Lot Acreage :No Min - No Max,";
        }
        if(storiestext!="Any")
        {
            HStories ="Stories : " + storiestext+",";
        }
        if(subdivtext!="")
        {
            HSubDivision ="Sub Division : " + subdivtext+",";
        }

        if(garagecaptext!="Any")
        {
            HGarageCapacity =garagecaptext+" Garage Capacity ,";
        }

        if(agetext!="Any")
        {
            HAgeType2 ="Age Type : " + agetext+",";
        }

        if(lotfeaturestext!="Any")
        {
            HLotFeatures2= "Lot Features : " + lotfeaturestext+",";
        }
        if(appliancestext!="Any")
        {
            HAppliances2 ="Appliances : " + appliancestext+",";
        }
        if(foundationtypetext!="Any")
        {
            HFoundation ="Foundation : " + foundationtypetext+",";
        }
        if(masterfeaturetext!="Any")
        {
            HMasterFeature="Master Features : " + masterfeaturetext+",";
        }
        if(extfeaturestext!="Any")
        {
            HExterior ="Exterior : " + extfeaturestext+",";
        }

        if(laundrytext!="Any")
        {
            HLaundry= "Laundry: " + laundrytext+",";
        }
        if(intfeaturestext!="Any")
        {
            HInterior=" Interior : " + intfeaturestext+",";
        }
        if(fireplacetext!="Any")
        {
            HFirePlace="Fire Place : " + fireplacetext+",";
        }
        if(flooringtext!="Any")
        {
            HFlooring="Flooring : " + flooringtext+",";
        }

        if(communitytext!="Any")
        {
            HCommunityAmenties ="Community Amenties:" + communitytext+",";
        }

        if(heatsystemtext!="Any")
        {
            HHeatSystem ="Heat System : " + heatsystemtext+",";
        }
        if(watertext!="Any")
        {
            HWaterType ="Water Type : " + watertext+",";
        }
        if(heatertypetext!="Any")
        {
            HHeaterType="Heater Type : " + heatertypetext+",";
        }
        if(sewertext!="Any")
        {
            HSewerType ="SewerType : " + sewertext;
        }
        $("#summary1").text('');
        $("#summary1").text(HMinutes+' '+HAddress+' '+HPropertyType+' '+HPriceRange+' '+HBathromms+' '+HBedrooms+' '+HSQFT+' '+HSchool+' '+HGarage+' '+HMasterBedRoom+' '+HLotAcreage+' '+HStories+' '+HSubDivision+' '+HGarageCapacity+' '+HAgeType2+' '+HLotFeatures2+' '+HAppliances2+' '+HFoundation+' '+HMasterFeature+' '+HExterior+' '+HLaundry+' '+HInterior+' '+HFirePlace+' '+HFlooring+' '+HCommunityAmenties+' '+HHeatSystem+' '+HWaterType+' '+HHeaterType+' '+HSewerType);
    }
    
</script>
@*//Auto com[pleted schools and sub divisions]*@
<script>
    var homeinputschools=""; var resultsData = [],AllSubDivisionNames=[];
    var ele_schools=[],middle_schools=[],high_schools=[],subdiv=[],subd="",schools_ele="",schools_middle="",schools_high="",sub_divisions="";
    //----------For Schoolss in Homes Popups------------//
    function bindElemantaryschools(elescholldata){
        subd="";
        var rs="",ls="";
        $.each(elescholldata, function (i, item){
            subd = subd + "<li><input type='checkbox' checked='checked' name='homes_ele_schools'  value='" + elescholldata[i] + "' />&nbsp;&nbsp;&nbsp;" + elescholldata[i] + "</li>";
            rs = rs + "<li><input type='checkbox' checked='checked' name='rental_ele_schools' value='" + elescholldata[i] + "' />&nbsp;&nbsp;&nbsp;" + elescholldata[i] + "</li>";
            ls = ls + "<li><input type='checkbox' checked='checked' name='lots_ele_schools'  value='" + elescholldata[i] + "'/>&nbsp;&nbsp;&nbsp;" + elescholldata[i] + "</li>";
        })
        $('#elementaryschoolscheck').html(subd);
        $('#rentalelementaryschoolscheck').html(rs);
        $('#lotselementaryschoolscheck').html(ls);
    }
    function bindMiddlechools(middleschooldata){
        subd="";var rs="",lots="";
        $.each(middleschooldata, function (i, item){
            subd = subd + "<li><input type='checkbox' checked='checked' name='homes_middle_schools'  value='" + middleschooldata[i] + "' />&nbsp;&nbsp;&nbsp;" + middleschooldata[i] + "</li>";
            rs = rs + "<li><input type='checkbox' checked='checked' name='rental_middle_schools'  value='" + middleschooldata[i] + "''/>&nbsp;&nbsp;&nbsp;" + middleschooldata[i] + "</li>";
            lots = lots + "<li><input type='checkbox' checked='checked' name='lots_middle_schools'  value='" + middleschooldata[i] + "'/>&nbsp;&nbsp;&nbsp;" + middleschooldata[i] + "</li>";
        })
        $('#middleschoolscheck').html(subd);
        $('#rentalmiddleschoolscheck').html(rs);
        $('#lotsmiddleschoolscheck').html(lots);
    }
    function bindHighchools(highschooldata){
        subd="";var rs="",ls="";
        $.each(highschooldata, function (i, item){
            subd = subd + "<li><input type='checkbox' checked='checked' name='homes_high_schools'  value='" + highschooldata[i] + "'/>&nbsp;&nbsp;&nbsp;" + highschooldata[i] + "</li>";
            rs = rs + "<li><input type='checkbox' checked='checked' name='rental_high_schools'  value='" + highschooldata[i] + "'/>&nbsp;&nbsp;&nbsp;" + highschooldata[i] + "</li>";
            ls = ls + "<li><input type='checkbox' checked='checked' name='lots_high_schools' value='" + highschooldata[i] + "'/>&nbsp;&nbsp;&nbsp;" + highschooldata[i] + "</li>";
        })
        $('#highschoolsChecks').html(subd);
        $('#rentalhighschoolsChecks').html(rs);
        $('#lotshighschoolsChecks').html(ls);
    }
    function bindsubDivisions(subdivisionsdata){
            var hsd="",lsd="";
        $.each(subdivisionsdata, function (i, item){
            hsd = hsd + "<li><input type='checkbox' checked='checked' name='homes_subdiv' value='" + subdivisionsdata[i] + "'/>&nbsp;&nbsp;&nbsp;" + subdivisionsdata[i] + "</li>";
            lsd = lsd + "<li><input type='checkbox' checked='checked' name='lots_subdiv'  value='" + subdivisionsdata[i] + "'/>&nbsp;&nbsp;&nbsp;" + subdivisionsdata[i] + "</li>";
        })
        $('#subDivisionChecks').html(hsd);
        $('#Lots_subDivisionChecks').html(lsd);
    }

    //Start--Fome Fiters Schools Code Snippet-///
    $("#elementarybtn").click(function () {
        var cls = $("#eleicon").attr("class");
        if (cls == "glyphicon glyphicon-triangle-bottom") {
            $("#eleicon").attr("class","glyphicon glyphicon-triangle-top");
            $("#elementaryschoolsdiv").show();
            $("#middleschoolsdiv,#highschoolsdiv").hide();
            $("#highicon,#middleicon").attr("class", "glyphicon glyphicon-triangle-bottom");
        }
        else {
            $("#eleicon").attr("class", "glyphicon glyphicon-triangle-bottom");
            $("#elementaryschoolsdiv").hide();
        }
    });
    $("#middlebtn").click(function () {
        var cls = $("#middleicon").attr("class");
        if (cls == "glyphicon glyphicon-triangle-bottom") {
            $("#middleicon").attr("class", "glyphicon glyphicon-triangle-top");
            $("#middleschoolsdiv").show();
            $("#eleicon,#highicon").attr("class", "glyphicon glyphicon-triangle-bottom");
            $("#elementaryschoolsdiv,#highschoolsdiv").hide();
        }
        else {
            $("#middleicon").attr("class", "glyphicon glyphicon-triangle-bottom");
            $("#middleschoolsdiv").hide();
        }
    });
    $("#highbtn").click(function () {
        var cls = $("#highicon").attr("class");
        if (cls == "glyphicon glyphicon-triangle-bottom") {
            $("#highicon").attr("class", "glyphicon glyphicon-triangle-top");
            $("#highschoolsdiv").show();
            $("#eleicon,#middleicon").attr("class", "glyphicon glyphicon-triangle-bottom");
            $("#elementaryschoolsdiv,#middleschoolsdiv").hide();
        }
        else {
            $("#highicon").attr("class", "glyphicon glyphicon-triangle-bottom");
            $("#highschoolsdiv").hide();
        }
    });
    $("#inputSchool").focus(function(){
        //if($(this).focus()==true)
        //    $("#SchoolSearchPopup").hide();
        //else
        $("#SubDivSearchPopup").hide();
            $("#SchoolSearchPopup").show();
    });
    $("#apply_ele_schools").click(function(){
        ele_schools=[],middle_schools=[],high_schools=[];
        $.each($("input[name='homes_ele_schools']:checked"), function () {
            ele_schools.push($(this).val());
        });
        schools_ele=ele_schools.join(',');
        $.each($("input[name='homes_middle_schools']:checked"), function () {
            middle_schools.push($(this).val());
        });
        schools_middle=middle_schools.join(',');
        $.each($("input[name='homes_high_schools']:checked"), function () {
            high_schools.push($(this).val());
        });
        schools_high=high_schools.join(',');
        //alert(schools_ele+"--"+schools_middle+"--"+schools_high);
        ele_schools = (ele_schools=="") ? ele_schools=""+ele_schools :ele_schools=ele_schools+",";
        middle_schools = (middle_schools=="") ? middle_schools=""+middle_schools :middle_schools=middle_schools+",";
        high_schools = (high_schools=="") ? high_schools=""+high_schools :high_schools=high_schools;
        homeinputschools=ele_schools+""+middle_schools+high_schools;
        schooltext=homeinputschools;
        HomeSummeryNew();
        $("#inputSchool").val(homeinputschools);
        $("#SchoolSearchPopup").hide();
    });
    $("#cancel_ele_schools").click(function(){
        $("#SchoolSearchPopup").hide();
        //$("#inputSubDivision").val(homeinputschools);
    });
    //End--Home Fiters Schools Code Snippet-///
    //Start--Rental Fiters Schools Code Snippet-///
    $("#rentalinputSchool").focus(function(){
        $("#RentalSchoolSearchPopup").show();
    });
    $("#rentalelementarybtn").click(function () {
        var cls = $("#rentaleleicon").attr("class");
        if (cls == "glyphicon glyphicon-triangle-bottom") {
            $("#rentaleleicon").attr("class","glyphicon glyphicon-triangle-top");
            $("#rentalelementaryschoolsdiv").show();
            $("#rentalmiddleschoolsdiv,#rentalhighschoolsdiv").hide();
            $("#rentalhighicon,#rentalmiddleicon").attr("class", "glyphicon glyphicon-triangle-bottom");
        }
        else {
            $("#rentaleleicon").attr("class", "glyphicon glyphicon-triangle-bottom");
            $("#rentalelementaryschoolsdiv").hide();
        }
    });
    $("#rentalmiddlebtn").click(function () {
        var cls = $("#rentalmiddleicon").attr("class");
        if (cls == "glyphicon glyphicon-triangle-bottom") {
            $("#rentalmiddleicon").attr("class", "glyphicon glyphicon-triangle-top");
            $("#rentalmiddleschoolsdiv").show();
            $("#rentaleleicon,#rentalhighicon").attr("class", "glyphicon glyphicon-triangle-bottom");
            $("#rentalelementaryschoolsdiv,#rentalhighschoolsdiv").hide();
        }
        else {
            $("#rentalmiddleicon").attr("class", "glyphicon glyphicon-triangle-bottom");
            $("#rentalmiddleschoolsdiv").hide();
        }
    });
    $("#rentalhighbtn").click(function () {
        var cls = $("#rentalhighicon").attr("class");
        if (cls == "glyphicon glyphicon-triangle-bottom") {
            $("#rentalhighicon").attr("class", "glyphicon glyphicon-triangle-top");
            $("#rentalhighschoolsdiv").show();
            $("#rentaleleicon,#rentalmiddleicon").attr("class", "glyphicon glyphicon-triangle-bottom");
            $("#rentalelementaryschoolsdiv,#rentalmiddleschoolsdiv").hide();
        }
        else {
            $("#rentalhighicon").attr("class", "glyphicon glyphicon-triangle-bottom");
            $("#rentalhighschoolsdiv").hide();
        }
    });
    $("#rental_apply_ele_schools").click(function(){
        ele_schools=[],middle_schools=[],high_schools=[],homeinputschools="";
        $.each($("input[name='rental_ele_schools']:checked"), function () {
            ele_schools.push($(this).val());
        });
        schools_ele=ele_schools.join(',');
        $.each($("input[name='rental_middle_schools']:checked"), function () {
            middle_schools.push($(this).val());
        });
        schools_middle=middle_schools.join(',');
        $.each($("input[name='rental_high_schools']:checked"), function () {
            high_schools.push($(this).val());
        });
        schools_high=high_schools.join(',');
       // ele_schools = (ele_schools=="") ? ele_schools=ele_schools :ele_schools=ele_schools+",";
        //middle_schools = (middle_schools=="") ? middle_schools=middle_schools :middle_schools=middle_schools+",";
        //high_schools = (high_schools=="") ? high_schools=high_schools :high_schools=high_schools;
        homeinputschools=ele_schools+" "+middle_schools+" "+high_schools;
        rschooltext=homeinputschools;
        RentalSummerNew();
        $("#rentalinputSchool").val(homeinputschools);
        $("#RentalSchoolSearchPopup").hide();
    });
    $("#rental_cancel_ele_schools").click(function(){
        $("#RentalSchoolSearchPopup").hide();
        //$("#inputSubDivision").val(homeinputschools);
    });
    //End--Fome Fiters Schools Code Snippet-///
    //Start--Rental Fiters Schools Code Snippet-///
    $("#lotselementarybtn").click(function () {
        var cls = $("#lotseleicon").attr("class");
        if (cls == "glyphicon glyphicon-triangle-bottom") {
            $("#lotseleicon").attr("class","glyphicon glyphicon-triangle-top");
            $("#lotselementaryschoolsdiv").show();
            $("#lotsmiddleschoolsdiv,#lotshighschoolsdiv").hide();
            $("#lotshighicon,#lotsmiddleicon").attr("class", "glyphicon glyphicon-triangle-bottom");
        }
        else {
            $("#lotseleicon").attr("class", "glyphicon glyphicon-triangle-bottom");
            $("#lotselementaryschoolsdiv").hide();
        }
    });
    $("#lotsmiddlebtn").click(function () {
        var cls = $("#lotsmiddleicon").attr("class");
        if (cls == "glyphicon glyphicon-triangle-bottom") {
            $("#lotsmiddleicon").attr("class", "glyphicon glyphicon-triangle-top");
            $("#lotsmiddleschoolsdiv").show();
            $("#lotseleicon,#lotshighicon").attr("class", "glyphicon glyphicon-triangle-bottom");
            $("#lotselementaryschoolsdiv,#lotshighschoolsdiv").hide();
        }
        else {
            $("#lotsmiddleicon").attr("class", "glyphicon glyphicon-triangle-bottom");
            $("#lotsmiddleschoolsdiv").hide();
        }
    });
    $("#lotshighbtn").click(function () {
        var cls = $("#lotshighicon").attr("class");
        if (cls == "glyphicon glyphicon-triangle-bottom") {
            $("#lotshighicon").attr("class", "glyphicon glyphicon-triangle-top");
            $("#lotshighschoolsdiv").show();
            $("#lotseleicon,#lotsmiddleicon").attr("class", "glyphicon glyphicon-triangle-bottom");
            $("#lotselementaryschoolsdiv,#lotsmiddleschoolsdiv").hide();
        }
        else {
            $("#lotshighicon").attr("class", "glyphicon glyphicon-triangle-bottom");
            $("#lotshighschoolsdiv").hide();
        }
    });
    $("#lotsinputSchool").focus(function(){
        //if($(this).focus()==true)
        //    $("#SchoolSearchPopup").hide();
        //else
        $("#LotsSchoolSearchPopup").show();
        $("#Lots_SubDivSearchPopup").hide();
    });
    $("#lots_apply_ele_schools").click(function(){
        ele_schools=[],middle_schools=[],high_schools=[];
        $.each($("input[name='lots_ele_schools']:checked"), function () {
            ele_schools.push($(this).val());
        });
        schools_ele=ele_schools.join(',');
        $.each($("input[name='lots_middle_schools']:checked"), function () {
            middle_schools.push($(this).val());
        });
        schools_middle=middle_schools.join(',');
        $.each($("input[name='lots_high_schools']:checked"), function () {
            high_schools.push($(this).val());
        });
        schools_high=high_schools.join(',');
        ele_schools = (ele_schools=="") ? ele_schools=""+ele_schools :ele_schools=ele_schools+",";
        middle_schools = (middle_schools=="") ? middle_schools=""+middle_schools :middle_schools=middle_schools+",";
        high_schools = (high_schools=="") ? high_schools=""+high_schools :high_schools=high_schools;
        homeinputschools=ele_schools+""+middle_schools+high_schools;
        lschooltext=homeinputschools;
        LotSummerNew();
        $("#lotsinputSchool").val(homeinputschools);
        $("#LotsSchoolSearchPopup").hide();
    });
    $("#lots_cancel_ele_schools").click(function(){
        $("#LotsSchoolSearchPopup").hide();
        //$("#inputSubDivision").val(homeinputschools);
    });
    //----------For Schools in Homes Popups------------//

    //-----Start-------For Sub Divisions in Homes and Lots Filter Popups------------//
    function GetDivisions(id) {
        totalcheckeddata = [];totalchecklotssubdiv=[]
        $.each($("input[name='subdivcheckbox']:checked"), function () {
            totalcheckeddata.push($(this).val());
        });
        $.each($("input[name='Lots_subDivisionChecks']:checked"), function () {
            totalchecklotssubdiv.push($(this).val());
        });
    }
    //Input Sub Divisions finctionality in Homes Filter Popup
    $("#inputSubDivision").focus(function(){

        $("#SchoolSearchPopup").hide();
            $("#SubDivSearchPopup").show();
    });
    $("#apply_subdiv_dropdown").click(function(){
        subdiv=[],sub_divisions="";
        $.each($("input[name='homes_subdiv']:checked"), function () {
            subdiv.push($(this).val());
        });
        sub_divisions=subdiv.join(',');
        $("#inputSubDivision").val(sub_divisions);
        $("#SubDivSearchPopup").hide();
        HomeSummeryNew();
    });
    $("#cancel_subdiv_dropdown").click(function(){
        $("#SubDivSearchPopup").hide();
        $("#inputSubDivision").val(totalcheckeddata);
    });

    //Input Sub Divisions finctionality in Lot/Lands Filter Popup
    $("#Lots_apply_subdiv_dropdown").click(function(){
        subdiv=[],sub_divisions="";
        $.each($("input[name='lots_subdiv']:checked"), function () {
            subdiv.push($(this).val());
        });
        lsubdivtext= sub_divisions=subdiv.join(',');
        $("#lotsinputSubDivision").val(sub_divisions);
        $("#Lots_SubDivSearchPopup").hide();
        LotSummerNew();
    });
    $("#Lots_cancel_subdiv_dropdown").click(function(){
        $("#Lots_SubDivSearchPopup").hide();
        $("#lotsinputSubDivision").val(totalchecklotssubdiv);
    });
    $("#lotsinputSubDivision").focus(function(){
        $("#Lots_SubDivSearchPopup").show();
        $("#LotsSchoolSearchPopup").hide();
    });
    //----------End--For Sub Divisions in Homes and Lots Filter Popups------------//
</script>
